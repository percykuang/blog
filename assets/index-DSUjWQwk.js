var j_=Object.defineProperty;var W_=(f,n,r)=>n in f?j_(f,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):f[n]=r;var Jn=(f,n,r)=>W_(f,typeof n!="symbol"?n+"":n,r);function H_(f,n){for(var r=0;r<n.length;r++){const a=n[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in f)){const u=Object.getOwnPropertyDescriptor(a,l);u&&Object.defineProperty(f,l,u.get?u:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var Vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jg(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var yh={exports:{}},pd={},_h={exports:{}},yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function q_(){if(Sm)return yn;Sm=1;var f=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function M(P,X,be){this.props=P,this.context=X,this.refs=A,this.updater=be||k}M.prototype.isReactComponent={},M.prototype.setState=function(P,X){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,X,"setState")},M.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function L(){}L.prototype=M.prototype;function q(P,X,be){this.props=P,this.context=X,this.refs=A,this.updater=be||k}var K=q.prototype=new L;K.constructor=q,R(K,M.prototype),K.isPureReactComponent=!0;var Q=Array.isArray,ue=Object.prototype.hasOwnProperty,_e={current:null},he={key:!0,ref:!0,__self:!0,__source:!0};function me(P,X,be){var Ne,ye={},We=null,Be=null;if(X!=null)for(Ne in X.ref!==void 0&&(Be=X.ref),X.key!==void 0&&(We=""+X.key),X)ue.call(X,Ne)&&!he.hasOwnProperty(Ne)&&(ye[Ne]=X[Ne]);var Ie=arguments.length-2;if(Ie===1)ye.children=be;else if(1<Ie){for(var Ke=Array(Ie),en=0;en<Ie;en++)Ke[en]=arguments[en+2];ye.children=Ke}if(P&&P.defaultProps)for(Ne in Ie=P.defaultProps,Ie)ye[Ne]===void 0&&(ye[Ne]=Ie[Ne]);return{$$typeof:f,type:P,key:We,ref:Be,props:ye,_owner:_e.current}}function Ge(P,X){return{$$typeof:f,type:P.type,key:X,ref:P.ref,props:P.props,_owner:P._owner}}function je(P){return typeof P=="object"&&P!==null&&P.$$typeof===f}function Ee(P){var X={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(be){return X[be]})}var cn=/\/+/g;function qe(P,X){return typeof P=="object"&&P!==null&&P.key!=null?Ee(""+P.key):X.toString(36)}function ge(P,X,be,Ne,ye){var We=typeof P;(We==="undefined"||We==="boolean")&&(P=null);var Be=!1;if(P===null)Be=!0;else switch(We){case"string":case"number":Be=!0;break;case"object":switch(P.$$typeof){case f:case n:Be=!0}}if(Be)return Be=P,ye=ye(Be),P=Ne===""?"."+qe(Be,0):Ne,Q(ye)?(be="",P!=null&&(be=P.replace(cn,"$&/")+"/"),ge(ye,X,be,"",function(en){return en})):ye!=null&&(je(ye)&&(ye=Ge(ye,be+(!ye.key||Be&&Be.key===ye.key?"":(""+ye.key).replace(cn,"$&/")+"/")+P)),X.push(ye)),1;if(Be=0,Ne=Ne===""?".":Ne+":",Q(P))for(var Ie=0;Ie<P.length;Ie++){We=P[Ie];var Ke=Ne+qe(We,Ie);Be+=ge(We,X,be,Ke,ye)}else if(Ke=x(P),typeof Ke=="function")for(P=Ke.call(P),Ie=0;!(We=P.next()).done;)We=We.value,Ke=Ne+qe(We,Ie++),Be+=ge(We,X,be,Ke,ye);else if(We==="object")throw X=String(P),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Be}function re(P,X,be){if(P==null)return P;var Ne=[],ye=0;return ge(P,Ne,"","",function(We){return X.call(be,We,ye++)}),Ne}function ee(P){if(P._status===-1){var X=P._result;X=X(),X.then(function(be){(P._status===0||P._status===-1)&&(P._status=1,P._result=be)},function(be){(P._status===0||P._status===-1)&&(P._status=2,P._result=be)}),P._status===-1&&(P._status=0,P._result=X)}if(P._status===1)return P._result.default;throw P._result}var ie={current:null},j={transition:null},oe={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:j,ReactCurrentOwner:_e};function J(){throw Error("act(...) is not supported in production builds of React.")}return yn.Children={map:re,forEach:function(P,X,be){re(P,function(){X.apply(this,arguments)},be)},count:function(P){var X=0;return re(P,function(){X++}),X},toArray:function(P){return re(P,function(X){return X})||[]},only:function(P){if(!je(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},yn.Component=M,yn.Fragment=r,yn.Profiler=l,yn.PureComponent=q,yn.StrictMode=a,yn.Suspense=b,yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,yn.act=J,yn.cloneElement=function(P,X,be){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var Ne=R({},P.props),ye=P.key,We=P.ref,Be=P._owner;if(X!=null){if(X.ref!==void 0&&(We=X.ref,Be=_e.current),X.key!==void 0&&(ye=""+X.key),P.type&&P.type.defaultProps)var Ie=P.type.defaultProps;for(Ke in X)ue.call(X,Ke)&&!he.hasOwnProperty(Ke)&&(Ne[Ke]=X[Ke]===void 0&&Ie!==void 0?Ie[Ke]:X[Ke])}var Ke=arguments.length-2;if(Ke===1)Ne.children=be;else if(1<Ke){Ie=Array(Ke);for(var en=0;en<Ke;en++)Ie[en]=arguments[en+2];Ne.children=Ie}return{$$typeof:f,type:P.type,key:ye,ref:We,props:Ne,_owner:Be}},yn.createContext=function(P){return P={$$typeof:p,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:u,_context:P},P.Consumer=P},yn.createElement=me,yn.createFactory=function(P){var X=me.bind(null,P);return X.type=P,X},yn.createRef=function(){return{current:null}},yn.forwardRef=function(P){return{$$typeof:g,render:P}},yn.isValidElement=je,yn.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:ee}},yn.memo=function(P,X){return{$$typeof:m,type:P,compare:X===void 0?null:X}},yn.startTransition=function(P){var X=j.transition;j.transition={};try{P()}finally{j.transition=X}},yn.unstable_act=J,yn.useCallback=function(P,X){return ie.current.useCallback(P,X)},yn.useContext=function(P){return ie.current.useContext(P)},yn.useDebugValue=function(){},yn.useDeferredValue=function(P){return ie.current.useDeferredValue(P)},yn.useEffect=function(P,X){return ie.current.useEffect(P,X)},yn.useId=function(){return ie.current.useId()},yn.useImperativeHandle=function(P,X,be){return ie.current.useImperativeHandle(P,X,be)},yn.useInsertionEffect=function(P,X){return ie.current.useInsertionEffect(P,X)},yn.useLayoutEffect=function(P,X){return ie.current.useLayoutEffect(P,X)},yn.useMemo=function(P,X){return ie.current.useMemo(P,X)},yn.useReducer=function(P,X,be){return ie.current.useReducer(P,X,be)},yn.useRef=function(P){return ie.current.useRef(P)},yn.useState=function(P){return ie.current.useState(P)},yn.useSyncExternalStore=function(P,X,be){return ie.current.useSyncExternalStore(P,X,be)},yn.useTransition=function(){return ie.current.useTransition()},yn.version="18.3.1",yn}var xm;function Wg(){return xm||(xm=1,_h.exports=q_()),_h.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function G_(){if(km)return pd;km=1;var f=Wg(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function p(g,b,m){var _,E={},x=null,k=null;m!==void 0&&(x=""+m),b.key!==void 0&&(x=""+b.key),b.ref!==void 0&&(k=b.ref);for(_ in b)a.call(b,_)&&!u.hasOwnProperty(_)&&(E[_]=b[_]);if(g&&g.defaultProps)for(_ in b=g.defaultProps,b)E[_]===void 0&&(E[_]=b[_]);return{$$typeof:n,type:g,key:x,ref:k,props:E,_owner:l.current}}return pd.Fragment=r,pd.jsx=p,pd.jsxs=p,pd}var Tm;function K_(){return Tm||(Tm=1,yh.exports=G_()),yh.exports}var Me=K_(),Se=Wg();const V_=jg(Se),Y_=H_({__proto__:null,default:V_},[Se]);var Yf={},Eh={exports:{}},gi={},wh={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function X_(){return Cm||(Cm=1,function(f){function n(j,oe){var J=j.length;j.push(oe);e:for(;0<J;){var P=J-1>>>1,X=j[P];if(0<l(X,oe))j[P]=oe,j[J]=X,J=P;else break e}}function r(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var oe=j[0],J=j.pop();if(J!==oe){j[0]=J;e:for(var P=0,X=j.length,be=X>>>1;P<be;){var Ne=2*(P+1)-1,ye=j[Ne],We=Ne+1,Be=j[We];if(0>l(ye,J))We<X&&0>l(Be,ye)?(j[P]=Be,j[We]=J,P=We):(j[P]=ye,j[Ne]=J,P=Ne);else if(We<X&&0>l(Be,J))j[P]=Be,j[We]=J,P=We;else break e}}return oe}function l(j,oe){var J=j.sortIndex-oe.sortIndex;return J!==0?J:j.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;f.unstable_now=function(){return u.now()}}else{var p=Date,g=p.now();f.unstable_now=function(){return p.now()-g}}var b=[],m=[],_=1,E=null,x=3,k=!1,R=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(j){for(var oe=r(m);oe!==null;){if(oe.callback===null)a(m);else if(oe.startTime<=j)a(m),oe.sortIndex=oe.expirationTime,n(b,oe);else break;oe=r(m)}}function Q(j){if(A=!1,K(j),!R)if(r(b)!==null)R=!0,ee(ue);else{var oe=r(m);oe!==null&&ie(Q,oe.startTime-j)}}function ue(j,oe){R=!1,A&&(A=!1,L(me),me=-1),k=!0;var J=x;try{for(K(oe),E=r(b);E!==null&&(!(E.expirationTime>oe)||j&&!Ee());){var P=E.callback;if(typeof P=="function"){E.callback=null,x=E.priorityLevel;var X=P(E.expirationTime<=oe);oe=f.unstable_now(),typeof X=="function"?E.callback=X:E===r(b)&&a(b),K(oe)}else a(b);E=r(b)}if(E!==null)var be=!0;else{var Ne=r(m);Ne!==null&&ie(Q,Ne.startTime-oe),be=!1}return be}finally{E=null,x=J,k=!1}}var _e=!1,he=null,me=-1,Ge=5,je=-1;function Ee(){return!(f.unstable_now()-je<Ge)}function cn(){if(he!==null){var j=f.unstable_now();je=j;var oe=!0;try{oe=he(!0,j)}finally{oe?qe():(_e=!1,he=null)}}else _e=!1}var qe;if(typeof q=="function")qe=function(){q(cn)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,re=ge.port2;ge.port1.onmessage=cn,qe=function(){re.postMessage(null)}}else qe=function(){M(cn,0)};function ee(j){he=j,_e||(_e=!0,qe())}function ie(j,oe){me=M(function(){j(f.unstable_now())},oe)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(j){j.callback=null},f.unstable_continueExecution=function(){R||k||(R=!0,ee(ue))},f.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<j?Math.floor(1e3/j):5},f.unstable_getCurrentPriorityLevel=function(){return x},f.unstable_getFirstCallbackNode=function(){return r(b)},f.unstable_next=function(j){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var J=x;x=oe;try{return j()}finally{x=J}},f.unstable_pauseExecution=function(){},f.unstable_requestPaint=function(){},f.unstable_runWithPriority=function(j,oe){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var J=x;x=j;try{return oe()}finally{x=J}},f.unstable_scheduleCallback=function(j,oe,J){var P=f.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?P+J:P):J=P,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=J+X,j={id:_++,callback:oe,priorityLevel:j,startTime:J,expirationTime:X,sortIndex:-1},J>P?(j.sortIndex=J,n(m,j),r(b)===null&&j===r(m)&&(A?(L(me),me=-1):A=!0,ie(Q,J-P))):(j.sortIndex=X,n(b,j),R||k||(R=!0,ee(ue))),j},f.unstable_shouldYield=Ee,f.unstable_wrapCallback=function(j){var oe=x;return function(){var J=x;x=oe;try{return j.apply(this,arguments)}finally{x=J}}}}(Sh)),Sh}var Rm;function Z_(){return Rm||(Rm=1,wh.exports=X_()),wh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function Q_(){if(Am)return gi;Am=1;var f=Wg(),n=Z_();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function u(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function x(e){return b.call(E,e)?!0:b.call(_,e)?!1:m.test(e)?E[e]=!0:(_[e]=!0,!1)}function k(e,t,s,c){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,s,c){if(t===null||typeof t>"u"||k(e,t,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function A(e,t,s,c,h,v,S){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=v,this.removeEmptyString=S}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){M[e]=new A(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];M[t]=new A(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){M[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){M[e]=new A(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){M[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){M[e]=new A(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){M[e]=new A(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){M[e]=new A(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){M[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,q);M[t]=new A(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,q);M[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,q);M[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){M[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)}),M.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){M[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)});function K(e,t,s,c){var h=M.hasOwnProperty(t)?M[t]:null;(h!==null?h.type!==0:c||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,s,h,c)&&(s=null),c||h===null?x(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):h.mustUseProperty?e[h.propertyName]=s===null?h.type===3?!1:"":s:(t=h.attributeName,c=h.attributeNamespace,s===null?e.removeAttribute(t):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,c?e.setAttributeNS(c,t,s):e.setAttribute(t,s))))}var Q=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),_e=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),Ge=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),cn=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),j=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,P;function X(e){if(P===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var be=!1;function Ne(e,t){if(!e||be)return"";be=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(V){var c=V}Reflect.construct(e,[],t)}else{try{t.call()}catch(V){c=V}e.call(t.prototype)}else{try{throw Error()}catch(V){c=V}e()}}catch(V){if(V&&c&&typeof V.stack=="string"){for(var h=V.stack.split(`
`),v=c.stack.split(`
`),S=h.length-1,N=v.length-1;1<=S&&0<=N&&h[S]!==v[N];)N--;for(;1<=S&&0<=N;S--,N--)if(h[S]!==v[N]){if(S!==1||N!==1)do if(S--,N--,0>N||h[S]!==v[N]){var D=`
`+h[S].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=S&&0<=N);break}}}finally{be=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?X(e):""}function ye(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=Ne(e.type,!1),e;case 11:return e=Ne(e.type.render,!1),e;case 1:return e=Ne(e.type,!0),e;default:return""}}function We(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case he:return"Fragment";case _e:return"Portal";case Ge:return"Profiler";case me:return"StrictMode";case qe:return"Suspense";case ge:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ee:return(e.displayName||"Context")+".Consumer";case je:return(e._context.displayName||"Context")+".Provider";case cn:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return t=e.displayName||null,t!==null?t:We(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return We(e(t))}catch{}}return null}function Be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return We(t);case 8:return t===me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ke(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function en(e){var t=Ke(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),c=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,v=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(S){c=""+S,v.call(this,S)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _n(e){e._valueTracker||(e._valueTracker=en(e))}function Rn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),c="";return e&&(c=Ke(e)?e.checked?"true":"false":e.value),e=c,e!==s?(t.setValue(e),!0):!1}function qn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gn(e,t){var s=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function hr(e,t){var s=t.defaultValue==null?"":t.defaultValue,c=t.checked!=null?t.checked:t.defaultChecked;s=Ie(t.value!=null?t.value:s),e._wrapperState={initialChecked:c,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xr(e,t){t=t.checked,t!=null&&K(e,"checked",t,!1)}function it(e,t){Xr(e,t);var s=Ie(t.value),c=t.type;if(s!=null)c==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zr(e,t.type,s):t.hasOwnProperty("defaultValue")&&Zr(e,t.type,Ie(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cr(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var c=t.type;if(!(c!=="submit"&&c!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Zr(e,t,s){(t!=="number"||qn(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Dt=Array.isArray;function Yn(e,t,s,c){if(e=e.options,t){t={};for(var h=0;h<s.length;h++)t["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=t.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&c&&(e[s].defaultSelected=!0)}else{for(s=""+Ie(s),t=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Rr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gr(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(r(92));if(Dt(s)){if(1<s.length)throw Error(r(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ie(s)}}function Rt(e,t){var s=Ie(t.value),c=Ie(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),c!=null&&(e.defaultValue=""+c)}function pt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function et(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?et(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bt,Qr=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,c,h){MSApp.execUnsafeLocalFunction(function(){return e(t,s,c,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bt=Bt||document.createElement("div"),Bt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ft(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ar=["Webkit","ms","Moz","O"];Object.keys(mr).forEach(function(e){Ar.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mr[t]=mr[e]})});function Mr(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||mr.hasOwnProperty(e)&&mr[e]?(""+t).trim():t+"px"}function St(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var c=s.indexOf("--")===0,h=Mr(s,t[s],c);s==="float"&&(s="cssFloat"),c?e.setProperty(s,h):e[s]=h}}var vr=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(e,t){if(t){if(vr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(r(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(t.style!=null&&typeof t.style!="object")throw Error(r(62))}}function Or(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bi=null;function Pr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gn=null,Gt=null,ct=null;function Ir(e){if(e=Zt(e)){if(typeof gn!="function")throw Error(r(280));var t=e.stateNode;t&&(t=Yl(t),gn(e.stateNode,e.type,t))}}function I(e){Gt?ct?ct.push(e):ct=[e]:Gt=e}function Y(){if(Gt){var e=Gt,t=ct;if(ct=Gt=null,Ir(e),t)for(e=0;e<t.length;e++)Ir(t[e])}}function ve(e,t){return e(t)}function nn(){}var Fn=!1;function Un(e,t,s){if(Fn)return e(t,s);Fn=!0;try{return ve(e,t,s)}finally{Fn=!1,(Gt!==null||ct!==null)&&(nn(),Y())}}function Oe(e,t){var s=e.stateNode;if(s===null)return null;var c=Yl(s);if(c===null)return null;s=c[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var ke=!1;if(g)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){ke=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{ke=!1}function kn(e,t,s,c,h,v,S,N,D){var V=Array.prototype.slice.call(arguments,3);try{t.apply(s,V)}catch(ae){this.onError(ae)}}var Pn=!1,Lr=null,yi=!1,_i=null,zs={onError:function(e){Pn=!0,Lr=e}};function or(e,t,s,c,h,v,S,N,D){Pn=!1,Lr=null,kn.apply(zs,arguments)}function Bs(e,t,s,c,h,v,S,N,D){if(or.apply(this,arguments),Pn){if(Pn){var V=Lr;Pn=!1,Lr=null}else throw Error(r(198));yi||(yi=!0,_i=V)}}function Jr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Ro(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ao(e){if(Jr(e)!==e)throw Error(r(188))}function Mo(e){var t=e.alternate;if(!t){if(t=Jr(e),t===null)throw Error(r(188));return t!==e?null:e}for(var s=e,c=t;;){var h=s.return;if(h===null)break;var v=h.alternate;if(v===null){if(c=h.return,c!==null){s=c;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===s)return Ao(h),e;if(v===c)return Ao(h),t;v=v.sibling}throw Error(r(188))}if(s.return!==c.return)s=h,c=v;else{for(var S=!1,N=h.child;N;){if(N===s){S=!0,s=h,c=v;break}if(N===c){S=!0,c=h,s=v;break}N=N.sibling}if(!S){for(N=v.child;N;){if(N===s){S=!0,s=v,c=h;break}if(N===c){S=!0,c=v,s=h;break}N=N.sibling}if(!S)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:t}function Ue(e){return e=Mo(e),e!==null?B(e):null}function B(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B(e);if(t!==null)return t;e=e.sibling}return null}var de=n.unstable_scheduleCallback,Ce=n.unstable_cancelCallback,An=n.unstable_shouldYield,ht=n.unstable_requestPaint,ln=n.unstable_now,At=n.unstable_getCurrentPriorityLevel,Kt=n.unstable_ImmediatePriority,Dr=n.unstable_UserBlockingPriority,ot=n.unstable_NormalPriority,fe=n.unstable_LowPriority,Fe=n.unstable_IdlePriority,fn=null,vn=null;function gt(e){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(fn,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:Vt,Ei=Math.log,os=Math.LN2;function Vt(e){return e>>>=0,e===0?32:31-(Ei(e)/os|0)|0}var Ut=64,ss=4194304;function so(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Li(e,t){var s=e.pendingLanes;if(s===0)return 0;var c=0,h=e.suspendedLanes,v=e.pingedLanes,S=s&268435455;if(S!==0){var N=S&~h;N!==0?c=so(N):(v&=S,v!==0&&(c=so(v)))}else S=s&~h,S!==0?c=so(S):v!==0&&(c=so(v));if(c===0)return 0;if(t!==0&&t!==c&&(t&h)===0&&(h=c&-c,v=t&-t,h>=v||h===16&&(v&4194240)!==0))return t;if((c&4)!==0&&(c|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=c;0<t;)s=31-st(t),h=1<<s,c|=e[s],t&=~h;return c}function kl(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zc(e,t){for(var s=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,v=e.pendingLanes;0<v;){var S=31-st(v),N=1<<S,D=h[S];D===-1?((N&s)===0||(N&c)!==0)&&(h[S]=kl(N,t)):D<=t&&(e.expiredLanes|=N),v&=~N}}function Fs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ka(){var e=Ut;return Ut<<=1,(Ut&4194240)===0&&(Ut=64),e}function Di(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function No(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=s}function zr(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<s;){var h=31-st(s),v=1<<h;t[h]=0,c[h]=-1,e[h]=-1,s&=~v}}function as(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var c=31-st(s),h=1<<c;h&t|e[c]&t&&(e[c]|=t),s&=~h}}var En=0;function Qe(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Us,ut,Dn,Oo,wi,Po=!1,ao=[],we=null,Le=null,tn=null,bn=new Map,dt=new Map,Mt=[],Qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tl(e,t){switch(e){case"focusin":case"focusout":we=null;break;case"dragenter":case"dragleave":Le=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function ls(e,t,s,c,h,v){return e===null||e.nativeEvent!==v?(e={blockedOn:t,domEventName:s,eventSystemFlags:c,nativeEvent:v,targetContainers:[h]},t!==null&&(t=Zt(t),t!==null&&ut(t)),e):(e.eventSystemFlags|=c,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function xp(e,t,s,c,h){switch(t){case"focusin":return we=ls(we,e,t,s,c,h),!0;case"dragenter":return Le=ls(Le,e,t,s,c,h),!0;case"mouseover":return tn=ls(tn,e,t,s,c,h),!0;case"pointerover":var v=h.pointerId;return bn.set(v,ls(bn.get(v)||null,e,t,s,c,h)),!0;case"gotpointercapture":return v=h.pointerId,dt.set(v,ls(dt.get(v)||null,e,t,s,c,h)),!0}return!1}function Pd(e){var t=Ui(e.target);if(t!==null){var s=Jr(t);if(s!==null){if(t=s.tag,t===13){if(t=Ro(s),t!==null){e.blockedOn=t,wi(e.priority,function(){Dn(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);bi=c,s.target.dispatchEvent(c),bi=null}else return t=Zt(s),t!==null&&ut(t),e.blockedOn=s,!1;t.shift()}return!0}function Id(e,t,s){Cl(e)&&s.delete(t)}function kp(){Po=!1,we!==null&&Cl(we)&&(we=null),Le!==null&&Cl(Le)&&(Le=null),tn!==null&&Cl(tn)&&(tn=null),bn.forEach(Id),dt.forEach(Id)}function zn(e,t){e.blockedOn===t&&(e.blockedOn=null,Po||(Po=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kp)))}function In(e){function t(h){return zn(h,e)}if(0<ao.length){zn(ao[0],e);for(var s=1;s<ao.length;s++){var c=ao[s];c.blockedOn===e&&(c.blockedOn=null)}}for(we!==null&&zn(we,e),Le!==null&&zn(Le,e),tn!==null&&zn(tn,e),bn.forEach(t),dt.forEach(t),s=0;s<Mt.length;s++)c=Mt[s],c.blockedOn===e&&(c.blockedOn=null);for(;0<Mt.length&&(s=Mt[0],s.blockedOn===null);)Pd(s),s.blockedOn===null&&Mt.shift()}var $s=Q.ReactCurrentBatchConfig,Rl=!0;function Tp(e,t,s,c){var h=En,v=$s.transition;$s.transition=null;try{En=1,Jc(e,t,s,c)}finally{En=h,$s.transition=v}}function Cp(e,t,s,c){var h=En,v=$s.transition;$s.transition=null;try{En=4,Jc(e,t,s,c)}finally{En=h,$s.transition=v}}function Jc(e,t,s,c){if(Rl){var h=Ml(e,t,s,c);if(h===null)mu(e,t,c,Al,s),Tl(e,c);else if(xp(h,e,t,s,c))c.stopPropagation();else if(Tl(e,c),t&4&&-1<Qc.indexOf(e)){for(;h!==null;){var v=Zt(h);if(v!==null&&Us(v),v=Ml(e,t,s,c),v===null&&mu(e,t,c,Al,s),v===h)break;h=v}h!==null&&c.stopPropagation()}else mu(e,t,c,null,s)}}var Al=null;function Ml(e,t,s,c){if(Al=null,e=Pr(c),e=Ui(e),e!==null)if(t=Jr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Ro(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Al=e,null}function Ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(At()){case Kt:return 1;case Dr:return 4;case ot:case fe:return 16;case Fe:return 536870912;default:return 16}default:return 16}}var nt=null,Ta=null,zi=null;function eu(){if(zi)return zi;var e,t=Ta,s=t.length,c,h="value"in nt?nt.value:nt.textContent,v=h.length;for(e=0;e<s&&t[e]===h[e];e++);var S=s-e;for(c=1;c<=S&&t[s-c]===h[v-c];c++);return zi=h.slice(e,1<c?1-c:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function nu(){return!1}function br(e){function t(s,c,h,v,S){this._reactName=s,this._targetInst=h,this.type=c,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(s=e[N],this[N]=s?s(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?sr:nu,this.isPropagationStopped=nu,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),t}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=br(cs),Ws=J({},cs,{view:0,detail:0}),Dd=br(Ws),ar,tu,Yt,Ol=J({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&e.type==="mousemove"?(ar=e.screenX-Yt.screenX,tu=e.screenY-Yt.screenY):tu=ar=0,Yt=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:tu}}),ru=br(Ol),Io=J({},Ol,{dataTransfer:0}),Pl=br(Io),iu=J({},Ws,{relatedTarget:0}),Kn=br(iu),Lo=J({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=br(Lo),Rp=J({},cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),su=br(Rp),Ap=J({},cs,{data:0}),zd=br(Ap),Mp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Il={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Il[e])?!!t[e]:!1}function au(){return Hs}var Fd=J({},Ws,{key:function(e){if(e.key){var t=Mp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ud=br(Fd),lu=J({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=br(lu),$d=J({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),Np=br($d),cu=J({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),uu=br(cu),Op=J({},Ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jd=br(Op),Br=[9,13,27,32],Ca=g&&"CompositionEvent"in window,lo=null;g&&"documentMode"in document&&(lo=document.documentMode);var Wd=g&&"TextEvent"in window&&!lo,du=g&&(!Ca||lo&&8<lo&&11>=lo),Hd=" ",qd=!1;function Gd(e,t){switch(e){case"keyup":return Br.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function Gs(e,t){switch(e){case"compositionend":return Kd(t);case"keypress":return t.which!==32?null:(qd=!0,Hd);case"textInput":return e=t.data,e===Hd&&qd?null:e;default:return null}}function Pp(e,t){if(qs)return e==="compositionend"||!Ca&&Gd(e,t)?(e=eu(),zi=Ta=nt=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return du&&t.locale!=="ko"?null:t.data;default:return null}}var Ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ip[e.type]:t==="textarea"}function fu(e,t,s,c){I(c),t=ql(t,"onChange"),0<t.length&&(s=new Nl("onChange","change",null,s,c),e.push({event:s,listeners:t}))}var ei=null,Do=null;function Lp(e){ef(e,0)}function zl(e){var t=un(e);if(Rn(t))return e}function Dp(e,t){if(e==="change")return t}var us=!1;if(g){var Fr;if(g){var Bl="oninput"in document;if(!Bl){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),Bl=typeof Vd.oninput=="function"}Fr=Bl}else Fr=!1;us=Fr&&(!document.documentMode||9<document.documentMode)}function Yd(){ei&&(ei.detachEvent("onpropertychange",Xd),Do=ei=null)}function Xd(e){if(e.propertyName==="value"&&zl(Do)){var t=[];fu(t,Do,e,Pr(e)),Un(Lp,t)}}function zp(e,t,s){e==="focusin"?(Yd(),ei=t,Do=s,ei.attachEvent("onpropertychange",Xd)):e==="focusout"&&Yd()}function Bp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(Do)}function Ks(e,t){if(e==="click")return zl(t)}function U(e,t){if(e==="input"||e==="change")return zl(t)}function Z(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var G=typeof Object.is=="function"?Object.is:Z;function Re(e,t){if(G(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),c=Object.keys(t);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var h=s[c];if(!b.call(t,h)||!G(e[h],t[h]))return!1}return!0}function an(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mn(e,t){var s=an(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=t&&c>=t)return{node:s,offset:t-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=an(s)}}function yt(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yt(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $n(){for(var e=window,t=qn();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=qn(e.document)}return t}function Ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fp(e){var t=$n(),s=e.focusedElem,c=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&yt(s.ownerDocument.documentElement,s)){if(c!==null&&Ra(s)){if(t=c.start,e=c.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=s.textContent.length,v=Math.min(c.start,h);c=c.end===void 0?v:Math.min(c.end,h),!e.extend&&v>c&&(h=c,c=v,v=h),h=Mn(s,v);var S=Mn(s,c);h&&S&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),v>c?(e.addRange(t),e.extend(S.node,S.offset)):(t.setEnd(S.node,S.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ni=g&&"documentMode"in document&&11>=document.documentMode,co=null,pu=null,Bi=null,Vs=!1;function Aa(e,t,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vs||co==null||co!==qn(c)||(c=co,"selectionStart"in c&&Ra(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bi&&Re(Bi,c)||(Bi=c,c=ql(pu,"onSelect"),0<c.length&&(t=new Nl("onSelect","select",null,t,s),e.push({event:t,listeners:c}),t.target=co)))}function Nn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ys={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionend:Nn("Transition","TransitionEnd")},Fl={},Ma={};g&&(Ma=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Ul(e){if(Fl[e])return Fl[e];if(!Ys[e])return e;var t=Ys[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Ma)return Fl[e]=t[s];return e}var Zd=Ul("animationend"),Qd=Ul("animationiteration"),Na=Ul("animationstart"),uo=Ul("transitionend"),Oa=new Map,hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(e,t){Oa.set(e,t),u(t,[e])}for(var $l=0;$l<hu.length;$l++){var jl=hu[$l],Wl=jl.toLowerCase(),Jd=jl[0].toUpperCase()+jl.slice(1);Si(Wl,"on"+Jd)}Si(Zd,"onAnimationEnd"),Si(Qd,"onAnimationIteration"),Si(Na,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(uo,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ds=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function Pa(e,t,s){var c=e.type||"unknown-event";e.currentTarget=s,Bs(c,t,void 0,e),e.currentTarget=null}function ef(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],h=c.event;c=c.listeners;e:{var v=void 0;if(t)for(var S=c.length-1;0<=S;S--){var N=c[S],D=N.instance,V=N.currentTarget;if(N=N.listener,D!==v&&h.isPropagationStopped())break e;Pa(h,N,V),v=D}else for(S=0;S<c.length;S++){if(N=c[S],D=N.instance,V=N.currentTarget,N=N.listener,D!==v&&h.isPropagationStopped())break e;Pa(h,N,V),v=D}}}if(yi)throw e=_i,yi=!1,_i=null,e}function Xn(e,t){var s=t[Vl];s===void 0&&(s=t[Vl]=new Set);var c=e+"__bubble";s.has(c)||(Hl(t,e,2,!1),s.add(c))}function gu(e,t,s){var c=0;t&&(c|=4),Hl(s,e,c,t)}var fs="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[fs]){e[fs]=!0,a.forEach(function(s){s!=="selectionchange"&&(ds.has(s)||gu(s,!1,e),gu(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fs]||(t[fs]=!0,gu("selectionchange",!1,t))}}function Hl(e,t,s,c){switch(Ld(t)){case 1:var h=Tp;break;case 4:h=Cp;break;default:h=Jc}s=h.bind(null,t,s,e),h=void 0,!ke||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(t,s,{capture:!0,passive:h}):e.addEventListener(t,s,!0):h!==void 0?e.addEventListener(t,s,{passive:h}):e.addEventListener(t,s,!1)}function mu(e,t,s,c,h){var v=c;if((t&1)===0&&(t&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var N=c.stateNode.containerInfo;if(N===h||N.nodeType===8&&N.parentNode===h)break;if(S===4)for(S=c.return;S!==null;){var D=S.tag;if((D===3||D===4)&&(D=S.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;S=S.return}for(;N!==null;){if(S=Ui(N),S===null)return;if(D=S.tag,D===5||D===6){c=v=S;continue e}N=N.parentNode}}c=c.return}Un(function(){var V=v,ae=Pr(s),ce=[];e:{var se=Oa.get(e);if(se!==void 0){var Ae=Nl,De=e;switch(e){case"keypress":if(js(s)===0)break e;case"keydown":case"keyup":Ae=Ud;break;case"focusin":De="focus",Ae=Kn;break;case"focusout":De="blur",Ae=Kn;break;case"beforeblur":case"afterblur":Ae=Kn;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=Pl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=Np;break;case Zd:case Qd:case Na:Ae=ou;break;case uo:Ae=uu;break;case"scroll":Ae=Dd;break;case"wheel":Ae=jd;break;case"copy":case"cut":case"paste":Ae=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=Ll}var ze=(t&4)!==0,vt=!ze&&e==="scroll",W=ze?se!==null?se+"Capture":null:se;ze=[];for(var F=V,H;F!==null;){H=F;var pe=H.stateNode;if(H.tag===5&&pe!==null&&(H=pe,W!==null&&(pe=Oe(F,W),pe!=null&&ze.push(Xs(F,pe,H)))),vt)break;F=F.return}0<ze.length&&(se=new Ae(se,De,null,s,ae),ce.push({event:se,listeners:ze}))}}if((t&7)===0){e:{if(se=e==="mouseover"||e==="pointerover",Ae=e==="mouseout"||e==="pointerout",se&&s!==bi&&(De=s.relatedTarget||s.fromElement)&&(Ui(De)||De[Ur]))break e;if((Ae||se)&&(se=ae.window===ae?ae:(se=ae.ownerDocument)?se.defaultView||se.parentWindow:window,Ae?(De=s.relatedTarget||s.toElement,Ae=V,De=De?Ui(De):null,De!==null&&(vt=Jr(De),De!==vt||De.tag!==5&&De.tag!==6)&&(De=null)):(Ae=null,De=V),Ae!==De)){if(ze=ru,pe="onMouseLeave",W="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(ze=Ll,pe="onPointerLeave",W="onPointerEnter",F="pointer"),vt=Ae==null?se:un(Ae),H=De==null?se:un(De),se=new ze(pe,F+"leave",Ae,s,ae),se.target=vt,se.relatedTarget=H,pe=null,Ui(ae)===V&&(ze=new ze(W,F+"enter",De,s,ae),ze.target=H,ze.relatedTarget=vt,pe=ze),vt=pe,Ae&&De)n:{for(ze=Ae,W=De,F=0,H=ze;H;H=Zs(H))F++;for(H=0,pe=W;pe;pe=Zs(pe))H++;for(;0<F-H;)ze=Zs(ze),F--;for(;0<H-F;)W=Zs(W),H--;for(;F--;){if(ze===W||W!==null&&ze===W.alternate)break n;ze=Zs(ze),W=Zs(W)}ze=null}else ze=null;Ae!==null&&_t(ce,se,Ae,ze,!1),De!==null&&vt!==null&&_t(ce,vt,De,ze,!0)}}e:{if(se=V?un(V):window,Ae=se.nodeName&&se.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&se.type==="file")var $e=Dp;else if(Dl(se))if(us)$e=U;else{$e=Bp;var Ze=zp}else(Ae=se.nodeName)&&Ae.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&($e=Ks);if($e&&($e=$e(e,V))){fu(ce,$e,s,ae);break e}Ze&&Ze(e,se,V),e==="focusout"&&(Ze=se._wrapperState)&&Ze.controlled&&se.type==="number"&&Zr(se,"number",se.value)}switch(Ze=V?un(V):window,e){case"focusin":(Dl(Ze)||Ze.contentEditable==="true")&&(co=Ze,pu=V,Bi=null);break;case"focusout":Bi=pu=co=null;break;case"mousedown":Vs=!0;break;case"contextmenu":case"mouseup":case"dragend":Vs=!1,Aa(ce,s,ae);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":Aa(ce,s,ae)}var Xe;if(Ca)e:{switch(e){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else qs?Gd(e,s)&&(rn="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(rn="onCompositionStart");rn&&(du&&s.locale!=="ko"&&(qs||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&qs&&(Xe=eu()):(nt=ae,Ta="value"in nt?nt.value:nt.textContent,qs=!0)),Ze=ql(V,rn),0<Ze.length&&(rn=new zd(rn,e,null,s,ae),ce.push({event:rn,listeners:Ze}),Xe?rn.data=Xe:(Xe=Kd(s),Xe!==null&&(rn.data=Xe)))),(Xe=Wd?Gs(e,s):Pp(e,s))&&(V=ql(V,"onBeforeInput"),0<V.length&&(ae=new zd("onBeforeInput","beforeinput",null,s,ae),ce.push({event:ae,listeners:V}),ae.data=Xe))}ef(ce,t)})}function Xs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ql(e,t){for(var s=t+"Capture",c=[];e!==null;){var h=e,v=h.stateNode;h.tag===5&&v!==null&&(h=v,v=Oe(e,s),v!=null&&c.unshift(Xs(e,v,h)),v=Oe(e,t),v!=null&&c.push(Xs(e,v,h))),e=e.return}return c}function Zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _t(e,t,s,c,h){for(var v=t._reactName,S=[];s!==null&&s!==c;){var N=s,D=N.alternate,V=N.stateNode;if(D!==null&&D===c)break;N.tag===5&&V!==null&&(N=V,h?(D=Oe(s,v),D!=null&&S.unshift(Xs(s,D,N))):h||(D=Oe(s,v),D!=null&&S.push(Xs(s,D,N)))),s=s.return}S.length!==0&&e.push({event:t,listeners:S})}var Xt=/\r\n?/g,Up=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(Xt,`
`).replace(Up,"")}function Ia(e,t,s){if(t=nf(t),nf(e)!==t&&s)throw Error(r(425))}function Gl(){}var La=null,ps=null;function Da(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,za=typeof clearTimeout=="function"?clearTimeout:void 0,Qs=typeof Promise=="function"?Promise:void 0,Kl=typeof queueMicrotask=="function"?queueMicrotask:typeof Qs<"u"?function(e){return Qs.resolve(null).then(e).catch(Js)}:Bo;function Js(e){setTimeout(function(){throw e})}function vu(e,t){var s=t,c=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(c===0){e.removeChild(h),In(t);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=h}while(s);In(t)}function Fo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Fi="__reactFiber$"+ea,Uo="__reactProps$"+ea,Ur="__reactContainer$"+ea,Vl="__reactEvents$"+ea,T="__reactListeners$"+ea,na="__reactHandles$"+ea;function Ui(e){var t=e[Fi];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ur]||s[Fi]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=tf(e);e!==null;){if(s=e[Fi])return s;e=tf(e)}return t}e=s,s=e.parentNode}return null}function Zt(e){return e=e[Fi]||e[Ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Yl(e){return e[Uo]||null}var bu=[],ta=-1;function yr(e){return{current:e}}function Zn(e){0>ta||(e.current=bu[ta],bu[ta]=null,ta--)}function Vn(e,t){ta++,bu[ta]=e.current,e.current=t}var $o={},Qt=yr($o),_r=yr(!1),lr=$o;function ra(e,t){var s=e.type.contextTypes;if(!s)return $o;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===t)return c.__reactInternalMemoizedMaskedChildContext;var h={},v;for(v in s)h[v]=t[v];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function Er(e){return e=e.childContextTypes,e!=null}function Xl(){Zn(_r),Zn(Qt)}function rf(e,t,s){if(Qt.current!==$o)throw Error(r(168));Vn(Qt,t),Vn(_r,s)}function of(e,t,s){var c=e.stateNode;if(t=t.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var h in c)if(!(h in t))throw Error(r(108,Be(e)||"Unknown",h));return J({},s,c)}function ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,lr=Qt.current,Vn(Qt,e),Vn(_r,_r.current),!0}function sf(e,t,s){var c=e.stateNode;if(!c)throw Error(r(169));s?(e=of(e,t,lr),c.__reactInternalMemoizedMergedChildContext=e,Zn(_r),Zn(Qt),Vn(Qt,e)):Zn(_r),Vn(_r,s)}var po=null,Zl=!1,yu=!1;function af(e){po===null?po=[e]:po.push(e)}function hs(e){Zl=!0,af(e)}function jo(){if(!yu&&po!==null){yu=!0;var e=0,t=En;try{var s=po;for(En=1;e<s.length;e++){var c=s[e];do c=c(!0);while(c!==null)}po=null,Zl=!1}catch(h){throw po!==null&&(po=po.slice(e+1)),de(Kt,jo),h}finally{En=t,yu=!1}}return null}var ia=[],Jt=0,Ql=null,Jl=0,ri=[],ii=0,gs=null,$i=1,ji="";function ms(e,t){ia[Jt++]=Jl,ia[Jt++]=Ql,Ql=e,Jl=t}function lf(e,t,s){ri[ii++]=$i,ri[ii++]=ji,ri[ii++]=gs,gs=e;var c=$i;e=ji;var h=32-st(c)-1;c&=~(1<<h),s+=1;var v=32-st(t)+h;if(30<v){var S=h-h%5;v=(c&(1<<S)-1).toString(32),c>>=S,h-=S,$i=1<<32-st(t)+h|s<<h|c,ji=v+e}else $i=1<<v|s<<h|c,ji=e}function Ba(e){e.return!==null&&(ms(e,1),lf(e,1,0))}function vs(e){for(;e===Ql;)Ql=ia[--Jt],ia[Jt]=null,Jl=ia[--Jt],ia[Jt]=null;for(;e===gs;)gs=ri[--ii],ri[ii]=null,ji=ri[--ii],ri[ii]=null,$i=ri[--ii],ri[ii]=null}var er=null,$r=null,Qn=!1,xi=null;function Wi(e,t){var s=di(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function ec(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,$r=Fo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,$r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=gs!==null?{id:$i,overflow:ji}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=di(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,er=e,$r=null,!0):!1;default:return!1}}function ho(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wr(e){if(Qn){var t=$r;if(t){var s=t;if(!ec(e,t)){if(ho(e))throw Error(r(418));t=Fo(s.nextSibling);var c=er;t&&ec(e,t)?Wi(c,s):(e.flags=e.flags&-4097|2,Qn=!1,er=e)}}else{if(ho(e))throw Error(r(418));e.flags=e.flags&-4097|2,Qn=!1,er=e}}}function cf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function Fa(e){if(e!==er)return!1;if(!Qn)return cf(e),Qn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Da(e.type,e.memoizedProps)),t&&(t=$r)){if(ho(e))throw _u(),Error(r(418));for(;t;)Wi(e,t),t=Fo(t.nextSibling)}if(cf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){$r=Fo(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}$r=null}}else $r=er?Fo(e.stateNode.nextSibling):null;return!0}function _u(){for(var e=$r;e;)e=Fo(e.nextSibling)}function Hi(){$r=er=null,Qn=!1}function qi(e){xi===null?xi=[e]:xi.push(e)}var uf=Q.ReactCurrentBatchConfig;function Ua(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var c=s.stateNode}if(!c)throw Error(r(147,e));var h=c,v=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===v?t.ref:(t=function(S){var N=h.refs;S===null?delete N[v]:N[v]=S},t._stringRef=v,t)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function df(e){var t=e._init;return t(e._payload)}function Eu(e){function t(W,F){if(e){var H=W.deletions;H===null?(W.deletions=[F],W.flags|=16):H.push(F)}}function s(W,F){if(!e)return null;for(;F!==null;)t(W,F),F=F.sibling;return null}function c(W,F){for(W=new Map;F!==null;)F.key!==null?W.set(F.key,F):W.set(F.index,F),F=F.sibling;return W}function h(W,F){return W=Ni(W,F),W.index=0,W.sibling=null,W}function v(W,F,H){return W.index=H,e?(H=W.alternate,H!==null?(H=H.index,H<F?(W.flags|=2,F):H):(W.flags|=2,F)):(W.flags|=1048576,F)}function S(W){return e&&W.alternate===null&&(W.flags|=2),W}function N(W,F,H,pe){return F===null||F.tag!==6?(F=ad(H,W.mode,pe),F.return=W,F):(F=h(F,H),F.return=W,F)}function D(W,F,H,pe){var $e=H.type;return $e===he?ae(W,F,H.props.children,pe,H.key):F!==null&&(F.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ee&&df($e)===F.type)?(pe=h(F,H.props),pe.ref=Ua(W,F,H),pe.return=W,pe):(pe=Lc(H.type,H.key,H.props,null,W.mode,pe),pe.ref=Ua(W,F,H),pe.return=W,pe)}function V(W,F,H,pe){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=ld(H,W.mode,pe),F.return=W,F):(F=h(F,H.children||[]),F.return=W,F)}function ae(W,F,H,pe,$e){return F===null||F.tag!==7?(F=As(H,W.mode,pe,$e),F.return=W,F):(F=h(F,H),F.return=W,F)}function ce(W,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=ad(""+F,W.mode,H),F.return=W,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ue:return H=Lc(F.type,F.key,F.props,null,W.mode,H),H.ref=Ua(W,null,F),H.return=W,H;case _e:return F=ld(F,W.mode,H),F.return=W,F;case ee:var pe=F._init;return ce(W,pe(F._payload),H)}if(Dt(F)||oe(F))return F=As(F,W.mode,H,null),F.return=W,F;bs(W,F)}return null}function se(W,F,H,pe){var $e=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return $e!==null?null:N(W,F,""+H,pe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ue:return H.key===$e?D(W,F,H,pe):null;case _e:return H.key===$e?V(W,F,H,pe):null;case ee:return $e=H._init,se(W,F,$e(H._payload),pe)}if(Dt(H)||oe(H))return $e!==null?null:ae(W,F,H,pe,null);bs(W,H)}return null}function Ae(W,F,H,pe,$e){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return W=W.get(H)||null,N(F,W,""+pe,$e);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case ue:return W=W.get(pe.key===null?H:pe.key)||null,D(F,W,pe,$e);case _e:return W=W.get(pe.key===null?H:pe.key)||null,V(F,W,pe,$e);case ee:var Ze=pe._init;return Ae(W,F,H,Ze(pe._payload),$e)}if(Dt(pe)||oe(pe))return W=W.get(H)||null,ae(F,W,pe,$e,null);bs(F,pe)}return null}function De(W,F,H,pe){for(var $e=null,Ze=null,Xe=F,rn=F=0,Pt=null;Xe!==null&&rn<H.length;rn++){Xe.index>rn?(Pt=Xe,Xe=null):Pt=Xe.sibling;var On=se(W,Xe,H[rn],pe);if(On===null){Xe===null&&(Xe=Pt);break}e&&Xe&&On.alternate===null&&t(W,Xe),F=v(On,F,rn),Ze===null?$e=On:Ze.sibling=On,Ze=On,Xe=Pt}if(rn===H.length)return s(W,Xe),Qn&&ms(W,rn),$e;if(Xe===null){for(;rn<H.length;rn++)Xe=ce(W,H[rn],pe),Xe!==null&&(F=v(Xe,F,rn),Ze===null?$e=Xe:Ze.sibling=Xe,Ze=Xe);return Qn&&ms(W,rn),$e}for(Xe=c(W,Xe);rn<H.length;rn++)Pt=Ae(Xe,W,rn,H[rn],pe),Pt!==null&&(e&&Pt.alternate!==null&&Xe.delete(Pt.key===null?rn:Pt.key),F=v(Pt,F,rn),Ze===null?$e=Pt:Ze.sibling=Pt,Ze=Pt);return e&&Xe.forEach(function(es){return t(W,es)}),Qn&&ms(W,rn),$e}function ze(W,F,H,pe){var $e=oe(H);if(typeof $e!="function")throw Error(r(150));if(H=$e.call(H),H==null)throw Error(r(151));for(var Ze=$e=null,Xe=F,rn=F=0,Pt=null,On=H.next();Xe!==null&&!On.done;rn++,On=H.next()){Xe.index>rn?(Pt=Xe,Xe=null):Pt=Xe.sibling;var es=se(W,Xe,On.value,pe);if(es===null){Xe===null&&(Xe=Pt);break}e&&Xe&&es.alternate===null&&t(W,Xe),F=v(es,F,rn),Ze===null?$e=es:Ze.sibling=es,Ze=es,Xe=Pt}if(On.done)return s(W,Xe),Qn&&ms(W,rn),$e;if(Xe===null){for(;!On.done;rn++,On=H.next())On=ce(W,On.value,pe),On!==null&&(F=v(On,F,rn),Ze===null?$e=On:Ze.sibling=On,Ze=On);return Qn&&ms(W,rn),$e}for(Xe=c(W,Xe);!On.done;rn++,On=H.next())On=Ae(Xe,W,rn,On.value,pe),On!==null&&(e&&On.alternate!==null&&Xe.delete(On.key===null?rn:On.key),F=v(On,F,rn),Ze===null?$e=On:Ze.sibling=On,Ze=On);return e&&Xe.forEach(function(ah){return t(W,ah)}),Qn&&ms(W,rn),$e}function vt(W,F,H,pe){if(typeof H=="object"&&H!==null&&H.type===he&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ue:e:{for(var $e=H.key,Ze=F;Ze!==null;){if(Ze.key===$e){if($e=H.type,$e===he){if(Ze.tag===7){s(W,Ze.sibling),F=h(Ze,H.props.children),F.return=W,W=F;break e}}else if(Ze.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ee&&df($e)===Ze.type){s(W,Ze.sibling),F=h(Ze,H.props),F.ref=Ua(W,Ze,H),F.return=W,W=F;break e}s(W,Ze);break}else t(W,Ze);Ze=Ze.sibling}H.type===he?(F=As(H.props.children,W.mode,pe,H.key),F.return=W,W=F):(pe=Lc(H.type,H.key,H.props,null,W.mode,pe),pe.ref=Ua(W,F,H),pe.return=W,W=pe)}return S(W);case _e:e:{for(Ze=H.key;F!==null;){if(F.key===Ze)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){s(W,F.sibling),F=h(F,H.children||[]),F.return=W,W=F;break e}else{s(W,F);break}else t(W,F);F=F.sibling}F=ld(H,W.mode,pe),F.return=W,W=F}return S(W);case ee:return Ze=H._init,vt(W,F,Ze(H._payload),pe)}if(Dt(H))return De(W,F,H,pe);if(oe(H))return ze(W,F,H,pe);bs(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(s(W,F.sibling),F=h(F,H),F.return=W,W=F):(s(W,F),F=ad(H,W.mode,pe),F.return=W,W=F),S(W)):s(W,F)}return vt}var ft=Eu(!0),nc=Eu(!1),$a=yr(null),jr=null,Wo=null,oa=null;function go(){oa=Wo=jr=null}function tc(e){var t=$a.current;Zn($a),e._currentValue=t}function $t(e,t,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,c!==null&&(c.childLanes|=t)):c!==null&&(c.childLanes&t)!==t&&(c.childLanes|=t),e===s)break;e=e.return}}function Ho(e,t){jr=e,oa=Wo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ur=!0),e.firstContext=null)}function oi(e){var t=e._currentValue;if(oa!==e)if(e={context:e,memoizedValue:t,next:null},Wo===null){if(jr===null)throw Error(r(308));Wo=e,jr.dependencies={lanes:0,firstContext:e}}else Wo=Wo.next=e;return t}var ys=null;function wu(e){ys===null?ys=[e]:ys.push(e)}function rc(e,t,s,c){var h=t.interleaved;return h===null?(s.next=s,wu(t)):(s.next=h.next,h.next=s),t.interleaved=s,mo(e,c)}function mo(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var si=!1;function ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ff(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ai(e,t,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Tn&2)!==0){var h=c.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),c.pending=t,mo(e,s)}return h=c.interleaved,h===null?(t.next=t,wu(c)):(t.next=h.next,h.next=t),c.interleaved=t,mo(e,s)}function oc(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var c=t.lanes;c&=e.pendingLanes,s|=c,t.lanes=s,as(e,s)}}function pf(e,t){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var h=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var S={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};v===null?h=v=S:v=v.next=S,s=s.next}while(s!==null);v===null?h=v=t:v=v.next=t}else h=v=t;s={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:c.shared,effects:c.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function sa(e,t,s,c){var h=e.updateQueue;si=!1;var v=h.firstBaseUpdate,S=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var D=N,V=D.next;D.next=null,S===null?v=V:S.next=V,S=D;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==S&&(N===null?ae.firstBaseUpdate=V:N.next=V,ae.lastBaseUpdate=D))}if(v!==null){var ce=h.baseState;S=0,ae=V=D=null,N=v;do{var se=N.lane,Ae=N.eventTime;if((c&se)===se){ae!==null&&(ae=ae.next={eventTime:Ae,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var De=e,ze=N;switch(se=t,Ae=s,ze.tag){case 1:if(De=ze.payload,typeof De=="function"){ce=De.call(Ae,ce,se);break e}ce=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=ze.payload,se=typeof De=="function"?De.call(Ae,ce,se):De,se==null)break e;ce=J({},ce,se);break e;case 2:si=!0}}N.callback!==null&&N.lane!==0&&(e.flags|=64,se=h.effects,se===null?h.effects=[N]:se.push(N))}else Ae={eventTime:Ae,lane:se,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(V=ae=Ae,D=ce):ae=ae.next=Ae,S|=se;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;se=N,N=se.next,se.next=null,h.lastBaseUpdate=se,h.shared.pending=null}}while(!0);if(ae===null&&(D=ce),h.baseState=D,h.firstBaseUpdate=V,h.lastBaseUpdate=ae,t=h.shared.interleaved,t!==null){h=t;do S|=h.lane,h=h.next;while(h!==t)}else v===null&&(h.shared.lanes=0);Yo|=S,e.lanes=S,e.memoizedState=ce}}function Su(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var c=e[t],h=c.callback;if(h!==null){if(c.callback=null,c=s,typeof h!="function")throw Error(r(191,h));h.call(c)}}}var ja={},Gi=yr(ja),Wa=yr(ja),aa=yr(ja);function bo(e){if(e===ja)throw Error(r(174));return e}function xu(e,t){switch(Vn(aa,t),Vn(Wa,e),Vn(Gi,ja),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zt(t,e)}Zn(Gi),Vn(Gi,t)}function qo(){Zn(Gi),Zn(Wa),Zn(aa)}function ku(e){bo(aa.current);var t=bo(Gi.current),s=zt(t,e.type);t!==s&&(Vn(Wa,e),Vn(Gi,s))}function sc(e){Wa.current===e&&(Zn(Gi),Zn(Wa))}var tt=yr(0);function _s(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tu=[];function ac(){for(var e=0;e<Tu.length;e++)Tu[e]._workInProgressVersionPrimary=null;Tu.length=0}var Ha=Q.ReactCurrentDispatcher,Cu=Q.ReactCurrentBatchConfig,Go=0,at=null,mt=null,xt=null,la=!1,qa=!1,Es=0,pn=0;function nr(){throw Error(r(321))}function Ru(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!G(e[s],t[s]))return!1;return!0}function ws(e,t,s,c,h,v){if(Go=v,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ha.current=e===null||e.memoizedState===null?jp:hc,e=s(c,h),qa){v=0;do{if(qa=!1,Es=0,25<=v)throw Error(r(301));v+=1,xt=mt=null,t.updateQueue=null,Ha.current=fa,e=s(c,h)}while(qa)}if(Ha.current=pc,t=mt!==null&&mt.next!==null,Go=0,xt=mt=at=null,la=!1,t)throw Error(r(300));return e}function lc(){var e=Es!==0;return Es=0,e}function Ki(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?at.memoizedState=xt=e:xt=xt.next=e,xt}function li(){if(mt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=xt===null?at.memoizedState:xt.next;if(t!==null)xt=t,mt=e;else{if(e===null)throw Error(r(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},xt===null?at.memoizedState=xt=e:xt=xt.next=e}return xt}function tr(e,t){return typeof t=="function"?t(e):t}function Au(e){var t=li(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var c=mt,h=c.baseQueue,v=s.pending;if(v!==null){if(h!==null){var S=h.next;h.next=v.next,v.next=S}c.baseQueue=h=v,s.pending=null}if(h!==null){v=h.next,c=c.baseState;var N=S=null,D=null,V=v;do{var ae=V.lane;if((Go&ae)===ae)D!==null&&(D=D.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),c=V.hasEagerState?V.eagerState:e(c,V.action);else{var ce={lane:ae,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};D===null?(N=D=ce,S=c):D=D.next=ce,at.lanes|=ae,Yo|=ae}V=V.next}while(V!==null&&V!==v);D===null?S=c:D.next=N,G(c,t.memoizedState)||(ur=!0),t.memoizedState=c,t.baseState=S,t.baseQueue=D,s.lastRenderedState=c}if(e=s.interleaved,e!==null){h=e;do v=h.lane,at.lanes|=v,Yo|=v,h=h.next;while(h!==e)}else h===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ca(e){var t=li(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var c=s.dispatch,h=s.pending,v=t.memoizedState;if(h!==null){s.pending=null;var S=h=h.next;do v=e(v,S.action),S=S.next;while(S!==h);G(v,t.memoizedState)||(ur=!0),t.memoizedState=v,t.baseQueue===null&&(t.baseState=v),s.lastRenderedState=v}return[v,c]}function cc(){}function Mu(e,t){var s=at,c=li(),h=t(),v=!G(c.memoizedState,h);if(v&&(c.memoizedState=h,ur=!0),c=c.queue,Vi(yo.bind(null,s,c,e),[e]),c.getSnapshot!==t||v||xt!==null&&xt.memoizedState.tag&1){if(s.flags|=2048,ua(9,Sr.bind(null,s,c,h,t),void 0,null),Ot===null)throw Error(r(349));(Go&30)!==0||Nu(s,t,h)}return h}function Nu(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Sr(e,t,s,c){t.value=s,t.getSnapshot=c,uc(t)&&Ou(e)}function yo(e,t,s){return s(function(){uc(t)&&Ou(e)})}function uc(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!G(e,s)}catch{return!0}}function Ou(e){var t=mo(e,1);t!==null&&Mi(t,e,1,-1)}function Ga(e){var t=Ki();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},t.queue=e,e=e.dispatch=yf.bind(null,at,e),[t.memoizedState,e]}function ua(e,t,s,c){return e={tag:e,create:t,destroy:s,deps:c,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,t.lastEffect=e)),e}function dc(){return li().memoizedState}function Ka(e,t,s,c){var h=Ki();at.flags|=e,h.memoizedState=ua(1|t,s,void 0,c===void 0?null:c)}function da(e,t,s,c){var h=li();c=c===void 0?null:c;var v=void 0;if(mt!==null){var S=mt.memoizedState;if(v=S.destroy,c!==null&&Ru(c,S.deps)){h.memoizedState=ua(t,s,v,c);return}}at.flags|=e,h.memoizedState=ua(1|t,s,v,c)}function fc(e,t){return Ka(8390656,8,e,t)}function Vi(e,t){return da(2048,8,e,t)}function hf(e,t){return da(4,2,e,t)}function _o(e,t){return da(4,4,e,t)}function Pu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Iu(e,t,s){return s=s!=null?s.concat([e]):null,da(4,4,Pu.bind(null,t,e),s)}function Va(){}function gf(e,t){var s=li();t=t===void 0?null:t;var c=s.memoizedState;return c!==null&&t!==null&&Ru(t,c[1])?c[0]:(s.memoizedState=[e,t],e)}function mf(e,t){var s=li();t=t===void 0?null:t;var c=s.memoizedState;return c!==null&&t!==null&&Ru(t,c[1])?c[0]:(e=e(),s.memoizedState=[e,t],e)}function vf(e,t,s){return(Go&21)===0?(e.baseState&&(e.baseState=!1,ur=!0),e.memoizedState=s):(G(s,t)||(s=ka(),at.lanes|=s,Yo|=s,e.baseState=!0),t)}function bf(e,t){var s=En;En=s!==0&&4>s?s:4,e(!0);var c=Cu.transition;Cu.transition={};try{e(!1),t()}finally{En=s,Cu.transition=c}}function Lu(){return li().memoizedState}function $p(e,t,s){var c=Qo(e);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},Du(e))cr(t,s);else if(s=rc(e,t,s,c),s!==null){var h=pr();Mi(s,e,c,h),ki(s,t,c)}}function yf(e,t,s){var c=Qo(e),h={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(Du(e))cr(t,h);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=t.lastRenderedReducer,v!==null))try{var S=t.lastRenderedState,N=v(S,s);if(h.hasEagerState=!0,h.eagerState=N,G(N,S)){var D=t.interleaved;D===null?(h.next=h,wu(t)):(h.next=D.next,D.next=h),t.interleaved=h;return}}catch{}finally{}s=rc(e,t,h,c),s!==null&&(h=pr(),Mi(s,e,c,h),ki(s,t,c))}}function Du(e){var t=e.alternate;return e===at||t!==null&&t===at}function cr(e,t){qa=la=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ki(e,t,s){if((s&4194240)!==0){var c=t.lanes;c&=e.pendingLanes,s|=c,t.lanes=s,as(e,s)}}var pc={readContext:oi,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},jp={readContext:oi,useCallback:function(e,t){return Ki().memoizedState=[e,t===void 0?null:t],e},useContext:oi,useEffect:fc,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ka(4194308,4,Pu.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ka(4,2,e,t)},useMemo:function(e,t){var s=Ki();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var c=Ki();return t=s!==void 0?s(t):t,c.memoizedState=c.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},c.queue=e,e=e.dispatch=$p.bind(null,at,e),[c.memoizedState,e]},useRef:function(e){var t=Ki();return e={current:e},t.memoizedState=e},useState:Ga,useDebugValue:Va,useDeferredValue:function(e){return Ki().memoizedState=e},useTransition:function(){var e=Ga(!1),t=e[0];return e=bf.bind(null,e[1]),Ki().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var c=at,h=Ki();if(Qn){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),Ot===null)throw Error(r(349));(Go&30)!==0||Nu(c,t,s)}h.memoizedState=s;var v={value:s,getSnapshot:t};return h.queue=v,fc(yo.bind(null,c,v,e),[e]),c.flags|=2048,ua(9,Sr.bind(null,c,v,s,t),void 0,null),s},useId:function(){var e=Ki(),t=Ot.identifierPrefix;if(Qn){var s=ji,c=$i;s=(c&~(1<<32-st(c)-1)).toString(32)+s,t=":"+t+"R"+s,s=Es++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=pn++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hc={readContext:oi,useCallback:gf,useContext:oi,useEffect:Vi,useImperativeHandle:Iu,useInsertionEffect:hf,useLayoutEffect:_o,useMemo:mf,useReducer:Au,useRef:dc,useState:function(){return Au(tr)},useDebugValue:Va,useDeferredValue:function(e){var t=li();return vf(t,mt.memoizedState,e)},useTransition:function(){var e=Au(tr)[0],t=li().memoizedState;return[e,t]},useMutableSource:cc,useSyncExternalStore:Mu,useId:Lu,unstable_isNewReconciler:!1},fa={readContext:oi,useCallback:gf,useContext:oi,useEffect:Vi,useImperativeHandle:Iu,useInsertionEffect:hf,useLayoutEffect:_o,useMemo:mf,useReducer:ca,useRef:dc,useState:function(){return ca(tr)},useDebugValue:Va,useDeferredValue:function(e){var t=li();return mt===null?t.memoizedState=e:vf(t,mt.memoizedState,e)},useTransition:function(){var e=ca(tr)[0],t=li().memoizedState;return[e,t]},useMutableSource:cc,useSyncExternalStore:Mu,useId:Lu,unstable_isNewReconciler:!1};function ci(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function gc(e,t,s,c){t=e.memoizedState,s=s(c,t),s=s==null?t:J({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var mc={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var c=pr(),h=Qo(e),v=vo(c,h);v.payload=t,s!=null&&(v.callback=s),t=ai(e,v,h),t!==null&&(Mi(t,e,h,c),oc(t,e,h))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var c=pr(),h=Qo(e),v=vo(c,h);v.tag=1,v.payload=t,s!=null&&(v.callback=s),t=ai(e,v,h),t!==null&&(Mi(t,e,h,c),oc(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=pr(),c=Qo(e),h=vo(s,c);h.tag=2,t!=null&&(h.callback=t),t=ai(e,h,c),t!==null&&(Mi(t,e,c,s),oc(t,e,c))}};function zu(e,t,s,c,h,v,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,S):t.prototype&&t.prototype.isPureReactComponent?!Re(s,c)||!Re(h,v):!0}function Ss(e,t,s){var c=!1,h=$o,v=t.contextType;return typeof v=="object"&&v!==null?v=oi(v):(h=Er(t)?lr:Qt.current,c=t.contextTypes,v=(c=c!=null)?ra(e,h):$o),t=new t(s,v),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mc,e.stateNode=t,t._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=v),t}function pa(e,t,s,c){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,c),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,c),t.state!==e&&mc.enqueueReplaceState(t,t.state,null)}function Bu(e,t,s,c){var h=e.stateNode;h.props=s,h.state=e.memoizedState,h.refs={},ic(e);var v=t.contextType;typeof v=="object"&&v!==null?h.context=oi(v):(v=Er(t)?lr:Qt.current,h.context=ra(e,v)),h.state=e.memoizedState,v=t.getDerivedStateFromProps,typeof v=="function"&&(gc(e,t,v,s),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&mc.enqueueReplaceState(h,h.state,null),sa(e,s,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function xs(e,t){try{var s="",c=t;do s+=ye(c),c=c.return;while(c);var h=s}catch(v){h=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:t,stack:h,digest:null}}function vc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ha(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var _f=typeof WeakMap=="function"?WeakMap:Map;function Ya(e,t,s){s=vo(-1,s),s.tag=3,s.payload={element:null};var c=t.value;return s.callback=function(){Rc||(Rc=!0,ed=c),ha(e,t)},s}function bc(e,t,s){s=vo(-1,s),s.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=t.value;s.payload=function(){return c(h)},s.callback=function(){ha(e,t)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){ha(e,t),typeof c!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var S=t.stack;this.componentDidCatch(t.value,{componentStack:S!==null?S:""})}),s}function Xa(e,t,s){var c=e.pingCache;if(c===null){c=e.pingCache=new _f;var h=new Set;c.set(t,h)}else h=c.get(t),h===void 0&&(h=new Set,c.set(t,h));h.has(s)||(h.add(s),e=Xp.bind(null,e,t,s),t.then(e,e))}function Ef(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fu(e,t,s,c,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=vo(-1,1),t.tag=2,ai(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var yc=Q.ReactCurrentOwner,ur=!1;function jt(e,t,s,c){t.child=e===null?nc(t,null,s,c):ft(t,e.child,s,c)}function wf(e,t,s,c,h){s=s.render;var v=t.ref;return Ho(t,h),c=ws(e,t,s,c,v,h),s=lc(),e!==null&&!ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Ti(e,t,h)):(Qn&&s&&Ba(t),t.flags|=1,jt(e,t,c,h),t.child)}function Uu(e,t,s,c,h){if(e===null){var v=s.type;return typeof v=="function"&&!Ic(v)&&v.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=v,Yi(e,t,v,c,h)):(e=Lc(s.type,null,c,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(v=e.child,(e.lanes&h)===0){var S=v.memoizedProps;if(s=s.compare,s=s!==null?s:Re,s(S,c)&&e.ref===t.ref)return Ti(e,t,h)}return t.flags|=1,e=Ni(v,c),e.ref=t.ref,e.return=t,t.child=e}function Yi(e,t,s,c,h){if(e!==null){var v=e.memoizedProps;if(Re(v,c)&&e.ref===t.ref)if(ur=!1,t.pendingProps=c=v,(e.lanes&h)!==0)(e.flags&131072)!==0&&(ur=!0);else return t.lanes=e.lanes,Ti(e,t,h)}return Wu(e,t,s,c,h)}function $u(e,t,s){var c=t.pendingProps,h=c.children,v=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(ba,Hr),Hr|=s;else{if((s&1073741824)===0)return e=v!==null?v.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vn(ba,Hr),Hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=v!==null?v.baseLanes:s,Vn(ba,Hr),Hr|=c}else v!==null?(c=v.baseLanes|s,t.memoizedState=null):c=s,Vn(ba,Hr),Hr|=c;return jt(e,t,h,s),t.child}function ju(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Wu(e,t,s,c,h){var v=Er(s)?lr:Qt.current;return v=ra(t,v),Ho(t,h),s=ws(e,t,s,c,v,h),c=lc(),e!==null&&!ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Ti(e,t,h)):(Qn&&c&&Ba(t),t.flags|=1,jt(e,t,s,h),t.child)}function Hu(e,t,s,c,h){if(Er(s)){var v=!0;ti(t)}else v=!1;if(Ho(t,h),t.stateNode===null)Ec(e,t),Ss(t,s,c),Bu(t,s,c,h),c=!0;else if(e===null){var S=t.stateNode,N=t.memoizedProps;S.props=N;var D=S.context,V=s.contextType;typeof V=="object"&&V!==null?V=oi(V):(V=Er(s)?lr:Qt.current,V=ra(t,V));var ae=s.getDerivedStateFromProps,ce=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function";ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==c||D!==V)&&pa(t,S,c,V),si=!1;var se=t.memoizedState;S.state=se,sa(t,c,S,h),D=t.memoizedState,N!==c||se!==D||_r.current||si?(typeof ae=="function"&&(gc(t,s,ae,c),D=t.memoizedState),(N=si||zu(t,s,N,c,se,D,V))?(ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(t.flags|=4194308)):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=c,t.memoizedState=D),S.props=c,S.state=D,S.context=V,c=N):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),c=!1)}else{S=t.stateNode,ff(e,t),N=t.memoizedProps,V=t.type===t.elementType?N:ci(t.type,N),S.props=V,ce=t.pendingProps,se=S.context,D=s.contextType,typeof D=="object"&&D!==null?D=oi(D):(D=Er(s)?lr:Qt.current,D=ra(t,D));var Ae=s.getDerivedStateFromProps;(ae=typeof Ae=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==ce||se!==D)&&pa(t,S,c,D),si=!1,se=t.memoizedState,S.state=se,sa(t,c,S,h);var De=t.memoizedState;N!==ce||se!==De||_r.current||si?(typeof Ae=="function"&&(gc(t,s,Ae,c),De=t.memoizedState),(V=si||zu(t,s,V,c,se,De,D)||!1)?(ae||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(c,De,D),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(c,De,D)),typeof S.componentDidUpdate=="function"&&(t.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),t.memoizedProps=c,t.memoizedState=De),S.props=c,S.state=De,S.context=D,c=V):(typeof S.componentDidUpdate!="function"||N===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),c=!1)}return qu(e,t,s,c,v,h)}function qu(e,t,s,c,h,v){ju(e,t);var S=(t.flags&128)!==0;if(!c&&!S)return h&&sf(t,s,!1),Ti(e,t,v);c=t.stateNode,yc.current=t;var N=S&&typeof s.getDerivedStateFromError!="function"?null:c.render();return t.flags|=1,e!==null&&S?(t.child=ft(t,e.child,null,v),t.child=ft(t,null,N,v)):jt(e,t,N,v),t.memoizedState=c.state,h&&sf(t,s,!0),t.child}function Sf(e){var t=e.stateNode;t.pendingContext?rf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rf(e,t.context,!1),xu(e,t.containerInfo)}function Xi(e,t,s,c,h){return Hi(),qi(h),t.flags|=256,jt(e,t,s,c),t.child}var Za={dehydrated:null,treeContext:null,retryLane:0};function Qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function _c(e,t,s){var c=t.pendingProps,h=tt.current,v=!1,S=(t.flags&128)!==0,N;if((N=S)||(N=e!==null&&e.memoizedState===null?!1:(h&2)!==0),N?(v=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Vn(tt,h&1),e===null)return wr(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(S=c.children,e=c.fallback,v?(c=t.mode,v=t.child,S={mode:"hidden",children:S},(c&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Dc(S,c,0,null),e=As(e,c,s,null),v.return=t,e.return=t,v.sibling=e,t.child=v,t.child.memoizedState=Qa(s),t.memoizedState=Za,e):ga(t,S));if(h=e.memoizedState,h!==null&&(N=h.dehydrated,N!==null))return Je(e,t,S,c,N,h,s);if(v){v=c.fallback,S=t.mode,h=e.child,N=h.sibling;var D={mode:"hidden",children:c.children};return(S&1)===0&&t.child!==h?(c=t.child,c.childLanes=0,c.pendingProps=D,t.deletions=null):(c=Ni(h,D),c.subtreeFlags=h.subtreeFlags&14680064),N!==null?v=Ni(N,v):(v=As(v,S,s,null),v.flags|=2),v.return=t,c.return=t,c.sibling=v,t.child=c,c=v,v=t.child,S=e.child.memoizedState,S=S===null?Qa(s):{baseLanes:S.baseLanes|s,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=e.childLanes&~s,t.memoizedState=Za,c}return v=e.child,e=v.sibling,c=Ni(v,{mode:"visible",children:c.children}),(t.mode&1)===0&&(c.lanes=s),c.return=t,c.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=c,t.memoizedState=null,c}function ga(e,t){return t=Dc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eo(e,t,s,c){return c!==null&&qi(c),ft(t,e.child,null,s),e=ga(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Je(e,t,s,c,h,v,S){if(s)return t.flags&256?(t.flags&=-257,c=vc(Error(r(422))),Eo(e,t,S,c)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(v=c.fallback,h=t.mode,c=Dc({mode:"visible",children:c.children},h,0,null),v=As(v,h,S,null),v.flags|=2,c.return=t,v.return=t,c.sibling=v,t.child=c,(t.mode&1)!==0&&ft(t,e.child,null,S),t.child.memoizedState=Qa(S),t.memoizedState=Za,v);if((t.mode&1)===0)return Eo(e,t,S,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var N=c.dgst;return c=N,v=Error(r(419)),c=vc(v,c,void 0),Eo(e,t,S,c)}if(N=(S&e.childLanes)!==0,ur||N){if(c=Ot,c!==null){switch(S&-S){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|S))!==0?0:h,h!==0&&h!==v.retryLane&&(v.retryLane=h,mo(e,h),Mi(c,e,h,-1))}return sd(),c=vc(Error(r(421))),Eo(e,t,S,c)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=Zp.bind(null,e),h._reactRetry=t,null):(e=v.treeContext,$r=Fo(h.nextSibling),er=t,Qn=!0,xi=null,e!==null&&(ri[ii++]=$i,ri[ii++]=ji,ri[ii++]=gs,$i=e.id,ji=e.overflow,gs=t),t=ga(t,c.children),t.flags|=4096,t)}function Ja(e,t,s){e.lanes|=t;var c=e.alternate;c!==null&&(c.lanes|=t),$t(e.return,t,s)}function el(e,t,s,c,h){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:h}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=s,v.tailMode=h)}function Ko(e,t,s){var c=t.pendingProps,h=c.revealOrder,v=c.tail;if(jt(e,t,c.children,s),c=tt.current,(c&2)!==0)c=c&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ja(e,s,t);else if(e.tag===19)Ja(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Vn(tt,c),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(s=t.child,h=null;s!==null;)e=s.alternate,e!==null&&_s(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=t.child,t.child=null):(h=s.sibling,s.sibling=null),el(t,!1,h,s,v);break;case"backwards":for(s=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&_s(e)===null){t.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}el(t,!0,s,null,v);break;case"together":el(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ec(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ti(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Yo|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,s=Ni(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ni(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function xf(e,t,s){switch(t.tag){case 3:Sf(t),Hi();break;case 5:ku(t);break;case 1:Er(t.type)&&ti(t);break;case 4:xu(t,t.stateNode.containerInfo);break;case 10:var c=t.type._context,h=t.memoizedProps.value;Vn($a,c._currentValue),c._currentValue=h;break;case 13:if(c=t.memoizedState,c!==null)return c.dehydrated!==null?(Vn(tt,tt.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?_c(e,t,s):(Vn(tt,tt.current&1),e=Ti(e,t,s),e!==null?e.sibling:null);Vn(tt,tt.current&1);break;case 19:if(c=(s&t.childLanes)!==0,(e.flags&128)!==0){if(c)return Ko(e,t,s);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Vn(tt,tt.current),c)break;return null;case 22:case 23:return t.lanes=0,$u(e,t,s)}return Ti(e,t,s)}var Wt,Gu,kf,Ku;Wt=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Gu=function(){},kf=function(e,t,s,c){var h=e.memoizedProps;if(h!==c){e=t.stateNode,bo(Gi.current);var v=null;switch(s){case"input":h=Gn(e,h),c=Gn(e,c),v=[];break;case"select":h=J({},h,{value:void 0}),c=J({},c,{value:void 0}),v=[];break;case"textarea":h=Rr(e,h),c=Rr(e,c),v=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Gl)}Nr(s,c);var S;s=null;for(V in h)if(!c.hasOwnProperty(V)&&h.hasOwnProperty(V)&&h[V]!=null)if(V==="style"){var N=h[V];for(S in N)N.hasOwnProperty(S)&&(s||(s={}),s[S]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(l.hasOwnProperty(V)?v||(v=[]):(v=v||[]).push(V,null));for(V in c){var D=c[V];if(N=h!=null?h[V]:void 0,c.hasOwnProperty(V)&&D!==N&&(D!=null||N!=null))if(V==="style")if(N){for(S in N)!N.hasOwnProperty(S)||D&&D.hasOwnProperty(S)||(s||(s={}),s[S]="");for(S in D)D.hasOwnProperty(S)&&N[S]!==D[S]&&(s||(s={}),s[S]=D[S])}else s||(v||(v=[]),v.push(V,s)),s=D;else V==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,N=N?N.__html:void 0,D!=null&&N!==D&&(v=v||[]).push(V,D)):V==="children"?typeof D!="string"&&typeof D!="number"||(v=v||[]).push(V,""+D):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(l.hasOwnProperty(V)?(D!=null&&V==="onScroll"&&Xn("scroll",e),v||N===D||(v=[])):(v=v||[]).push(V,D))}s&&(v=v||[]).push("style",s);var V=v;(t.updateQueue=V)&&(t.flags|=4)}},Ku=function(e,t,s,c){s!==c&&(t.flags|=4)};function nl(e,t){if(!Qn)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(t)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=s,t}function Wp(e,t,s){var c=t.pendingProps;switch(vs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return Er(t.type)&&Xl(),Ht(t),null;case 3:return c=t.stateNode,qo(),Zn(_r),Zn(Qt),ac(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xi!==null&&(rd(xi),xi=null))),Gu(e,t),Ht(t),null;case 5:sc(t);var h=bo(aa.current);if(s=t.type,e!==null&&t.stateNode!=null)kf(e,t,s,c,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!c){if(t.stateNode===null)throw Error(r(166));return Ht(t),null}if(e=bo(Gi.current),Fa(t)){c=t.stateNode,s=t.type;var v=t.memoizedProps;switch(c[Fi]=t,c[Uo]=v,e=(t.mode&1)!==0,s){case"dialog":Xn("cancel",c),Xn("close",c);break;case"iframe":case"object":case"embed":Xn("load",c);break;case"video":case"audio":for(h=0;h<fo.length;h++)Xn(fo[h],c);break;case"source":Xn("error",c);break;case"img":case"image":case"link":Xn("error",c),Xn("load",c);break;case"details":Xn("toggle",c);break;case"input":hr(c,v),Xn("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!v.multiple},Xn("invalid",c);break;case"textarea":gr(c,v),Xn("invalid",c)}Nr(s,v),h=null;for(var S in v)if(v.hasOwnProperty(S)){var N=v[S];S==="children"?typeof N=="string"?c.textContent!==N&&(v.suppressHydrationWarning!==!0&&Ia(c.textContent,N,e),h=["children",N]):typeof N=="number"&&c.textContent!==""+N&&(v.suppressHydrationWarning!==!0&&Ia(c.textContent,N,e),h=["children",""+N]):l.hasOwnProperty(S)&&N!=null&&S==="onScroll"&&Xn("scroll",c)}switch(s){case"input":_n(c),Cr(c,v,!0);break;case"textarea":_n(c),pt(c);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(c.onclick=Gl)}c=h,t.updateQueue=c,c!==null&&(t.flags|=4)}else{S=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=et(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=S.createElement(s,{is:c.is}):(e=S.createElement(s),s==="select"&&(S=e,c.multiple?S.multiple=!0:c.size&&(S.size=c.size))):e=S.createElementNS(e,s),e[Fi]=t,e[Uo]=c,Wt(e,t,!1,!1),t.stateNode=e;e:{switch(S=Or(s,c),s){case"dialog":Xn("cancel",e),Xn("close",e),h=c;break;case"iframe":case"object":case"embed":Xn("load",e),h=c;break;case"video":case"audio":for(h=0;h<fo.length;h++)Xn(fo[h],e);h=c;break;case"source":Xn("error",e),h=c;break;case"img":case"image":case"link":Xn("error",e),Xn("load",e),h=c;break;case"details":Xn("toggle",e),h=c;break;case"input":hr(e,c),h=Gn(e,c),Xn("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=J({},c,{value:void 0}),Xn("invalid",e);break;case"textarea":gr(e,c),h=Rr(e,c),Xn("invalid",e);break;default:h=c}Nr(s,h),N=h;for(v in N)if(N.hasOwnProperty(v)){var D=N[v];v==="style"?St(e,D):v==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Qr(e,D)):v==="children"?typeof D=="string"?(s!=="textarea"||D!=="")&&Ft(e,D):typeof D=="number"&&Ft(e,""+D):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(l.hasOwnProperty(v)?D!=null&&v==="onScroll"&&Xn("scroll",e):D!=null&&K(e,v,D,S))}switch(s){case"input":_n(e),Cr(e,c,!1);break;case"textarea":_n(e),pt(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Ie(c.value));break;case"select":e.multiple=!!c.multiple,v=c.value,v!=null?Yn(e,!!c.multiple,v,!1):c.defaultValue!=null&&Yn(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Gl)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)Ku(e,t,e.memoizedProps,c);else{if(typeof c!="string"&&t.stateNode===null)throw Error(r(166));if(s=bo(aa.current),bo(Gi.current),Fa(t)){if(c=t.stateNode,s=t.memoizedProps,c[Fi]=t,(v=c.nodeValue!==s)&&(e=er,e!==null))switch(e.tag){case 3:Ia(c.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ia(c.nodeValue,s,(e.mode&1)!==0)}v&&(t.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[Fi]=t,t.stateNode=c}return Ht(t),null;case 13:if(Zn(tt),c=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qn&&$r!==null&&(t.mode&1)!==0&&(t.flags&128)===0)_u(),Hi(),t.flags|=98560,v=!1;else if(v=Fa(t),c!==null&&c.dehydrated!==null){if(e===null){if(!v)throw Error(r(318));if(v=t.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Fi]=t}else Hi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ht(t),v=!1}else xi!==null&&(rd(xi),xi=null),v=!0;if(!v)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(tt.current&1)!==0?kt===0&&(kt=3):sd())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return qo(),Gu(e,t),e===null&&zo(t.stateNode.containerInfo),Ht(t),null;case 10:return tc(t.type._context),Ht(t),null;case 17:return Er(t.type)&&Xl(),Ht(t),null;case 19:if(Zn(tt),v=t.memoizedState,v===null)return Ht(t),null;if(c=(t.flags&128)!==0,S=v.rendering,S===null)if(c)nl(v,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(S=_s(e),S!==null){for(t.flags|=128,nl(v,!1),c=S.updateQueue,c!==null&&(t.updateQueue=c,t.flags|=4),t.subtreeFlags=0,c=s,s=t.child;s!==null;)v=s,e=c,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,e=S.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Vn(tt,tt.current&1|2),t.child}e=e.sibling}v.tail!==null&&ln()>ks&&(t.flags|=128,c=!0,nl(v,!1),t.lanes=4194304)}else{if(!c)if(e=_s(S),e!==null){if(t.flags|=128,c=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),nl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Qn)return Ht(t),null}else 2*ln()-v.renderingStartTime>ks&&s!==1073741824&&(t.flags|=128,c=!0,nl(v,!1),t.lanes=4194304);v.isBackwards?(S.sibling=t.child,t.child=S):(s=v.last,s!==null?s.sibling=S:t.child=S,v.last=S)}return v.tail!==null?(t=v.tail,v.rendering=t,v.tail=t.sibling,v.renderingStartTime=ln(),t.sibling=null,s=tt.current,Vn(tt,c?s&1|2:s&1),t):(Ht(t),null);case 22:case 23:return od(),c=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(t.flags|=8192),c&&(t.mode&1)!==0?(Hr&1073741824)!==0&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(r(156,t.tag))}function Hp(e,t){switch(vs(t),t.tag){case 1:return Er(t.type)&&Xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qo(),Zn(_r),Zn(Qt),ac(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return sc(t),null;case 13:if(Zn(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zn(tt),null;case 4:return qo(),null;case 10:return tc(t.type._context),null;case 22:case 23:return od(),null;case 24:return null;default:return null}}var wc=!1,rt=!1,dr=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function ma(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){lt(e,t,c)}else s.current=null}function tl(e,t,s){try{s()}catch(c){lt(e,t,c)}}var Tf=!1;function qp(e,t){if(La=Rl,e=$n(),Ra(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var h=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var S=0,N=-1,D=-1,V=0,ae=0,ce=e,se=null;n:for(;;){for(var Ae;ce!==s||h!==0&&ce.nodeType!==3||(N=S+h),ce!==v||c!==0&&ce.nodeType!==3||(D=S+c),ce.nodeType===3&&(S+=ce.nodeValue.length),(Ae=ce.firstChild)!==null;)se=ce,ce=Ae;for(;;){if(ce===e)break n;if(se===s&&++V===h&&(N=S),se===v&&++ae===c&&(D=S),(Ae=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=Ae}s=N===-1||D===-1?null:{start:N,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(ps={focusedElem:e,selectionRange:s},Rl=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var De=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var ze=De.memoizedProps,vt=De.memoizedState,W=t.stateNode,F=W.getSnapshotBeforeUpdate(t.elementType===t.type?ze:ci(t.type,ze),vt);W.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=t.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){lt(t,t.return,pe)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return De=Tf,Tf=!1,De}function wo(e,t,s){var c=t.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var v=h.destroy;h.destroy=void 0,v!==void 0&&tl(t,s,v)}h=h.next}while(h!==c)}}function rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var c=s.create;s.destroy=c()}s=s.next}while(s!==t)}}function Sc(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fi],delete t[Uo],delete t[Vl],delete t[T],delete t[na])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rf(e){return e.tag===5||e.tag===3||e.tag===4}function Af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vu(e,t,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Gl));else if(c!==4&&(e=e.child,e!==null))for(Vu(e,t,s),e=e.sibling;e!==null;)Vu(e,t,s),e=e.sibling}function xc(e,t,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(xc(e,t,s),e=e.sibling;e!==null;)xc(e,t,s),e=e.sibling}var Nt=null,Ci=!1;function Zi(e,t,s){for(s=s.child;s!==null;)Yu(e,t,s),s=s.sibling}function Yu(e,t,s){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(fn,s)}catch{}switch(s.tag){case 5:rt||ma(s,t);case 6:var c=Nt,h=Ci;Nt=null,Zi(e,t,s),Nt=c,Ci=h,Nt!==null&&(Ci?(e=Nt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Nt.removeChild(s.stateNode));break;case 18:Nt!==null&&(Ci?(e=Nt,s=s.stateNode,e.nodeType===8?vu(e.parentNode,s):e.nodeType===1&&vu(e,s),In(e)):vu(Nt,s.stateNode));break;case 4:c=Nt,h=Ci,Nt=s.stateNode.containerInfo,Ci=!0,Zi(e,t,s),Nt=c,Ci=h;break;case 0:case 11:case 14:case 15:if(!rt&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var v=h,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&tl(s,t,S),h=h.next}while(h!==c)}Zi(e,t,s);break;case 1:if(!rt&&(ma(s,t),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(N){lt(s,t,N)}Zi(e,t,s);break;case 21:Zi(e,t,s);break;case 22:s.mode&1?(rt=(c=rt)||s.memoizedState!==null,Zi(e,t,s),rt=c):Zi(e,t,s);break;default:Zi(e,t,s)}}function va(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new dr),t.forEach(function(c){var h=Qp.bind(null,e,c);s.has(c)||(s.add(c),c.then(h,h))})}}function Wr(e,t){var s=t.deletions;if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];try{var v=e,S=t,N=S;e:for(;N!==null;){switch(N.tag){case 5:Nt=N.stateNode,Ci=!1;break e;case 3:Nt=N.stateNode.containerInfo,Ci=!0;break e;case 4:Nt=N.stateNode.containerInfo,Ci=!0;break e}N=N.return}if(Nt===null)throw Error(r(160));Yu(v,S,h),Nt=null,Ci=!1;var D=h.alternate;D!==null&&(D.return=null),h.return=null}catch(V){lt(h,t,V)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xu(t,e),t=t.sibling}function Xu(e,t){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wr(t,e),Ri(e),c&4){try{wo(3,e,e.return),rl(3,e)}catch(ze){lt(e,e.return,ze)}try{wo(5,e,e.return)}catch(ze){lt(e,e.return,ze)}}break;case 1:Wr(t,e),Ri(e),c&512&&s!==null&&ma(s,s.return);break;case 5:if(Wr(t,e),Ri(e),c&512&&s!==null&&ma(s,s.return),e.flags&32){var h=e.stateNode;try{Ft(h,"")}catch(ze){lt(e,e.return,ze)}}if(c&4&&(h=e.stateNode,h!=null)){var v=e.memoizedProps,S=s!==null?s.memoizedProps:v,N=e.type,D=e.updateQueue;if(e.updateQueue=null,D!==null)try{N==="input"&&v.type==="radio"&&v.name!=null&&Xr(h,v),Or(N,S);var V=Or(N,v);for(S=0;S<D.length;S+=2){var ae=D[S],ce=D[S+1];ae==="style"?St(h,ce):ae==="dangerouslySetInnerHTML"?Qr(h,ce):ae==="children"?Ft(h,ce):K(h,ae,ce,V)}switch(N){case"input":it(h,v);break;case"textarea":Rt(h,v);break;case"select":var se=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!v.multiple;var Ae=v.value;Ae!=null?Yn(h,!!v.multiple,Ae,!1):se!==!!v.multiple&&(v.defaultValue!=null?Yn(h,!!v.multiple,v.defaultValue,!0):Yn(h,!!v.multiple,v.multiple?[]:"",!1))}h[Uo]=v}catch(ze){lt(e,e.return,ze)}}break;case 6:if(Wr(t,e),Ri(e),c&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,v=e.memoizedProps;try{h.nodeValue=v}catch(ze){lt(e,e.return,ze)}}break;case 3:if(Wr(t,e),Ri(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{In(t.containerInfo)}catch(ze){lt(e,e.return,ze)}break;case 4:Wr(t,e),Ri(e);break;case 13:Wr(t,e),Ri(e),h=e.child,h.flags&8192&&(v=h.memoizedState!==null,h.stateNode.isHidden=v,!v||h.alternate!==null&&h.alternate.memoizedState!==null||(Ju=ln())),c&4&&va(e);break;case 22:if(ae=s!==null&&s.memoizedState!==null,e.mode&1?(rt=(V=rt)||ae,Wr(t,e),rt=V):Wr(t,e),Ri(e),c&8192){if(V=e.memoizedState!==null,(e.stateNode.isHidden=V)&&!ae&&(e.mode&1)!==0)for(Pe=e,ae=e.child;ae!==null;){for(ce=Pe=ae;Pe!==null;){switch(se=Pe,Ae=se.child,se.tag){case 0:case 11:case 14:case 15:wo(4,se,se.return);break;case 1:ma(se,se.return);var De=se.stateNode;if(typeof De.componentWillUnmount=="function"){c=se,s=se.return;try{t=c,De.props=t.memoizedProps,De.state=t.memoizedState,De.componentWillUnmount()}catch(ze){lt(c,s,ze)}}break;case 5:ma(se,se.return);break;case 22:if(se.memoizedState!==null){Vo(ce);continue}}Ae!==null?(Ae.return=se,Pe=Ae):Vo(ce)}ae=ae.sibling}e:for(ae=null,ce=e;;){if(ce.tag===5){if(ae===null){ae=ce;try{h=ce.stateNode,V?(v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(N=ce.stateNode,D=ce.memoizedProps.style,S=D!=null&&D.hasOwnProperty("display")?D.display:null,N.style.display=Mr("display",S))}catch(ze){lt(e,e.return,ze)}}}else if(ce.tag===6){if(ae===null)try{ce.stateNode.nodeValue=V?"":ce.memoizedProps}catch(ze){lt(e,e.return,ze)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===e)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===e)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===e)break e;ae===ce&&(ae=null),ce=ce.return}ae===ce&&(ae=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Wr(t,e),Ri(e),c&4&&va(e);break;case 21:break;default:Wr(t,e),Ri(e)}}function Ri(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Rf(s)){var c=s;break e}s=s.return}throw Error(r(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Ft(h,""),c.flags&=-33);var v=Af(e);xc(e,v,h);break;case 3:case 4:var S=c.stateNode.containerInfo,N=Af(e);Vu(e,N,S);break;default:throw Error(r(161))}}catch(D){lt(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kc(e,t,s){Pe=e,Zu(e)}function Zu(e,t,s){for(var c=(e.mode&1)!==0;Pe!==null;){var h=Pe,v=h.child;if(h.tag===22&&c){var S=h.memoizedState!==null||wc;if(!S){var N=h.alternate,D=N!==null&&N.memoizedState!==null||rt;N=wc;var V=rt;if(wc=S,(rt=D)&&!V)for(Pe=h;Pe!==null;)S=Pe,D=S.child,S.tag===22&&S.memoizedState!==null?Mf(h):D!==null?(D.return=S,Pe=D):Mf(h);for(;v!==null;)Pe=v,Zu(v),v=v.sibling;Pe=h,wc=N,rt=V}Ai(e)}else(h.subtreeFlags&8772)!==0&&v!==null?(v.return=h,Pe=v):Ai(e)}}function Ai(e){for(;Pe!==null;){var t=Pe;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rt||rl(5,t);break;case 1:var c=t.stateNode;if(t.flags&4&&!rt)if(s===null)c.componentDidMount();else{var h=t.elementType===t.type?s.memoizedProps:ci(t.type,s.memoizedProps);c.componentDidUpdate(h,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var v=t.updateQueue;v!==null&&Su(t,v,c);break;case 3:var S=t.updateQueue;if(S!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Su(t,S,s)}break;case 5:var N=t.stateNode;if(s===null&&t.flags&4){s=N;var D=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&s.focus();break;case"img":D.src&&(s.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var V=t.alternate;if(V!==null){var ae=V.memoizedState;if(ae!==null){var ce=ae.dehydrated;ce!==null&&In(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}rt||t.flags&512&&Sc(t)}catch(se){lt(t,t.return,se)}}if(t===e){Pe=null;break}if(s=t.sibling,s!==null){s.return=t.return,Pe=s;break}Pe=t.return}}function Vo(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Pe=s;break}Pe=t.return}}function Mf(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{rl(4,t)}catch(D){lt(t,s,D)}break;case 1:var c=t.stateNode;if(typeof c.componentDidMount=="function"){var h=t.return;try{c.componentDidMount()}catch(D){lt(t,h,D)}}var v=t.return;try{Sc(t)}catch(D){lt(t,v,D)}break;case 5:var S=t.return;try{Sc(t)}catch(D){lt(t,S,D)}}}catch(D){lt(t,t.return,D)}if(t===e){Pe=null;break}var N=t.sibling;if(N!==null){N.return=t.return,Pe=N;break}Pe=t.return}}var Nf=Math.ceil,Tc=Q.ReactCurrentDispatcher,Qu=Q.ReactCurrentOwner,ui=Q.ReactCurrentBatchConfig,Tn=0,Ot=null,Et=null,qt=0,Hr=0,ba=yr(0),kt=0,il=null,Yo=0,ol=0,Cc=0,sl=null,xr=null,Ju=0,ks=1/0,So=null,Rc=!1,ed=null,Xo=null,Ac=!1,Zo=null,fr=0,al=0,nd=null,Mc=-1,ll=0;function pr(){return(Tn&6)!==0?ln():Mc!==-1?Mc:Mc=ln()}function Qo(e){return(e.mode&1)===0?1:(Tn&2)!==0&&qt!==0?qt&-qt:uf.transition!==null?(ll===0&&(ll=ka()),ll):(e=En,e!==0||(e=window.event,e=e===void 0?16:Ld(e.type)),e)}function Mi(e,t,s,c){if(50<al)throw al=0,nd=null,Error(r(185));No(e,s,c),((Tn&2)===0||e!==Ot)&&(e===Ot&&((Tn&2)===0&&(ol|=s),kt===4&&Jo(e,qt)),kr(e,c),s===1&&Tn===0&&(t.mode&1)===0&&(ks=ln()+500,Zl&&jo()))}function kr(e,t){var s=e.callbackNode;Zc(e,t);var c=Li(e,e===Ot?qt:0);if(c===0)s!==null&&Ce(s),e.callbackNode=null,e.callbackPriority=0;else if(t=c&-c,e.callbackPriority!==t){if(s!=null&&Ce(s),t===1)e.tag===0?hs(Of.bind(null,e)):af(Of.bind(null,e)),Kl(function(){(Tn&6)===0&&jo()}),s=null;else{switch(Qe(c)){case 1:s=Kt;break;case 4:s=Dr;break;case 16:s=ot;break;case 536870912:s=Fe;break;default:s=ot}s=Ff(s,Nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Nc(e,t){if(Mc=-1,ll=0,(Tn&6)!==0)throw Error(r(327));var s=e.callbackNode;if(ya()&&e.callbackNode!==s)return null;var c=Li(e,e===Ot?qt:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||t)t=Oc(e,c);else{t=c;var h=Tn;Tn|=2;var v=If();(Ot!==e||qt!==t)&&(So=null,ks=ln()+500,Cs(e,t));do try{Vp();break}catch(N){Pf(e,N)}while(!0);go(),Tc.current=v,Tn=h,Et!==null?t=0:(Ot=null,qt=0,t=kt)}if(t!==0){if(t===2&&(h=Fs(e),h!==0&&(c=h,t=td(e,h))),t===1)throw s=il,Cs(e,0),Jo(e,c),kr(e,ln()),s;if(t===6)Jo(e,c);else{if(h=e.current.alternate,(c&30)===0&&!Gp(h)&&(t=Oc(e,c),t===2&&(v=Fs(e),v!==0&&(c=v,t=td(e,v))),t===1))throw s=il,Cs(e,0),Jo(e,c),kr(e,ln()),s;switch(e.finishedWork=h,e.finishedLanes=c,t){case 0:case 1:throw Error(r(345));case 2:Rs(e,xr,So);break;case 3:if(Jo(e,c),(c&130023424)===c&&(t=Ju+500-ln(),10<t)){if(Li(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){pr(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Bo(Rs.bind(null,e,xr,So),t);break}Rs(e,xr,So);break;case 4:if(Jo(e,c),(c&4194240)===c)break;for(t=e.eventTimes,h=-1;0<c;){var S=31-st(c);v=1<<S,S=t[S],S>h&&(h=S),c&=~v}if(c=h,c=ln()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Nf(c/1960))-c,10<c){e.timeoutHandle=Bo(Rs.bind(null,e,xr,So),c);break}Rs(e,xr,So);break;case 5:Rs(e,xr,So);break;default:throw Error(r(329))}}}return kr(e,ln()),e.callbackNode===s?Nc.bind(null,e):null}function td(e,t){var s=sl;return e.current.memoizedState.isDehydrated&&(Cs(e,t).flags|=256),e=Oc(e,t),e!==2&&(t=xr,xr=s,t!==null&&rd(t)),e}function rd(e){xr===null?xr=e:xr.push.apply(xr,e)}function Gp(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var h=s[c],v=h.getSnapshot;h=h.value;try{if(!G(v(),h))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jo(e,t){for(t&=~Cc,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-st(t),c=1<<s;e[s]=-1,t&=~c}}function Of(e){if((Tn&6)!==0)throw Error(r(327));ya();var t=Li(e,0);if((t&1)===0)return kr(e,ln()),null;var s=Oc(e,t);if(e.tag!==0&&s===2){var c=Fs(e);c!==0&&(t=c,s=td(e,c))}if(s===1)throw s=il,Cs(e,0),Jo(e,t),kr(e,ln()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e,xr,So),kr(e,ln()),null}function id(e,t){var s=Tn;Tn|=1;try{return e(t)}finally{Tn=s,Tn===0&&(ks=ln()+500,Zl&&jo())}}function Ts(e){Zo!==null&&Zo.tag===0&&(Tn&6)===0&&ya();var t=Tn;Tn|=1;var s=ui.transition,c=En;try{if(ui.transition=null,En=1,e)return e()}finally{En=c,ui.transition=s,Tn=t,(Tn&6)===0&&jo()}}function od(){Hr=ba.current,Zn(ba)}function Cs(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,za(s)),Et!==null)for(s=Et.return;s!==null;){var c=s;switch(vs(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Xl();break;case 3:qo(),Zn(_r),Zn(Qt),ac();break;case 5:sc(c);break;case 4:qo();break;case 13:Zn(tt);break;case 19:Zn(tt);break;case 10:tc(c.type._context);break;case 22:case 23:od()}s=s.return}if(Ot=e,Et=e=Ni(e.current,null),qt=Hr=t,kt=0,il=null,Cc=ol=Yo=0,xr=sl=null,ys!==null){for(t=0;t<ys.length;t++)if(s=ys[t],c=s.interleaved,c!==null){s.interleaved=null;var h=c.next,v=s.pending;if(v!==null){var S=v.next;v.next=h,c.next=S}s.pending=c}ys=null}return e}function Pf(e,t){do{var s=Et;try{if(go(),Ha.current=pc,la){for(var c=at.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}la=!1}if(Go=0,xt=mt=at=null,qa=!1,Es=0,Qu.current=null,s===null||s.return===null){kt=1,il=t,Et=null;break}e:{var v=e,S=s.return,N=s,D=t;if(t=qt,N.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var V=D,ae=N,ce=ae.tag;if((ae.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=ae.alternate;se?(ae.updateQueue=se.updateQueue,ae.memoizedState=se.memoizedState,ae.lanes=se.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var Ae=Ef(S);if(Ae!==null){Ae.flags&=-257,Fu(Ae,S,N,v,t),Ae.mode&1&&Xa(v,V,t),t=Ae,D=V;var De=t.updateQueue;if(De===null){var ze=new Set;ze.add(D),t.updateQueue=ze}else De.add(D);break e}else{if((t&1)===0){Xa(v,V,t),sd();break e}D=Error(r(426))}}else if(Qn&&N.mode&1){var vt=Ef(S);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Fu(vt,S,N,v,t),qi(xs(D,N));break e}}v=D=xs(D,N),kt!==4&&(kt=2),sl===null?sl=[v]:sl.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,t&=-t,v.lanes|=t;var W=Ya(v,D,t);pf(v,W);break e;case 1:N=D;var F=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Xo===null||!Xo.has(H)))){v.flags|=65536,t&=-t,v.lanes|=t;var pe=bc(v,N,t);pf(v,pe);break e}}v=v.return}while(v!==null)}Df(s)}catch($e){t=$e,Et===s&&s!==null&&(Et=s=s.return);continue}break}while(!0)}function If(){var e=Tc.current;return Tc.current=pc,e===null?pc:e}function sd(){(kt===0||kt===3||kt===2)&&(kt=4),Ot===null||(Yo&268435455)===0&&(ol&268435455)===0||Jo(Ot,qt)}function Oc(e,t){var s=Tn;Tn|=2;var c=If();(Ot!==e||qt!==t)&&(So=null,Cs(e,t));do try{Kp();break}catch(h){Pf(e,h)}while(!0);if(go(),Tn=s,Tc.current=c,Et!==null)throw Error(r(261));return Ot=null,qt=0,kt}function Kp(){for(;Et!==null;)Lf(Et)}function Vp(){for(;Et!==null&&!An();)Lf(Et)}function Lf(e){var t=Bf(e.alternate,e,Hr);e.memoizedProps=e.pendingProps,t===null?Df(e):Et=t,Qu.current=null}function Df(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Wp(s,t,Hr),s!==null){Et=s;return}}else{if(s=Hp(s,t),s!==null){s.flags&=32767,Et=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,Et=null;return}}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);kt===0&&(kt=5)}function Rs(e,t,s){var c=En,h=ui.transition;try{ui.transition=null,En=1,Yp(e,t,s,c)}finally{ui.transition=h,En=c}return null}function Yp(e,t,s,c){do ya();while(Zo!==null);if((Tn&6)!==0)throw Error(r(327));s=e.finishedWork;var h=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var v=s.lanes|s.childLanes;if(zr(e,v),e===Ot&&(Et=Ot=null,qt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Ac||(Ac=!0,Ff(ot,function(){return ya(),null})),v=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||v){v=ui.transition,ui.transition=null;var S=En;En=1;var N=Tn;Tn|=4,Qu.current=null,qp(e,s),Xu(s,e),Fp(ps),Rl=!!La,ps=La=null,e.current=s,kc(s),ht(),Tn=N,En=S,ui.transition=v}else e.current=s;if(Ac&&(Ac=!1,Zo=e,fr=h),v=e.pendingLanes,v===0&&(Xo=null),gt(s.stateNode),kr(e,ln()),t!==null)for(c=e.onRecoverableError,s=0;s<t.length;s++)h=t[s],c(h.value,{componentStack:h.stack,digest:h.digest});if(Rc)throw Rc=!1,e=ed,ed=null,e;return(fr&1)!==0&&e.tag!==0&&ya(),v=e.pendingLanes,(v&1)!==0?e===nd?al++:(al=0,nd=e):al=0,jo(),null}function ya(){if(Zo!==null){var e=Qe(fr),t=ui.transition,s=En;try{if(ui.transition=null,En=16>e?16:e,Zo===null)var c=!1;else{if(e=Zo,Zo=null,fr=0,(Tn&6)!==0)throw Error(r(331));var h=Tn;for(Tn|=4,Pe=e.current;Pe!==null;){var v=Pe,S=v.child;if((Pe.flags&16)!==0){var N=v.deletions;if(N!==null){for(var D=0;D<N.length;D++){var V=N[D];for(Pe=V;Pe!==null;){var ae=Pe;switch(ae.tag){case 0:case 11:case 15:wo(8,ae,v)}var ce=ae.child;if(ce!==null)ce.return=ae,Pe=ce;else for(;Pe!==null;){ae=Pe;var se=ae.sibling,Ae=ae.return;if(Cf(ae),ae===V){Pe=null;break}if(se!==null){se.return=Ae,Pe=se;break}Pe=Ae}}}var De=v.alternate;if(De!==null){var ze=De.child;if(ze!==null){De.child=null;do{var vt=ze.sibling;ze.sibling=null,ze=vt}while(ze!==null)}}Pe=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,Pe=S;else e:for(;Pe!==null;){if(v=Pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:wo(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,Pe=W;break e}Pe=v.return}}var F=e.current;for(Pe=F;Pe!==null;){S=Pe;var H=S.child;if((S.subtreeFlags&2064)!==0&&H!==null)H.return=S,Pe=H;else e:for(S=F;Pe!==null;){if(N=Pe,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:rl(9,N)}}catch($e){lt(N,N.return,$e)}if(N===S){Pe=null;break e}var pe=N.sibling;if(pe!==null){pe.return=N.return,Pe=pe;break e}Pe=N.return}}if(Tn=h,jo(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(fn,e)}catch{}c=!0}return c}finally{En=s,ui.transition=t}}return!1}function Pc(e,t,s){t=xs(s,t),t=Ya(e,t,1),e=ai(e,t,1),t=pr(),e!==null&&(No(e,1,t),kr(e,t))}function lt(e,t,s){if(e.tag===3)Pc(e,e,s);else for(;t!==null;){if(t.tag===3){Pc(t,e,s);break}else if(t.tag===1){var c=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Xo===null||!Xo.has(c))){e=xs(s,e),e=bc(t,e,1),t=ai(t,e,1),e=pr(),t!==null&&(No(t,1,e),kr(t,e));break}}t=t.return}}function Xp(e,t,s){var c=e.pingCache;c!==null&&c.delete(t),t=pr(),e.pingedLanes|=e.suspendedLanes&s,Ot===e&&(qt&s)===s&&(kt===4||kt===3&&(qt&130023424)===qt&&500>ln()-Ju?Cs(e,0):Cc|=s),kr(e,t)}function zf(e,t){t===0&&((e.mode&1)===0?t=1:(t=ss,ss<<=1,(ss&130023424)===0&&(ss=4194304)));var s=pr();e=mo(e,t),e!==null&&(No(e,t,s),kr(e,s))}function Zp(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),zf(e,s)}function Qp(e,t){var s=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(t),zf(e,s)}var Bf;Bf=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||_r.current)ur=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return ur=!1,xf(e,t,s);ur=(e.flags&131072)!==0}else ur=!1,Qn&&(t.flags&1048576)!==0&&lf(t,Jl,t.index);switch(t.lanes=0,t.tag){case 2:var c=t.type;Ec(e,t),e=t.pendingProps;var h=ra(t,Qt.current);Ho(t,s),h=ws(null,t,c,e,h,s);var v=lc();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Er(c)?(v=!0,ti(t)):v=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ic(t),h.updater=mc,t.stateNode=h,h._reactInternals=t,Bu(t,c,e,s),t=qu(null,t,c,!0,v,s)):(t.tag=0,Qn&&v&&Ba(t),jt(null,t,h,s),t=t.child),t;case 16:c=t.elementType;e:{switch(Ec(e,t),e=t.pendingProps,h=c._init,c=h(c._payload),t.type=c,h=t.tag=eh(c),e=ci(c,e),h){case 0:t=Wu(null,t,c,e,s);break e;case 1:t=Hu(null,t,c,e,s);break e;case 11:t=wf(null,t,c,e,s);break e;case 14:t=Uu(null,t,c,ci(c.type,e),s);break e}throw Error(r(306,c,""))}return t;case 0:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:ci(c,h),Wu(e,t,c,h,s);case 1:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:ci(c,h),Hu(e,t,c,h,s);case 3:e:{if(Sf(t),e===null)throw Error(r(387));c=t.pendingProps,v=t.memoizedState,h=v.element,ff(e,t),sa(t,c,null,s);var S=t.memoizedState;if(c=S.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},t.updateQueue.baseState=v,t.memoizedState=v,t.flags&256){h=xs(Error(r(423)),t),t=Xi(e,t,c,s,h);break e}else if(c!==h){h=xs(Error(r(424)),t),t=Xi(e,t,c,s,h);break e}else for($r=Fo(t.stateNode.containerInfo.firstChild),er=t,Qn=!0,xi=null,s=nc(t,null,c,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Hi(),c===h){t=Ti(e,t,s);break e}jt(e,t,c,s)}t=t.child}return t;case 5:return ku(t),e===null&&wr(t),c=t.type,h=t.pendingProps,v=e!==null?e.memoizedProps:null,S=h.children,Da(c,h)?S=null:v!==null&&Da(c,v)&&(t.flags|=32),ju(e,t),jt(e,t,S,s),t.child;case 6:return e===null&&wr(t),null;case 13:return _c(e,t,s);case 4:return xu(t,t.stateNode.containerInfo),c=t.pendingProps,e===null?t.child=ft(t,null,c,s):jt(e,t,c,s),t.child;case 11:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:ci(c,h),wf(e,t,c,h,s);case 7:return jt(e,t,t.pendingProps,s),t.child;case 8:return jt(e,t,t.pendingProps.children,s),t.child;case 12:return jt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(c=t.type._context,h=t.pendingProps,v=t.memoizedProps,S=h.value,Vn($a,c._currentValue),c._currentValue=S,v!==null)if(G(v.value,S)){if(v.children===h.children&&!_r.current){t=Ti(e,t,s);break e}}else for(v=t.child,v!==null&&(v.return=t);v!==null;){var N=v.dependencies;if(N!==null){S=v.child;for(var D=N.firstContext;D!==null;){if(D.context===c){if(v.tag===1){D=vo(-1,s&-s),D.tag=2;var V=v.updateQueue;if(V!==null){V=V.shared;var ae=V.pending;ae===null?D.next=D:(D.next=ae.next,ae.next=D),V.pending=D}}v.lanes|=s,D=v.alternate,D!==null&&(D.lanes|=s),$t(v.return,s,t),N.lanes|=s;break}D=D.next}}else if(v.tag===10)S=v.type===t.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=s,N=S.alternate,N!==null&&(N.lanes|=s),$t(S,s,t),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===t){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}jt(e,t,h.children,s),t=t.child}return t;case 9:return h=t.type,c=t.pendingProps.children,Ho(t,s),h=oi(h),c=c(h),t.flags|=1,jt(e,t,c,s),t.child;case 14:return c=t.type,h=ci(c,t.pendingProps),h=ci(c.type,h),Uu(e,t,c,h,s);case 15:return Yi(e,t,t.type,t.pendingProps,s);case 17:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:ci(c,h),Ec(e,t),t.tag=1,Er(c)?(e=!0,ti(t)):e=!1,Ho(t,s),Ss(t,c,h),Bu(t,c,h,s),qu(null,t,c,!0,e,s);case 19:return Ko(e,t,s);case 22:return $u(e,t,s)}throw Error(r(156,t.tag))};function Ff(e,t){return de(e,t)}function Jp(e,t,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,t,s,c){return new Jp(e,t,s,c)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eh(e){if(typeof e=="function")return Ic(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cn)return 11;if(e===re)return 14}return 2}function Ni(e,t){var s=e.alternate;return s===null?(s=di(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Lc(e,t,s,c,h,v){var S=2;if(c=e,typeof e=="function")Ic(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case he:return As(s.children,h,v,t);case me:S=8,h|=8;break;case Ge:return e=di(12,s,t,h|2),e.elementType=Ge,e.lanes=v,e;case qe:return e=di(13,s,t,h),e.elementType=qe,e.lanes=v,e;case ge:return e=di(19,s,t,h),e.elementType=ge,e.lanes=v,e;case ie:return Dc(s,h,v,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case je:S=10;break e;case Ee:S=9;break e;case cn:S=11;break e;case re:S=14;break e;case ee:S=16,c=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return t=di(S,s,t,h),t.elementType=e,t.type=c,t.lanes=v,t}function As(e,t,s,c){return e=di(7,e,c,t),e.lanes=s,e}function Dc(e,t,s,c){return e=di(22,e,c,t),e.elementType=ie,e.lanes=s,e.stateNode={isHidden:!1},e}function ad(e,t,s){return e=di(6,e,null,t),e.lanes=s,e}function ld(e,t,s){return t=di(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nh(e,t,s,c,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function cd(e,t,s,c,h,v,S,N,D){return e=new nh(e,t,s,N,D),t===1?(t=1,v===!0&&(t|=8)):t=0,v=di(3,null,null,t),e.current=v,v.stateNode=e,v.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ic(v),e}function th(e,t,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:c==null?null:""+c,children:e,containerInfo:t,implementation:s}}function Uf(e){if(!e)return $o;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(Er(s))return of(e,s,t)}return t}function $f(e,t,s,c,h,v,S,N,D){return e=cd(s,c,!0,e,h,v,S,N,D),e.context=Uf(null),s=e.current,c=pr(),h=Qo(s),v=vo(c,h),v.callback=t??null,ai(s,v,h),e.current.lanes=h,No(e,h,c),kr(e,c),e}function zc(e,t,s,c){var h=t.current,v=pr(),S=Qo(h);return s=Uf(s),t.context===null?t.context=s:t.pendingContext=s,t=vo(v,S),t.payload={element:e},c=c===void 0?null:c,c!==null&&(t.callback=c),e=ai(h,t,S),e!==null&&(Mi(e,h,S,v),oc(e,h,S)),S}function Bc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ud(e,t){jf(e,t),(e=e.alternate)&&jf(e,t)}function rh(){return null}var Wf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fc(e){this._internalRoot=e}cl.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));zc(e,t,null,null)},cl.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ts(function(){zc(null,e,null,null)}),t[Ur]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oo();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Mt.length&&t!==0&&t<Mt[s].priority;s++);Mt.splice(s,0,e),s===0&&Pd(e)}};function dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hf(){}function ih(e,t,s,c,h){if(h){if(typeof c=="function"){var v=c;c=function(){var V=Bc(S);v.call(V)}}var S=$f(t,c,e,0,null,!1,!1,"",Hf);return e._reactRootContainer=S,e[Ur]=S.current,zo(e.nodeType===8?e.parentNode:e),Ts(),S}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var N=c;c=function(){var V=Bc(D);N.call(V)}}var D=cd(e,0,!1,null,null,!1,!1,"",Hf);return e._reactRootContainer=D,e[Ur]=D.current,zo(e.nodeType===8?e.parentNode:e),Ts(function(){zc(t,D,s,c)}),D}function Ms(e,t,s,c,h){var v=s._reactRootContainer;if(v){var S=v;if(typeof h=="function"){var N=h;h=function(){var D=Bc(S);N.call(D)}}zc(t,S,e,h)}else S=ih(s,t,e,h,c);return Bc(S)}Us=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=so(t.pendingLanes);s!==0&&(as(t,s|1),kr(t,ln()),(Tn&6)===0&&(ks=ln()+500,jo()))}break;case 13:Ts(function(){var c=mo(e,1);if(c!==null){var h=pr();Mi(c,e,1,h)}}),ud(e,1)}},ut=function(e){if(e.tag===13){var t=mo(e,134217728);if(t!==null){var s=pr();Mi(t,e,134217728,s)}ud(e,134217728)}},Dn=function(e){if(e.tag===13){var t=Qo(e),s=mo(e,t);if(s!==null){var c=pr();Mi(s,e,t,c)}ud(e,t)}},Oo=function(){return En},wi=function(e,t){var s=En;try{return En=e,t()}finally{En=s}},gn=function(e,t,s){switch(t){case"input":if(it(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var c=s[t];if(c!==e&&c.form===e.form){var h=Yl(c);if(!h)throw Error(r(90));Rn(c),it(c,h)}}}break;case"textarea":Rt(e,s);break;case"select":t=s.value,t!=null&&Yn(e,!!s.multiple,t,!1)}},ve=id,nn=Ts;var oh={usingClientEntryPoint:!1,Events:[Zt,un,Yl,I,Y,id]},ul={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sh={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ue(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||rh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{fn=$c.inject(sh),vn=$c}catch{}}return gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oh,gi.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dd(t))throw Error(r(200));return th(e,t,null,s)},gi.createRoot=function(e,t){if(!dd(e))throw Error(r(299));var s=!1,c="",h=Wf;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(c=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=cd(e,1,!1,null,null,s,!1,c,h),e[Ur]=t.current,zo(e.nodeType===8?e.parentNode:e),new Fc(t)},gi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Ue(t),e=e===null?null:e.stateNode,e},gi.flushSync=function(e){return Ts(e)},gi.hydrate=function(e,t,s){if(!Uc(t))throw Error(r(200));return Ms(null,e,t,!0,s)},gi.hydrateRoot=function(e,t,s){if(!dd(e))throw Error(r(405));var c=s!=null&&s.hydratedSources||null,h=!1,v="",S=Wf;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),t=$f(t,null,e,1,s??null,h,!1,v,S),e[Ur]=t.current,zo(e),c)for(e=0;e<c.length;e++)s=c[e],h=s._getVersion,h=h(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,h]:t.mutableSourceEagerHydrationData.push(s,h);return new cl(t)},gi.render=function(e,t,s){if(!Uc(t))throw Error(r(200));return Ms(null,e,t,!1,s)},gi.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(r(40));return e._reactRootContainer?(Ts(function(){Ms(null,null,e,!1,function(){e._reactRootContainer=null,e[Ur]=null})}),!0):!1},gi.unstable_batchedUpdates=id,gi.unstable_renderSubtreeIntoContainer=function(e,t,s,c){if(!Uc(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return Ms(e,t,s,!1,c)},gi.version="18.3.1-next-f1338f8080-20240426",gi}var Mm;function Eb(){if(Mm)return Eh.exports;Mm=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(n){console.error(n)}}return f(),Eh.exports=Q_(),Eh.exports}var Nm;function J_(){if(Nm)return Yf;Nm=1;var f=Eb();return Yf.createRoot=f.createRoot,Yf.hydrateRoot=f.hydrateRoot,Yf}var eE=J_();const nE="modulepreload",tE=function(f){return"/"+f},Om={},rE=function(n,r,a){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=Promise.allSettled(r.map(b=>{if(b=tE(b),b in Om)return;Om[b]=!0;const m=b.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${_}`))return;const E=document.createElement("link");if(E.rel=m?"stylesheet":nE,m||(E.as="script"),E.crossOrigin="",E.href=b,g&&E.setAttribute("nonce",g),document.head.appendChild(E),m)return new Promise((x,k)=>{E.addEventListener("load",x),E.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${b}`)))})}))}function u(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return l.then(p=>{for(const g of p||[])g.status==="rejected"&&u(g.reason);return n().catch(u)})};Eb();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(f){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(f[a]=r[a])}return f},Rd.apply(this,arguments)}var wa;(function(f){f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE"})(wa||(wa={}));const Pm="popstate";function iE(f){f===void 0&&(f={});function n(l,u){let{pathname:p="/",search:g="",hash:b=""}=wl(l.location.hash.substr(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),Mg("",{pathname:p,search:g,hash:b},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){let p=l.document.querySelector("base"),g="";if(p&&p.getAttribute("href")){let b=l.location.href,m=b.indexOf("#");g=m===-1?b:b.slice(0,m)}return g+"#"+(typeof u=="string"?u:pp(u))}function a(l,u){Hg(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return sE(n,r,a,f)}function Lt(f,n){if(f===!1||f===null||typeof f>"u")throw new Error(n)}function Hg(f,n){if(!f){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function oE(){return Math.random().toString(36).substr(2,8)}function Im(f,n){return{usr:f.state,key:f.key,idx:n}}function Mg(f,n,r,a){return r===void 0&&(r=null),Rd({pathname:typeof f=="string"?f:f.pathname,search:"",hash:""},typeof n=="string"?wl(n):n,{state:r,key:n&&n.key||a||oE()})}function pp(f){let{pathname:n="/",search:r="",hash:a=""}=f;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function wl(f){let n={};if(f){let r=f.indexOf("#");r>=0&&(n.hash=f.substr(r),f=f.substr(0,r));let a=f.indexOf("?");a>=0&&(n.search=f.substr(a),f=f.substr(0,a)),f&&(n.pathname=f)}return n}function sE(f,n,r,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:u=!1}=a,p=l.history,g=wa.Pop,b=null,m=_();m==null&&(m=0,p.replaceState(Rd({},p.state,{idx:m}),""));function _(){return(p.state||{idx:null}).idx}function E(){g=wa.Pop;let M=_(),L=M==null?null:M-m;m=M,b&&b({action:g,location:A.location,delta:L})}function x(M,L){g=wa.Push;let q=Mg(A.location,M,L);r&&r(q,M),m=_()+1;let K=Im(q,m),Q=A.createHref(q);try{p.pushState(K,"",Q)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(Q)}u&&b&&b({action:g,location:A.location,delta:1})}function k(M,L){g=wa.Replace;let q=Mg(A.location,M,L);r&&r(q,M),m=_();let K=Im(q,m),Q=A.createHref(q);p.replaceState(K,"",Q),u&&b&&b({action:g,location:A.location,delta:0})}function R(M){let L=l.location.origin!=="null"?l.location.origin:l.location.href,q=typeof M=="string"?M:pp(M);return q=q.replace(/ $/,"%20"),Lt(L,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,L)}let A={get action(){return g},get location(){return f(l,p)},listen(M){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(Pm,E),b=M,()=>{l.removeEventListener(Pm,E),b=null}},createHref(M){return n(l,M)},createURL:R,encodeLocation(M){let L=R(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:k,go(M){return p.go(M)}};return A}var Lm;(function(f){f.data="data",f.deferred="deferred",f.redirect="redirect",f.error="error"})(Lm||(Lm={}));function aE(f,n,r){return r===void 0&&(r="/"),lE(f,n,r)}function lE(f,n,r,a){let l=typeof n=="string"?wl(n):n,u=qg(l.pathname||"/",r);if(u==null)return null;let p=wb(f);cE(p);let g=null;for(let b=0;g==null&&b<p.length;++b){let m=EE(u);g=bE(p[b],m)}return g}function wb(f,n,r,a){n===void 0&&(n=[]),r===void 0&&(r=[]),a===void 0&&(a="");let l=(u,p,g)=>{let b={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};b.relativePath.startsWith("/")&&(Lt(b.relativePath.startsWith(a),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(a.length));let m=Sa([a,b.relativePath]),_=r.concat(b);u.children&&u.children.length>0&&(Lt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),wb(u.children,n,_,m)),!(u.path==null&&!u.index)&&n.push({path:m,score:mE(m,u.index),routesMeta:_})};return f.forEach((u,p)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))l(u,p);else for(let b of Sb(u.path))l(u,p,b)}),n}function Sb(f){let n=f.split("/");if(n.length===0)return[];let[r,...a]=n,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let p=Sb(a.join("/")),g=[];return g.push(...p.map(b=>b===""?u:[u,b].join("/"))),l&&g.push(...p),g.map(b=>f.startsWith("/")&&b===""?"/":b)}function cE(f){f.sort((n,r)=>n.score!==r.score?r.score-n.score:vE(n.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const uE=/^:[\w-]+$/,dE=3,fE=2,pE=1,hE=10,gE=-2,Dm=f=>f==="*";function mE(f,n){let r=f.split("/"),a=r.length;return r.some(Dm)&&(a+=gE),n&&(a+=fE),r.filter(l=>!Dm(l)).reduce((l,u)=>l+(uE.test(u)?dE:u===""?pE:hE),a)}function vE(f,n){return f.length===n.length&&f.slice(0,-1).every((a,l)=>a===n[l])?f[f.length-1]-n[n.length-1]:0}function bE(f,n,r){let{routesMeta:a}=f,l={},u="/",p=[];for(let g=0;g<a.length;++g){let b=a[g],m=g===a.length-1,_=u==="/"?n:n.slice(u.length)||"/",E=yE({path:b.relativePath,caseSensitive:b.caseSensitive,end:m},_),x=b.route;if(!E)return null;Object.assign(l,E.params),p.push({params:l,pathname:Sa([u,E.pathname]),pathnameBase:kE(Sa([u,E.pathnameBase])),route:x}),E.pathnameBase!=="/"&&(u=Sa([u,E.pathnameBase]))}return p}function yE(f,n){typeof f=="string"&&(f={path:f,caseSensitive:!1,end:!0});let[r,a]=_E(f.path,f.caseSensitive,f.end),l=n.match(r);if(!l)return null;let u=l[0],p=u.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:a.reduce((m,_,E)=>{let{paramName:x,isOptional:k}=_;if(x==="*"){let A=g[E]||"";p=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const R=g[E];return k&&!R?m[x]=void 0:m[x]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:p,pattern:f}}function _E(f,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),Hg(f==="*"||!f.endsWith("*")||f.endsWith("/*"),'Route path "'+f+'" will be treated as if it were '+('"'+f.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+f.replace(/\*$/,"/*")+'".'));let a=[],l="^"+f.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,b)=>(a.push({paramName:g,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return f.endsWith("*")?(a.push({paramName:"*"}),l+=f==="*"||f==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":f!==""&&f!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),a]}function EE(f){try{return f.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Hg(!1,'The URL path "'+f+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),f}}function qg(f,n){if(n==="/")return f;if(!f.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,a=f.charAt(r);return a&&a!=="/"?null:f.slice(r)||"/"}function wE(f,n){n===void 0&&(n="/");let{pathname:r,search:a="",hash:l=""}=typeof f=="string"?wl(f):f;return{pathname:r?r.startsWith("/")?r:SE(r,n):n,search:TE(a),hash:CE(l)}}function SE(f,n){let r=n.replace(/\/+$/,"").split("/");return f.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function xh(f,n,r,a){return"Cannot include a '"+f+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xE(f){return f.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function xb(f,n){let r=xE(f);return n?r.map((a,l)=>l===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function kb(f,n,r,a){a===void 0&&(a=!1);let l;typeof f=="string"?l=wl(f):(l=Rd({},f),Lt(!l.pathname||!l.pathname.includes("?"),xh("?","pathname","search",l)),Lt(!l.pathname||!l.pathname.includes("#"),xh("#","pathname","hash",l)),Lt(!l.search||!l.search.includes("#"),xh("#","search","hash",l)));let u=f===""||l.pathname==="",p=u?"/":l.pathname,g;if(p==null)g=r;else{let E=n.length-1;if(!a&&p.startsWith("..")){let x=p.split("/");for(;x[0]==="..";)x.shift(),E-=1;l.pathname=x.join("/")}g=E>=0?n[E]:"/"}let b=wE(l,g),m=p&&p!=="/"&&p.endsWith("/"),_=(u||p===".")&&r.endsWith("/");return!b.pathname.endsWith("/")&&(m||_)&&(b.pathname+="/"),b}const Sa=f=>f.join("/").replace(/\/\/+/g,"/"),kE=f=>f.replace(/\/+$/,"").replace(/^\/*/,"/"),TE=f=>!f||f==="?"?"":f.startsWith("?")?f:"?"+f,CE=f=>!f||f==="#"?"":f.startsWith("#")?f:"#"+f;function RE(f){return f!=null&&typeof f.status=="number"&&typeof f.statusText=="string"&&typeof f.internal=="boolean"&&"data"in f}const Tb=["post","put","patch","delete"];new Set(Tb);const AE=["get",...Tb];new Set(AE);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(f){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(f[a]=r[a])}return f},Ad.apply(this,arguments)}const Gg=Se.createContext(null),ME=Se.createContext(null),Sl=Se.createContext(null),_p=Se.createContext(null),xa=Se.createContext({outlet:null,matches:[],isDataRoute:!1}),Cb=Se.createContext(null);function NE(f,n){let{relative:r}=n===void 0?{}:n;Nd()||Lt(!1);let{basename:a,navigator:l}=Se.useContext(Sl),{hash:u,pathname:p,search:g}=Mb(f,{relative:r}),b=p;return a!=="/"&&(b=p==="/"?a:Sa([a,p])),l.createHref({pathname:b,search:g,hash:u})}function Nd(){return Se.useContext(_p)!=null}function Ep(){return Nd()||Lt(!1),Se.useContext(_p).location}function Rb(f){Se.useContext(Sl).static||Se.useLayoutEffect(f)}function OE(){let{isDataRoute:f}=Se.useContext(xa);return f?qE():PE()}function PE(){Nd()||Lt(!1);let f=Se.useContext(Gg),{basename:n,future:r,navigator:a}=Se.useContext(Sl),{matches:l}=Se.useContext(xa),{pathname:u}=Ep(),p=JSON.stringify(xb(l,r.v7_relativeSplatPath)),g=Se.useRef(!1);return Rb(()=>{g.current=!0}),Se.useCallback(function(m,_){if(_===void 0&&(_={}),!g.current)return;if(typeof m=="number"){a.go(m);return}let E=kb(m,JSON.parse(p),u,_.relative==="path");f==null&&n!=="/"&&(E.pathname=E.pathname==="/"?n:Sa([n,E.pathname])),(_.replace?a.replace:a.push)(E,_.state,_)},[n,a,p,u,f])}function Ab(){let{matches:f}=Se.useContext(xa),n=f[f.length-1];return n?n.params:{}}function Mb(f,n){let{relative:r}=n===void 0?{}:n,{future:a}=Se.useContext(Sl),{matches:l}=Se.useContext(xa),{pathname:u}=Ep(),p=JSON.stringify(xb(l,a.v7_relativeSplatPath));return Se.useMemo(()=>kb(f,JSON.parse(p),u,r==="path"),[f,p,u,r])}function IE(f,n){return LE(f,n)}function LE(f,n,r,a){Nd()||Lt(!1);let{navigator:l,static:u}=Se.useContext(Sl),{matches:p}=Se.useContext(xa),g=p[p.length-1],b=g?g.params:{};g&&g.pathname;let m=g?g.pathnameBase:"/";g&&g.route;let _=Ep(),E;if(n){var x;let L=typeof n=="string"?wl(n):n;m==="/"||(x=L.pathname)!=null&&x.startsWith(m)||Lt(!1),E=L}else E=_;let k=E.pathname||"/",R=k;if(m!=="/"){let L=m.replace(/^\//,"").split("/");R="/"+k.replace(/^\//,"").split("/").slice(L.length).join("/")}let A=aE(f,{pathname:R}),M=UE(A&&A.map(L=>Object.assign({},L,{params:Object.assign({},b,L.params),pathname:Sa([m,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:Sa([m,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),p,r,a);return n&&M?Se.createElement(_p.Provider,{value:{location:Ad({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:wa.Pop}},M):M}function DE(){let f=HE(),n=RE(f)?f.status+" "+f.statusText:f instanceof Error?f.message:JSON.stringify(f),r=f instanceof Error?f.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Se.createElement(Se.Fragment,null,Se.createElement("h2",null,"Unexpected Application Error!"),Se.createElement("h3",{style:{fontStyle:"italic"}},n),r?Se.createElement("pre",{style:l},r):null,null)}const zE=Se.createElement(DE,null);class BE extends Se.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?Se.createElement(xa.Provider,{value:this.props.routeContext},Se.createElement(Cb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FE(f){let{routeContext:n,match:r,children:a}=f,l=Se.useContext(Gg);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),Se.createElement(xa.Provider,{value:n},a)}function UE(f,n,r,a){var l;if(n===void 0&&(n=[]),r===void 0&&(r=null),a===void 0&&(a=null),f==null){var u;if(!r)return null;if(r.errors)f=r.matches;else if((u=a)!=null&&u.v7_partialHydration&&n.length===0&&!r.initialized&&r.matches.length>0)f=r.matches;else return null}let p=f,g=(l=r)==null?void 0:l.errors;if(g!=null){let _=p.findIndex(E=>E.route.id&&(g==null?void 0:g[E.route.id])!==void 0);_>=0||Lt(!1),p=p.slice(0,Math.min(p.length,_+1))}let b=!1,m=-1;if(r&&a&&a.v7_partialHydration)for(let _=0;_<p.length;_++){let E=p[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=_),E.route.id){let{loaderData:x,errors:k}=r,R=E.route.loader&&x[E.route.id]===void 0&&(!k||k[E.route.id]===void 0);if(E.route.lazy||R){b=!0,m>=0?p=p.slice(0,m+1):p=[p[0]];break}}}return p.reduceRight((_,E,x)=>{let k,R=!1,A=null,M=null;r&&(k=g&&E.route.id?g[E.route.id]:void 0,A=E.route.errorElement||zE,b&&(m<0&&x===0?(GE("route-fallback"),R=!0,M=null):m===x&&(R=!0,M=E.route.hydrateFallbackElement||null)));let L=n.concat(p.slice(0,x+1)),q=()=>{let K;return k?K=A:R?K=M:E.route.Component?K=Se.createElement(E.route.Component,null):E.route.element?K=E.route.element:K=_,Se.createElement(FE,{match:E,routeContext:{outlet:_,matches:L,isDataRoute:r!=null},children:K})};return r&&(E.route.ErrorBoundary||E.route.errorElement||x===0)?Se.createElement(BE,{location:r.location,revalidation:r.revalidation,component:A,error:k,children:q(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):q()},null)}var Nb=function(f){return f.UseBlocker="useBlocker",f.UseRevalidator="useRevalidator",f.UseNavigateStable="useNavigate",f}(Nb||{}),Ob=function(f){return f.UseBlocker="useBlocker",f.UseLoaderData="useLoaderData",f.UseActionData="useActionData",f.UseRouteError="useRouteError",f.UseNavigation="useNavigation",f.UseRouteLoaderData="useRouteLoaderData",f.UseMatches="useMatches",f.UseRevalidator="useRevalidator",f.UseNavigateStable="useNavigate",f.UseRouteId="useRouteId",f}(Ob||{});function $E(f){let n=Se.useContext(Gg);return n||Lt(!1),n}function jE(f){let n=Se.useContext(ME);return n||Lt(!1),n}function WE(f){let n=Se.useContext(xa);return n||Lt(!1),n}function Pb(f){let n=WE(),r=n.matches[n.matches.length-1];return r.route.id||Lt(!1),r.route.id}function HE(){var f;let n=Se.useContext(Cb),r=jE(),a=Pb();return n!==void 0?n:(f=r.errors)==null?void 0:f[a]}function qE(){let{router:f}=$E(Nb.UseNavigateStable),n=Pb(Ob.UseNavigateStable),r=Se.useRef(!1);return Rb(()=>{r.current=!0}),Se.useCallback(function(l,u){u===void 0&&(u={}),r.current&&(typeof l=="number"?f.navigate(l):f.navigate(l,Ad({fromRouteId:n},u)))},[f,n])}const zm={};function GE(f,n,r){zm[f]||(zm[f]=!0)}function KE(f,n){f==null||f.v7_startTransition,f==null||f.v7_relativeSplatPath}function gl(f){Lt(!1)}function VE(f){let{basename:n="/",children:r=null,location:a,navigationType:l=wa.Pop,navigator:u,static:p=!1,future:g}=f;Nd()&&Lt(!1);let b=n.replace(/^\/*/,"/"),m=Se.useMemo(()=>({basename:b,navigator:u,static:p,future:Ad({v7_relativeSplatPath:!1},g)}),[b,g,u,p]);typeof a=="string"&&(a=wl(a));let{pathname:_="/",search:E="",hash:x="",state:k=null,key:R="default"}=a,A=Se.useMemo(()=>{let M=qg(_,b);return M==null?null:{location:{pathname:M,search:E,hash:x,state:k,key:R},navigationType:l}},[b,_,E,x,k,R,l]);return A==null?null:Se.createElement(Sl.Provider,{value:m},Se.createElement(_p.Provider,{children:r,value:A}))}function YE(f){let{children:n,location:r}=f;return IE(Ng(n),r)}new Promise(()=>{});function Ng(f,n){n===void 0&&(n=[]);let r=[];return Se.Children.forEach(f,(a,l)=>{if(!Se.isValidElement(a))return;let u=[...n,l];if(a.type===Se.Fragment){r.push.apply(r,Ng(a.props.children,u));return}a.type!==gl&&Lt(!1),!a.props.index||!a.props.children||Lt(!1);let p={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(p.children=Ng(a.props.children,u)),r.push(p)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Og(){return Og=Object.assign?Object.assign.bind():function(f){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(f[a]=r[a])}return f},Og.apply(this,arguments)}function XE(f,n){if(f==null)return{};var r={},a=Object.keys(f),l,u;for(u=0;u<a.length;u++)l=a[u],!(n.indexOf(l)>=0)&&(r[l]=f[l]);return r}function ZE(f){return!!(f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)}function QE(f,n){return f.button===0&&(!n||n==="_self")&&!ZE(f)}const JE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ew="6";try{window.__reactRouterVersion=ew}catch{}const nw="startTransition",Bm=Y_[nw];function tw(f){let{basename:n,children:r,future:a,window:l}=f,u=Se.useRef();u.current==null&&(u.current=iE({window:l,v5Compat:!0}));let p=u.current,[g,b]=Se.useState({action:p.action,location:p.location}),{v7_startTransition:m}=a||{},_=Se.useCallback(E=>{m&&Bm?Bm(()=>b(E)):b(E)},[b,m]);return Se.useLayoutEffect(()=>p.listen(_),[p,_]),Se.useEffect(()=>KE(a),[a]),Se.createElement(VE,{basename:n,children:r,location:g.location,navigationType:g.action,navigator:p,future:a})}const rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xc=Se.forwardRef(function(n,r){let{onClick:a,relative:l,reloadDocument:u,replace:p,state:g,target:b,to:m,preventScrollReset:_,viewTransition:E}=n,x=XE(n,JE),{basename:k}=Se.useContext(Sl),R,A=!1;if(typeof m=="string"&&iw.test(m)&&(R=m,rw))try{let K=new URL(window.location.href),Q=m.startsWith("//")?new URL(K.protocol+m):new URL(m),ue=qg(Q.pathname,k);Q.origin===K.origin&&ue!=null?m=ue+Q.search+Q.hash:A=!0}catch{}let M=NE(m,{relative:l}),L=ow(m,{replace:p,state:g,target:b,preventScrollReset:_,relative:l,viewTransition:E});function q(K){a&&a(K),K.defaultPrevented||L(K)}return Se.createElement("a",Og({},x,{href:R||M,onClick:A||u?a:q,ref:r,target:b}))});var Fm;(function(f){f.UseScrollRestoration="useScrollRestoration",f.UseSubmit="useSubmit",f.UseSubmitFetcher="useSubmitFetcher",f.UseFetcher="useFetcher",f.useViewTransitionState="useViewTransitionState"})(Fm||(Fm={}));var Um;(function(f){f.UseFetcher="useFetcher",f.UseFetchers="useFetchers",f.UseScrollRestoration="useScrollRestoration"})(Um||(Um={}));function ow(f,n){let{target:r,replace:a,state:l,preventScrollReset:u,relative:p,viewTransition:g}=n===void 0?{}:n,b=OE(),m=Ep(),_=Mb(f,{relative:p});return Se.useCallback(E=>{if(QE(E,r)){E.preventDefault();let x=a!==void 0?a:pp(m)===pp(_);b(f,{replace:x,state:l,preventScrollReset:u,relative:p,viewTransition:g})}},[m,b,_,a,l,r,f,u,p,g])}const sw=()=>Me.jsx("div",{className:"flex flex-row-reverse max-md:mx-4 max-md:my-0 max-md:flex-row",children:Me.jsxs("div",{className:"flex text-slate-600",children:[Me.jsx(Xc,{to:"/",children:Me.jsx("span",{className:"ml-5 hover:text-[#3370FF] active:text-[#3370FF] max-md:m-0 max-md:mr-5",children:"文章"})}),Me.jsx(Xc,{to:"/tags",children:Me.jsx("span",{className:"ml-5 hover:text-[#3370FF] active:text-[#3370FF] max-md:m-0 max-md:mr-5",children:"标签"})}),Me.jsx(Xc,{to:"/about-me",children:Me.jsx("span",{className:"ml-5 hover:text-[#3370FF] active:text-[#3370FF] max-md:m-0 max-md:mr-5",children:"关于我"})})]})}),aw=()=>Me.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:14,height:14,style:{fill:"#999",verticalAlign:"middle"},children:[Me.jsx("path",{fill:"none",d:"M0 0h24v24H0z"}),Me.jsx("path",{d:"M7.784 14l.42-4H4V8h4.415l.525-5h2.011l-.525 5h3.989l.525-5h2.011l-.525 5H20v2h-3.784l-.42 4H20v2h-4.415l-.525 5h-2.011l.525-5H9.585l-.525 5H7.049l.525-5H4v-2h3.784zm2.011.0h3.99l.42-4h-3.99l-.42 4z"})]});var dp={exports:{}},lw=dp.exports,$m;function cw(){return $m||($m=1,function(f,n){(function(r,a){f.exports=a()})(lw,function(){var r=1e3,a=6e4,l=36e5,u="millisecond",p="second",g="minute",b="hour",m="day",_="week",E="month",x="quarter",k="year",R="date",A="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ge){var re=["th","st","nd","rd"],ee=ge%100;return"["+ge+(re[(ee-20)%10]||re[ee]||re[0])+"]"}},K=function(ge,re,ee){var ie=String(ge);return!ie||ie.length>=re?ge:""+Array(re+1-ie.length).join(ee)+ge},Q={s:K,z:function(ge){var re=-ge.utcOffset(),ee=Math.abs(re),ie=Math.floor(ee/60),j=ee%60;return(re<=0?"+":"-")+K(ie,2,"0")+":"+K(j,2,"0")},m:function ge(re,ee){if(re.date()<ee.date())return-ge(ee,re);var ie=12*(ee.year()-re.year())+(ee.month()-re.month()),j=re.clone().add(ie,E),oe=ee-j<0,J=re.clone().add(ie+(oe?-1:1),E);return+(-(ie+(ee-j)/(oe?j-J:J-j))||0)},a:function(ge){return ge<0?Math.ceil(ge)||0:Math.floor(ge)},p:function(ge){return{M:E,y:k,w:_,d:m,D:R,h:b,m:g,s:p,ms:u,Q:x}[ge]||String(ge||"").toLowerCase().replace(/s$/,"")},u:function(ge){return ge===void 0}},ue="en",_e={};_e[ue]=q;var he="$isDayjsObject",me=function(ge){return ge instanceof cn||!(!ge||!ge[he])},Ge=function ge(re,ee,ie){var j;if(!re)return ue;if(typeof re=="string"){var oe=re.toLowerCase();_e[oe]&&(j=oe),ee&&(_e[oe]=ee,j=oe);var J=re.split("-");if(!j&&J.length>1)return ge(J[0])}else{var P=re.name;_e[P]=re,j=P}return!ie&&j&&(ue=j),j||!ie&&ue},je=function(ge,re){if(me(ge))return ge.clone();var ee=typeof re=="object"?re:{};return ee.date=ge,ee.args=arguments,new cn(ee)},Ee=Q;Ee.l=Ge,Ee.i=me,Ee.w=function(ge,re){return je(ge,{locale:re.$L,utc:re.$u,x:re.$x,$offset:re.$offset})};var cn=function(){function ge(ee){this.$L=Ge(ee.locale,null,!0),this.parse(ee),this.$x=this.$x||ee.x||{},this[he]=!0}var re=ge.prototype;return re.parse=function(ee){this.$d=function(ie){var j=ie.date,oe=ie.utc;if(j===null)return new Date(NaN);if(Ee.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var J=j.match(M);if(J){var P=J[2]-1||0,X=(J[7]||"0").substring(0,3);return oe?new Date(Date.UTC(J[1],P,J[3]||1,J[4]||0,J[5]||0,J[6]||0,X)):new Date(J[1],P,J[3]||1,J[4]||0,J[5]||0,J[6]||0,X)}}return new Date(j)}(ee),this.init()},re.init=function(){var ee=this.$d;this.$y=ee.getFullYear(),this.$M=ee.getMonth(),this.$D=ee.getDate(),this.$W=ee.getDay(),this.$H=ee.getHours(),this.$m=ee.getMinutes(),this.$s=ee.getSeconds(),this.$ms=ee.getMilliseconds()},re.$utils=function(){return Ee},re.isValid=function(){return this.$d.toString()!==A},re.isSame=function(ee,ie){var j=je(ee);return this.startOf(ie)<=j&&j<=this.endOf(ie)},re.isAfter=function(ee,ie){return je(ee)<this.startOf(ie)},re.isBefore=function(ee,ie){return this.endOf(ie)<je(ee)},re.$g=function(ee,ie,j){return Ee.u(ee)?this[ie]:this.set(j,ee)},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this.$d.getTime()},re.startOf=function(ee,ie){var j=this,oe=!!Ee.u(ie)||ie,J=Ee.p(ee),P=function(Ke,en){var _n=Ee.w(j.$u?Date.UTC(j.$y,en,Ke):new Date(j.$y,en,Ke),j);return oe?_n:_n.endOf(m)},X=function(Ke,en){return Ee.w(j.toDate()[Ke].apply(j.toDate("s"),(oe?[0,0,0,0]:[23,59,59,999]).slice(en)),j)},be=this.$W,Ne=this.$M,ye=this.$D,We="set"+(this.$u?"UTC":"");switch(J){case k:return oe?P(1,0):P(31,11);case E:return oe?P(1,Ne):P(0,Ne+1);case _:var Be=this.$locale().weekStart||0,Ie=(be<Be?be+7:be)-Be;return P(oe?ye-Ie:ye+(6-Ie),Ne);case m:case R:return X(We+"Hours",0);case b:return X(We+"Minutes",1);case g:return X(We+"Seconds",2);case p:return X(We+"Milliseconds",3);default:return this.clone()}},re.endOf=function(ee){return this.startOf(ee,!1)},re.$set=function(ee,ie){var j,oe=Ee.p(ee),J="set"+(this.$u?"UTC":""),P=(j={},j[m]=J+"Date",j[R]=J+"Date",j[E]=J+"Month",j[k]=J+"FullYear",j[b]=J+"Hours",j[g]=J+"Minutes",j[p]=J+"Seconds",j[u]=J+"Milliseconds",j)[oe],X=oe===m?this.$D+(ie-this.$W):ie;if(oe===E||oe===k){var be=this.clone().set(R,1);be.$d[P](X),be.init(),this.$d=be.set(R,Math.min(this.$D,be.daysInMonth())).$d}else P&&this.$d[P](X);return this.init(),this},re.set=function(ee,ie){return this.clone().$set(ee,ie)},re.get=function(ee){return this[Ee.p(ee)]()},re.add=function(ee,ie){var j,oe=this;ee=Number(ee);var J=Ee.p(ie),P=function(Ne){var ye=je(oe);return Ee.w(ye.date(ye.date()+Math.round(Ne*ee)),oe)};if(J===E)return this.set(E,this.$M+ee);if(J===k)return this.set(k,this.$y+ee);if(J===m)return P(1);if(J===_)return P(7);var X=(j={},j[g]=a,j[b]=l,j[p]=r,j)[J]||1,be=this.$d.getTime()+ee*X;return Ee.w(be,this)},re.subtract=function(ee,ie){return this.add(-1*ee,ie)},re.format=function(ee){var ie=this,j=this.$locale();if(!this.isValid())return j.invalidDate||A;var oe=ee||"YYYY-MM-DDTHH:mm:ssZ",J=Ee.z(this),P=this.$H,X=this.$m,be=this.$M,Ne=j.weekdays,ye=j.months,We=j.meridiem,Be=function(en,_n,Rn,qn){return en&&(en[_n]||en(ie,oe))||Rn[_n].slice(0,qn)},Ie=function(en){return Ee.s(P%12||12,en,"0")},Ke=We||function(en,_n,Rn){var qn=en<12?"AM":"PM";return Rn?qn.toLowerCase():qn};return oe.replace(L,function(en,_n){return _n||function(Rn){switch(Rn){case"YY":return String(ie.$y).slice(-2);case"YYYY":return Ee.s(ie.$y,4,"0");case"M":return be+1;case"MM":return Ee.s(be+1,2,"0");case"MMM":return Be(j.monthsShort,be,ye,3);case"MMMM":return Be(ye,be);case"D":return ie.$D;case"DD":return Ee.s(ie.$D,2,"0");case"d":return String(ie.$W);case"dd":return Be(j.weekdaysMin,ie.$W,Ne,2);case"ddd":return Be(j.weekdaysShort,ie.$W,Ne,3);case"dddd":return Ne[ie.$W];case"H":return String(P);case"HH":return Ee.s(P,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return Ke(P,X,!0);case"A":return Ke(P,X,!1);case"m":return String(X);case"mm":return Ee.s(X,2,"0");case"s":return String(ie.$s);case"ss":return Ee.s(ie.$s,2,"0");case"SSS":return Ee.s(ie.$ms,3,"0");case"Z":return J}return null}(en)||J.replace(":","")})},re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},re.diff=function(ee,ie,j){var oe,J=this,P=Ee.p(ie),X=je(ee),be=(X.utcOffset()-this.utcOffset())*a,Ne=this-X,ye=function(){return Ee.m(J,X)};switch(P){case k:oe=ye()/12;break;case E:oe=ye();break;case x:oe=ye()/3;break;case _:oe=(Ne-be)/6048e5;break;case m:oe=(Ne-be)/864e5;break;case b:oe=Ne/l;break;case g:oe=Ne/a;break;case p:oe=Ne/r;break;default:oe=Ne}return j?oe:Ee.a(oe)},re.daysInMonth=function(){return this.endOf(E).$D},re.$locale=function(){return _e[this.$L]},re.locale=function(ee,ie){if(!ee)return this.$L;var j=this.clone(),oe=Ge(ee,ie,!0);return oe&&(j.$L=oe),j},re.clone=function(){return Ee.w(this.$d,this)},re.toDate=function(){return new Date(this.valueOf())},re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toISOString=function(){return this.$d.toISOString()},re.toString=function(){return this.$d.toUTCString()},ge}(),qe=cn.prototype;return je.prototype=qe,[["$ms",u],["$s",p],["$m",g],["$H",b],["$W",m],["$M",E],["$y",k],["$D",R]].forEach(function(ge){qe[ge[1]]=function(re){return this.$g(re,ge[0],ge[1])}}),je.extend=function(ge,re){return ge.$i||(ge(re,cn,je),ge.$i=!0),je},je.locale=Ge,je.isDayjs=me,je.unix=function(ge){return je(1e3*ge)},je.en=_e[ue],je.Ls=_e,je.p={},je})}(dp)),dp.exports}var uw=cw();const Pg=jg(uw);var Sd={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var dw=Sd.exports,jm;function fw(){return jm||(jm=1,function(f,n){(function(){var r,a="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",g="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",m=500,_="__lodash_placeholder__",E=1,x=2,k=4,R=1,A=2,M=1,L=2,q=4,K=8,Q=16,ue=32,_e=64,he=128,me=256,Ge=512,je=30,Ee="...",cn=800,qe=16,ge=1,re=2,ee=3,ie=1/0,j=9007199254740991,oe=17976931348623157e292,J=NaN,P=4294967295,X=P-1,be=P>>>1,Ne=[["ary",he],["bind",M],["bindKey",L],["curry",K],["curryRight",Q],["flip",Ge],["partial",ue],["partialRight",_e],["rearg",me]],ye="[object Arguments]",We="[object Array]",Be="[object AsyncFunction]",Ie="[object Boolean]",Ke="[object Date]",en="[object DOMException]",_n="[object Error]",Rn="[object Function]",qn="[object GeneratorFunction]",Gn="[object Map]",hr="[object Number]",Xr="[object Null]",it="[object Object]",Cr="[object Promise]",Zr="[object Proxy]",Dt="[object RegExp]",Yn="[object Set]",Rr="[object String]",gr="[object Symbol]",Rt="[object Undefined]",pt="[object WeakMap]",et="[object WeakSet]",zt="[object ArrayBuffer]",Bt="[object DataView]",Qr="[object Float32Array]",Ft="[object Float64Array]",mr="[object Int8Array]",Ar="[object Int16Array]",Mr="[object Int32Array]",St="[object Uint8Array]",vr="[object Uint8ClampedArray]",Nr="[object Uint16Array]",Or="[object Uint32Array]",bi=/\b__p \+= '';/g,Pr=/\b(__p \+=) '' \+/g,gn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Gt=/&(?:amp|lt|gt|quot|#39);/g,ct=/[&<>"']/g,Ir=RegExp(Gt.source),I=RegExp(ct.source),Y=/<%-([\s\S]+?)%>/g,ve=/<%([\s\S]+?)%>/g,nn=/<%=([\s\S]+?)%>/g,Fn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Un=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/[\\^$.*+?()[\]{}|]/g,Ye=RegExp(ke.source),kn=/^\s+/,Pn=/\s/,Lr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,yi=/\{\n\/\* \[wrapped with (.+)\] \*/,_i=/,? & /,zs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,or=/[()=,{}\[\]\/\s]/,Bs=/\\(\\)?/g,Jr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ro=/\w*$/,Ao=/^[-+]0x[0-9a-f]+$/i,Mo=/^0b[01]+$/i,Ue=/^\[object .+?Constructor\]$/,B=/^0o[0-7]+$/i,de=/^(?:0|[1-9]\d*)$/,Ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,An=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,ln="\\ud800-\\udfff",At="\\u0300-\\u036f",Kt="\\ufe20-\\ufe2f",Dr="\\u20d0-\\u20ff",ot=At+Kt+Dr,fe="\\u2700-\\u27bf",Fe="a-z\\xdf-\\xf6\\xf8-\\xff",fn="\\xac\\xb1\\xd7\\xf7",vn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",gt="\\u2000-\\u206f",st=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ei="A-Z\\xc0-\\xd6\\xd8-\\xde",os="\\ufe0e\\ufe0f",Vt=fn+vn+gt+st,Ut="['’]",ss="["+ln+"]",so="["+Vt+"]",Li="["+ot+"]",kl="\\d+",Zc="["+fe+"]",Fs="["+Fe+"]",ka="[^"+ln+Vt+kl+fe+Fe+Ei+"]",Di="\\ud83c[\\udffb-\\udfff]",No="(?:"+Li+"|"+Di+")",zr="[^"+ln+"]",as="(?:\\ud83c[\\udde6-\\uddff]){2}",En="[\\ud800-\\udbff][\\udc00-\\udfff]",Qe="["+Ei+"]",Us="\\u200d",ut="(?:"+Fs+"|"+ka+")",Dn="(?:"+Qe+"|"+ka+")",Oo="(?:"+Ut+"(?:d|ll|m|re|s|t|ve))?",wi="(?:"+Ut+"(?:D|LL|M|RE|S|T|VE))?",Po=No+"?",ao="["+os+"]?",we="(?:"+Us+"(?:"+[zr,as,En].join("|")+")"+ao+Po+")*",Le="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bn=ao+Po+we,dt="(?:"+[Zc,as,En].join("|")+")"+bn,Mt="(?:"+[zr+Li+"?",Li,as,En,ss].join("|")+")",Qc=RegExp(Ut,"g"),Tl=RegExp(Li,"g"),ls=RegExp(Di+"(?="+Di+")|"+Mt+bn,"g"),xp=RegExp([Qe+"?"+Fs+"+"+Oo+"(?="+[so,Qe,"$"].join("|")+")",Dn+"+"+wi+"(?="+[so,Qe+ut,"$"].join("|")+")",Qe+"?"+ut+"+"+Oo,Qe+"+"+wi,tn,Le,kl,dt].join("|"),"g"),Pd=RegExp("["+Us+ln+ot+os+"]"),Cl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Id=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],kp=-1,zn={};zn[Qr]=zn[Ft]=zn[mr]=zn[Ar]=zn[Mr]=zn[St]=zn[vr]=zn[Nr]=zn[Or]=!0,zn[ye]=zn[We]=zn[zt]=zn[Ie]=zn[Bt]=zn[Ke]=zn[_n]=zn[Rn]=zn[Gn]=zn[hr]=zn[it]=zn[Dt]=zn[Yn]=zn[Rr]=zn[pt]=!1;var In={};In[ye]=In[We]=In[zt]=In[Bt]=In[Ie]=In[Ke]=In[Qr]=In[Ft]=In[mr]=In[Ar]=In[Mr]=In[Gn]=In[hr]=In[it]=In[Dt]=In[Yn]=In[Rr]=In[gr]=In[St]=In[vr]=In[Nr]=In[Or]=!0,In[_n]=In[Rn]=In[pt]=!1;var $s={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Rl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Cp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jc=parseFloat,Al=parseInt,Ml=typeof Vf=="object"&&Vf&&Vf.Object===Object&&Vf,Ld=typeof self=="object"&&self&&self.Object===Object&&self,nt=Ml||Ld||Function("return this")(),Ta=n&&!n.nodeType&&n,zi=Ta&&!0&&f&&!f.nodeType&&f,eu=zi&&zi.exports===Ta,js=eu&&Ml.process,sr=function(){try{var U=zi&&zi.require&&zi.require("util").types;return U||js&&js.binding&&js.binding("util")}catch{}}(),nu=sr&&sr.isArrayBuffer,br=sr&&sr.isDate,cs=sr&&sr.isMap,Nl=sr&&sr.isRegExp,Ws=sr&&sr.isSet,Dd=sr&&sr.isTypedArray;function ar(U,Z,G){switch(G.length){case 0:return U.call(Z);case 1:return U.call(Z,G[0]);case 2:return U.call(Z,G[0],G[1]);case 3:return U.call(Z,G[0],G[1],G[2])}return U.apply(Z,G)}function tu(U,Z,G,Re){for(var an=-1,Mn=U==null?0:U.length;++an<Mn;){var yt=U[an];Z(Re,yt,G(yt),U)}return Re}function Yt(U,Z){for(var G=-1,Re=U==null?0:U.length;++G<Re&&Z(U[G],G,U)!==!1;);return U}function Ol(U,Z){for(var G=U==null?0:U.length;G--&&Z(U[G],G,U)!==!1;);return U}function ru(U,Z){for(var G=-1,Re=U==null?0:U.length;++G<Re;)if(!Z(U[G],G,U))return!1;return!0}function Io(U,Z){for(var G=-1,Re=U==null?0:U.length,an=0,Mn=[];++G<Re;){var yt=U[G];Z(yt,G,U)&&(Mn[an++]=yt)}return Mn}function Pl(U,Z){var G=U==null?0:U.length;return!!G&&Hs(U,Z,0)>-1}function iu(U,Z,G){for(var Re=-1,an=U==null?0:U.length;++Re<an;)if(G(Z,U[Re]))return!0;return!1}function Kn(U,Z){for(var G=-1,Re=U==null?0:U.length,an=Array(Re);++G<Re;)an[G]=Z(U[G],G,U);return an}function Lo(U,Z){for(var G=-1,Re=Z.length,an=U.length;++G<Re;)U[an+G]=Z[G];return U}function ou(U,Z,G,Re){var an=-1,Mn=U==null?0:U.length;for(Re&&Mn&&(G=U[++an]);++an<Mn;)G=Z(G,U[an],an,U);return G}function Rp(U,Z,G,Re){var an=U==null?0:U.length;for(Re&&an&&(G=U[--an]);an--;)G=Z(G,U[an],an,U);return G}function su(U,Z){for(var G=-1,Re=U==null?0:U.length;++G<Re;)if(Z(U[G],G,U))return!0;return!1}var Ap=lu("length");function zd(U){return U.split("")}function Mp(U){return U.match(zs)||[]}function Bd(U,Z,G){var Re;return G(U,function(an,Mn,yt){if(Z(an,Mn,yt))return Re=Mn,!1}),Re}function Il(U,Z,G,Re){for(var an=U.length,Mn=G+(Re?1:-1);Re?Mn--:++Mn<an;)if(Z(U[Mn],Mn,U))return Mn;return-1}function Hs(U,Z,G){return Z===Z?zl(U,Z,G):Il(U,Fd,G)}function au(U,Z,G,Re){for(var an=G-1,Mn=U.length;++an<Mn;)if(Re(U[an],Z))return an;return-1}function Fd(U){return U!==U}function Ud(U,Z){var G=U==null?0:U.length;return G?cu(U,Z)/G:J}function lu(U){return function(Z){return Z==null?r:Z[U]}}function Ll(U){return function(Z){return U==null?r:U[Z]}}function $d(U,Z,G,Re,an){return an(U,function(Mn,yt,$n){G=Re?(Re=!1,Mn):Z(G,Mn,yt,$n)}),G}function Np(U,Z){var G=U.length;for(U.sort(Z);G--;)U[G]=U[G].value;return U}function cu(U,Z){for(var G,Re=-1,an=U.length;++Re<an;){var Mn=Z(U[Re]);Mn!==r&&(G=G===r?Mn:G+Mn)}return G}function uu(U,Z){for(var G=-1,Re=Array(U);++G<U;)Re[G]=Z(G);return Re}function Op(U,Z){return Kn(Z,function(G){return[G,U[G]]})}function jd(U){return U&&U.slice(0,Bl(U)+1).replace(kn,"")}function Br(U){return function(Z){return U(Z)}}function Ca(U,Z){return Kn(Z,function(G){return U[G]})}function lo(U,Z){return U.has(Z)}function Wd(U,Z){for(var G=-1,Re=U.length;++G<Re&&Hs(Z,U[G],0)>-1;);return G}function du(U,Z){for(var G=U.length;G--&&Hs(Z,U[G],0)>-1;);return G}function Hd(U,Z){for(var G=U.length,Re=0;G--;)U[G]===Z&&++Re;return Re}var qd=Ll($s),Gd=Ll(Rl);function Kd(U){return"\\"+Cp[U]}function qs(U,Z){return U==null?r:U[Z]}function Gs(U){return Pd.test(U)}function Pp(U){return Cl.test(U)}function Ip(U){for(var Z,G=[];!(Z=U.next()).done;)G.push(Z.value);return G}function Dl(U){var Z=-1,G=Array(U.size);return U.forEach(function(Re,an){G[++Z]=[an,Re]}),G}function fu(U,Z){return function(G){return U(Z(G))}}function ei(U,Z){for(var G=-1,Re=U.length,an=0,Mn=[];++G<Re;){var yt=U[G];(yt===Z||yt===_)&&(U[G]=_,Mn[an++]=G)}return Mn}function Do(U){var Z=-1,G=Array(U.size);return U.forEach(function(Re){G[++Z]=Re}),G}function Lp(U){var Z=-1,G=Array(U.size);return U.forEach(function(Re){G[++Z]=[Re,Re]}),G}function zl(U,Z,G){for(var Re=G-1,an=U.length;++Re<an;)if(U[Re]===Z)return Re;return-1}function Dp(U,Z,G){for(var Re=G+1;Re--;)if(U[Re]===Z)return Re;return Re}function us(U){return Gs(U)?Yd(U):Ap(U)}function Fr(U){return Gs(U)?Xd(U):zd(U)}function Bl(U){for(var Z=U.length;Z--&&Pn.test(U.charAt(Z)););return Z}var Vd=Ll(Tp);function Yd(U){for(var Z=ls.lastIndex=0;ls.test(U);)++Z;return Z}function Xd(U){return U.match(ls)||[]}function zp(U){return U.match(xp)||[]}var Bp=function U(Z){Z=Z==null?nt:Ks.defaults(nt.Object(),Z,Ks.pick(nt,Id));var G=Z.Array,Re=Z.Date,an=Z.Error,Mn=Z.Function,yt=Z.Math,$n=Z.Object,Ra=Z.RegExp,Fp=Z.String,ni=Z.TypeError,co=G.prototype,pu=Mn.prototype,Bi=$n.prototype,Vs=Z["__core-js_shared__"],Aa=pu.toString,Nn=Bi.hasOwnProperty,Ys=0,Fl=function(){var i=/[^.]+$/.exec(Vs&&Vs.keys&&Vs.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Ma=Bi.toString,Ul=Aa.call($n),Zd=nt._,Qd=Ra("^"+Aa.call(Nn).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Na=eu?Z.Buffer:r,uo=Z.Symbol,Oa=Z.Uint8Array,hu=Na?Na.allocUnsafe:r,Si=fu($n.getPrototypeOf,$n),$l=$n.create,jl=Bi.propertyIsEnumerable,Wl=co.splice,Jd=uo?uo.isConcatSpreadable:r,fo=uo?uo.iterator:r,ds=uo?uo.toStringTag:r,Pa=function(){try{var i=Ko($n,"defineProperty");return i({},"",{}),i}catch{}}(),ef=Z.clearTimeout!==nt.clearTimeout&&Z.clearTimeout,Xn=Re&&Re.now!==nt.Date.now&&Re.now,gu=Z.setTimeout!==nt.setTimeout&&Z.setTimeout,fs=yt.ceil,zo=yt.floor,Hl=$n.getOwnPropertySymbols,mu=Na?Na.isBuffer:r,Xs=Z.isFinite,ql=co.join,Zs=fu($n.keys,$n),_t=yt.max,Xt=yt.min,Up=Re.now,nf=Z.parseInt,Ia=yt.random,Gl=co.reverse,La=Ko(Z,"DataView"),ps=Ko(Z,"Map"),Da=Ko(Z,"Promise"),Bo=Ko(Z,"Set"),za=Ko(Z,"WeakMap"),Qs=Ko($n,"create"),Kl=za&&new za,Js={},vu=Vo(La),Fo=Vo(ps),tf=Vo(Da),ea=Vo(Bo),Fi=Vo(za),Uo=uo?uo.prototype:r,Ur=Uo?Uo.valueOf:r,Vl=Uo?Uo.toString:r;function T(i){if(wt(i)&&!dn(i)&&!(i instanceof un)){if(i instanceof Zt)return i;if(Nn.call(i,"__wrapped__"))return Nf(i)}return new Zt(i)}var na=function(){function i(){}return function(o){if(!bt(o))return{};if($l)return $l(o);i.prototype=o;var d=new i;return i.prototype=r,d}}();function Ui(){}function Zt(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=r}T.templateSettings={escape:Y,evaluate:ve,interpolate:nn,variable:"",imports:{_:T}},T.prototype=Ui.prototype,T.prototype.constructor=T,Zt.prototype=na(Ui.prototype),Zt.prototype.constructor=Zt;function un(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=P,this.__views__=[]}function Yl(){var i=new un(this.__wrapped__);return i.__actions__=cr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=cr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=cr(this.__views__),i}function bu(){if(this.__filtered__){var i=new un(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function ta(){var i=this.__wrapped__.value(),o=this.__dir__,d=dn(i),y=o<0,w=d?i.length:0,C=Gu(0,w,this.__views__),O=C.start,z=C.end,$=z-O,ne=y?z:O-1,te=this.__iteratees__,le=te.length,Te=0,He=Xt($,this.__takeCount__);if(!d||!y&&w==$&&He==$)return ua(i,this.__actions__);var on=[];e:for(;$--&&Te<He;){ne+=o;for(var mn=-1,sn=i[ne];++mn<le;){var wn=te[mn],Cn=wn.iteratee,Pi=wn.type,qr=Cn(sn);if(Pi==re)sn=qr;else if(!qr){if(Pi==ge)continue e;break e}}on[Te++]=sn}return on}un.prototype=na(Ui.prototype),un.prototype.constructor=un;function yr(i){var o=-1,d=i==null?0:i.length;for(this.clear();++o<d;){var y=i[o];this.set(y[0],y[1])}}function Zn(){this.__data__=Qs?Qs(null):{},this.size=0}function Vn(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function $o(i){var o=this.__data__;if(Qs){var d=o[i];return d===b?r:d}return Nn.call(o,i)?o[i]:r}function Qt(i){var o=this.__data__;return Qs?o[i]!==r:Nn.call(o,i)}function _r(i,o){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=Qs&&o===r?b:o,this}yr.prototype.clear=Zn,yr.prototype.delete=Vn,yr.prototype.get=$o,yr.prototype.has=Qt,yr.prototype.set=_r;function lr(i){var o=-1,d=i==null?0:i.length;for(this.clear();++o<d;){var y=i[o];this.set(y[0],y[1])}}function ra(){this.__data__=[],this.size=0}function Er(i){var o=this.__data__,d=er(o,i);if(d<0)return!1;var y=o.length-1;return d==y?o.pop():Wl.call(o,d,1),--this.size,!0}function Xl(i){var o=this.__data__,d=er(o,i);return d<0?r:o[d][1]}function rf(i){return er(this.__data__,i)>-1}function of(i,o){var d=this.__data__,y=er(d,i);return y<0?(++this.size,d.push([i,o])):d[y][1]=o,this}lr.prototype.clear=ra,lr.prototype.delete=Er,lr.prototype.get=Xl,lr.prototype.has=rf,lr.prototype.set=of;function ti(i){var o=-1,d=i==null?0:i.length;for(this.clear();++o<d;){var y=i[o];this.set(y[0],y[1])}}function sf(){this.size=0,this.__data__={hash:new yr,map:new(ps||lr),string:new yr}}function po(i){var o=Ja(this,i).delete(i);return this.size-=o?1:0,o}function Zl(i){return Ja(this,i).get(i)}function yu(i){return Ja(this,i).has(i)}function af(i,o){var d=Ja(this,i),y=d.size;return d.set(i,o),this.size+=d.size==y?0:1,this}ti.prototype.clear=sf,ti.prototype.delete=po,ti.prototype.get=Zl,ti.prototype.has=yu,ti.prototype.set=af;function hs(i){var o=-1,d=i==null?0:i.length;for(this.__data__=new ti;++o<d;)this.add(i[o])}function jo(i){return this.__data__.set(i,b),this}function ia(i){return this.__data__.has(i)}hs.prototype.add=hs.prototype.push=jo,hs.prototype.has=ia;function Jt(i){var o=this.__data__=new lr(i);this.size=o.size}function Ql(){this.__data__=new lr,this.size=0}function Jl(i){var o=this.__data__,d=o.delete(i);return this.size=o.size,d}function ri(i){return this.__data__.get(i)}function ii(i){return this.__data__.has(i)}function gs(i,o){var d=this.__data__;if(d instanceof lr){var y=d.__data__;if(!ps||y.length<l-1)return y.push([i,o]),this.size=++d.size,this;d=this.__data__=new ti(y)}return d.set(i,o),this.size=d.size,this}Jt.prototype.clear=Ql,Jt.prototype.delete=Jl,Jt.prototype.get=ri,Jt.prototype.has=ii,Jt.prototype.set=gs;function $i(i,o){var d=dn(i),y=!d&&dl(i),w=!d&&!y&&_a(i),C=!d&&!y&&!w&&jc(i),O=d||y||w||C,z=O?uu(i.length,Fp):[],$=z.length;for(var ne in i)(o||Nn.call(i,ne))&&!(O&&(ne=="length"||w&&(ne=="offset"||ne=="parent")||C&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||rt(ne,$)))&&z.push(ne);return z}function ji(i){var o=i.length;return o?i[la(0,o-1)]:r}function ms(i,o){return kc(cr(i),ho(o,0,i.length))}function lf(i){return kc(cr(i))}function Ba(i,o,d){(d!==r&&!xo(i[o],d)||d===r&&!(o in i))&&Wi(i,o,d)}function vs(i,o,d){var y=i[o];(!(Nn.call(i,o)&&xo(y,d))||d===r&&!(o in i))&&Wi(i,o,d)}function er(i,o){for(var d=i.length;d--;)if(xo(i[d][0],o))return d;return-1}function $r(i,o,d,y){return qi(i,function(w,C,O){o(y,w,d(w),O)}),y}function Qn(i,o){return i&&ki(o,rr(o),i)}function xi(i,o){return i&&ki(o,pi(o),i)}function Wi(i,o,d){o=="__proto__"&&Pa?Pa(i,o,{configurable:!0,enumerable:!0,value:d,writable:!0}):i[o]=d}function ec(i,o){for(var d=-1,y=o.length,w=G(y),C=i==null;++d<y;)w[d]=C?r:uh(i,o[d]);return w}function ho(i,o,d){return i===i&&(d!==r&&(i=i<=d?i:d),o!==r&&(i=i>=o?i:o)),i}function wr(i,o,d,y,w,C){var O,z=o&E,$=o&x,ne=o&k;if(d&&(O=w?d(i,y,w,C):d(i)),O!==r)return O;if(!bt(i))return i;var te=dn(i);if(te){if(O=nl(i),!z)return cr(i,O)}else{var le=Wt(i),Te=le==Rn||le==qn;if(_a(i))return Iu(i,z);if(le==it||le==ye||Te&&!w){if(O=$||Te?{}:Ht(i),!z)return $?jp(i,xi(O,i)):pc(i,Qn(O,i))}else{if(!In[le])return w?i:{};O=Wp(i,le,z)}}C||(C=new Jt);var He=C.get(i);if(He)return He;C.set(i,O),lm(i)?i.forEach(function(sn){O.add(wr(sn,o,d,sn,i,C))}):sm(i)&&i.forEach(function(sn,wn){O.set(wn,wr(sn,o,d,wn,i,C))});var on=ne?$?Qa:Za:$?pi:rr,mn=te?r:on(i);return Yt(mn||i,function(sn,wn){mn&&(wn=sn,sn=i[wn]),vs(O,wn,wr(sn,o,d,wn,i,C))}),O}function cf(i){var o=rr(i);return function(d){return Fa(d,i,o)}}function Fa(i,o,d){var y=d.length;if(i==null)return!y;for(i=$n(i);y--;){var w=d[y],C=o[w],O=i[w];if(O===r&&!(w in i)||!C(O))return!1}return!0}function _u(i,o,d){if(typeof i!="function")throw new ni(p);return va(function(){i.apply(r,d)},o)}function Hi(i,o,d,y){var w=-1,C=Pl,O=!0,z=i.length,$=[],ne=o.length;if(!z)return $;d&&(o=Kn(o,Br(d))),y?(C=iu,O=!1):o.length>=l&&(C=lo,O=!1,o=new hs(o));e:for(;++w<z;){var te=i[w],le=d==null?te:d(te);if(te=y||te!==0?te:0,O&&le===le){for(var Te=ne;Te--;)if(o[Te]===le)continue e;$.push(te)}else C(o,le,y)||$.push(te)}return $}var qi=ci(jr),uf=ci(Wo,!0);function Ua(i,o){var d=!0;return qi(i,function(y,w,C){return d=!!o(y,w,C),d}),d}function bs(i,o,d){for(var y=-1,w=i.length;++y<w;){var C=i[y],O=o(C);if(O!=null&&(z===r?O===O&&!Oi(O):d(O,z)))var z=O,$=C}return $}function df(i,o,d,y){var w=i.length;for(d=hn(d),d<0&&(d=-d>w?0:w+d),y=y===r||y>w?w:hn(y),y<0&&(y+=w),y=d>y?0:um(y);d<y;)i[d++]=o;return i}function Eu(i,o){var d=[];return qi(i,function(y,w,C){o(y,w,C)&&d.push(y)}),d}function ft(i,o,d,y,w){var C=-1,O=i.length;for(d||(d=wc),w||(w=[]);++C<O;){var z=i[C];o>0&&d(z)?o>1?ft(z,o-1,d,y,w):Lo(w,z):y||(w[w.length]=z)}return w}var nc=gc(),$a=gc(!0);function jr(i,o){return i&&nc(i,o,rr)}function Wo(i,o){return i&&$a(i,o,rr)}function oa(i,o){return Io(o,function(d){return Ns(i[d])})}function go(i,o){o=Vi(o,i);for(var d=0,y=o.length;i!=null&&d<y;)i=i[Ai(o[d++])];return d&&d==y?i:r}function tc(i,o,d){var y=o(i);return dn(i)?y:Lo(y,d(i))}function $t(i){return i==null?i===r?Rt:Xr:ds&&ds in $n(i)?Ec(i):Vu(i)}function Ho(i,o){return i>o}function oi(i,o){return i!=null&&Nn.call(i,o)}function ys(i,o){return i!=null&&o in $n(i)}function wu(i,o,d){return i>=Xt(o,d)&&i<_t(o,d)}function rc(i,o,d){for(var y=d?iu:Pl,w=i[0].length,C=i.length,O=C,z=G(C),$=1/0,ne=[];O--;){var te=i[O];O&&o&&(te=Kn(te,Br(o))),$=Xt(te.length,$),z[O]=!d&&(o||w>=120&&te.length>=120)?new hs(O&&te):r}te=i[0];var le=-1,Te=z[0];e:for(;++le<w&&ne.length<$;){var He=te[le],on=o?o(He):He;if(He=d||He!==0?He:0,!(Te?lo(Te,on):y(ne,on,d))){for(O=C;--O;){var mn=z[O];if(!(mn?lo(mn,on):y(i[O],on,d)))continue e}Te&&Te.push(on),ne.push(He)}}return ne}function mo(i,o,d,y){return jr(i,function(w,C,O){o(y,d(w),C,O)}),y}function si(i,o,d){o=Vi(o,i),i=Nt(i,o);var y=i==null?i:i[Ai(fr(o))];return y==null?r:ar(y,i,d)}function ic(i){return wt(i)&&$t(i)==ye}function ff(i){return wt(i)&&$t(i)==zt}function vo(i){return wt(i)&&$t(i)==Ke}function ai(i,o,d,y,w){return i===o?!0:i==null||o==null||!wt(i)&&!wt(o)?i!==i&&o!==o:oc(i,o,d,y,ai,w)}function oc(i,o,d,y,w,C){var O=dn(i),z=dn(o),$=O?We:Wt(i),ne=z?We:Wt(o);$=$==ye?it:$,ne=ne==ye?it:ne;var te=$==it,le=ne==it,Te=$==ne;if(Te&&_a(i)){if(!_a(o))return!1;O=!0,te=!1}if(Te&&!te)return C||(C=new Jt),O||jc(i)?Hu(i,o,d,y,w,C):qu(i,o,$,d,y,w,C);if(!(d&R)){var He=te&&Nn.call(i,"__wrapped__"),on=le&&Nn.call(o,"__wrapped__");if(He||on){var mn=He?i.value():i,sn=on?o.value():o;return C||(C=new Jt),w(mn,sn,d,y,C)}}return Te?(C||(C=new Jt),Sf(i,o,d,y,w,C)):!1}function pf(i){return wt(i)&&Wt(i)==Gn}function sa(i,o,d,y){var w=d.length,C=w,O=!y;if(i==null)return!C;for(i=$n(i);w--;){var z=d[w];if(O&&z[2]?z[1]!==i[z[0]]:!(z[0]in i))return!1}for(;++w<C;){z=d[w];var $=z[0],ne=i[$],te=z[1];if(O&&z[2]){if(ne===r&&!($ in i))return!1}else{var le=new Jt;if(y)var Te=y(ne,te,$,i,o,le);if(!(Te===r?ai(te,ne,R|A,y,le):Te))return!1}}return!0}function Su(i){if(!bt(i)||Tf(i))return!1;var o=Ns(i)?Qd:Ue;return o.test(Vo(i))}function ja(i){return wt(i)&&$t(i)==Dt}function Gi(i){return wt(i)&&Wt(i)==Yn}function Wa(i){return wt(i)&&qf(i.length)&&!!zn[$t(i)]}function aa(i){return typeof i=="function"?i:i==null?hi:typeof i=="object"?dn(i)?tt(i[0],i[1]):sc(i):Em(i)}function bo(i){if(!wo(i))return Zs(i);var o=[];for(var d in $n(i))Nn.call(i,d)&&d!="constructor"&&o.push(d);return o}function xu(i){if(!bt(i))return Af(i);var o=wo(i),d=[];for(var y in i)y=="constructor"&&(o||!Nn.call(i,y))||d.push(y);return d}function qo(i,o){return i<o}function ku(i,o){var d=-1,y=fi(i)?G(i.length):[];return qi(i,function(w,C,O){y[++d]=o(w,C,O)}),y}function sc(i){var o=el(i);return o.length==1&&o[0][2]?Sc(o[0][0],o[0][1]):function(d){return d===i||sa(d,i,o)}}function tt(i,o){return Pe(i)&&rl(o)?Sc(Ai(i),o):function(d){var y=uh(d,i);return y===r&&y===o?dh(d,i):ai(o,y,R|A)}}function _s(i,o,d,y,w){i!==o&&nc(o,function(C,O){if(w||(w=new Jt),bt(C))Tu(i,o,O,d,_s,y,w);else{var z=y?y(Zi(i,O),C,O+"",i,o,w):r;z===r&&(z=C),Ba(i,O,z)}},pi)}function Tu(i,o,d,y,w,C,O){var z=Zi(i,d),$=Zi(o,d),ne=O.get($);if(ne){Ba(i,d,ne);return}var te=C?C(z,$,d+"",i,o,O):r,le=te===r;if(le){var Te=dn($),He=!Te&&_a($),on=!Te&&!He&&jc($);te=$,Te||He||on?dn(z)?te=z:Tt(z)?te=cr(z):He?(le=!1,te=Iu($,!0)):on?(le=!1,te=bf($,!0)):te=[]:fd($)||dl($)?(te=z,dl(z)?te=dm(z):(!bt(z)||Ns(z))&&(te=Ht($))):le=!1}le&&(O.set($,te),w(te,$,y,C,O),O.delete($)),Ba(i,d,te)}function ac(i,o){var d=i.length;if(d)return o+=o<0?d:0,rt(o,d)?i[o]:r}function Ha(i,o,d){o.length?o=Kn(o,function(C){return dn(C)?function(O){return go(O,C.length===1?C[0]:C)}:C}):o=[hi];var y=-1;o=Kn(o,Br(Je()));var w=ku(i,function(C,O,z){var $=Kn(o,function(ne){return ne(C)});return{criteria:$,index:++y,value:C}});return Np(w,function(C,O){return $p(C,O,d)})}function Cu(i,o){return Go(i,o,function(d,y){return dh(i,y)})}function Go(i,o,d){for(var y=-1,w=o.length,C={};++y<w;){var O=o[y],z=go(i,O);d(z,O)&&ws(C,Vi(O,i),z)}return C}function at(i){return function(o){return go(o,i)}}function mt(i,o,d,y){var w=y?au:Hs,C=-1,O=o.length,z=i;for(i===o&&(o=cr(o)),d&&(z=Kn(i,Br(d)));++C<O;)for(var $=0,ne=o[C],te=d?d(ne):ne;($=w(z,te,$,y))>-1;)z!==i&&Wl.call(z,$,1),Wl.call(i,$,1);return i}function xt(i,o){for(var d=i?o.length:0,y=d-1;d--;){var w=o[d];if(d==y||w!==C){var C=w;rt(w)?Wl.call(i,w,1):uc(i,w)}}return i}function la(i,o){return i+zo(Ia()*(o-i+1))}function qa(i,o,d,y){for(var w=-1,C=_t(fs((o-i)/(d||1)),0),O=G(C);C--;)O[y?C:++w]=i,i+=d;return O}function Es(i,o){var d="";if(!i||o<1||o>j)return d;do o%2&&(d+=i),o=zo(o/2),o&&(i+=i);while(o);return d}function pn(i,o){return Wr(xc(i,o,hi),i+"")}function nr(i){return ji(Wc(i))}function Ru(i,o){var d=Wc(i);return kc(d,ho(o,0,d.length))}function ws(i,o,d,y){if(!bt(i))return i;o=Vi(o,i);for(var w=-1,C=o.length,O=C-1,z=i;z!=null&&++w<C;){var $=Ai(o[w]),ne=d;if($==="__proto__"||$==="constructor"||$==="prototype")return i;if(w!=O){var te=z[$];ne=y?y(te,$,z):r,ne===r&&(ne=bt(te)?te:rt(o[w+1])?[]:{})}vs(z,$,ne),z=z[$]}return i}var lc=Kl?function(i,o){return Kl.set(i,o),i}:hi,Ki=Pa?function(i,o){return Pa(i,"toString",{configurable:!0,enumerable:!1,value:ph(o),writable:!0})}:hi;function li(i){return kc(Wc(i))}function tr(i,o,d){var y=-1,w=i.length;o<0&&(o=-o>w?0:w+o),d=d>w?w:d,d<0&&(d+=w),w=o>d?0:d-o>>>0,o>>>=0;for(var C=G(w);++y<w;)C[y]=i[y+o];return C}function Au(i,o){var d;return qi(i,function(y,w,C){return d=o(y,w,C),!d}),!!d}function ca(i,o,d){var y=0,w=i==null?y:i.length;if(typeof o=="number"&&o===o&&w<=be){for(;y<w;){var C=y+w>>>1,O=i[C];O!==null&&!Oi(O)&&(d?O<=o:O<o)?y=C+1:w=C}return w}return cc(i,o,hi,d)}function cc(i,o,d,y){var w=0,C=i==null?0:i.length;if(C===0)return 0;o=d(o);for(var O=o!==o,z=o===null,$=Oi(o),ne=o===r;w<C;){var te=zo((w+C)/2),le=d(i[te]),Te=le!==r,He=le===null,on=le===le,mn=Oi(le);if(O)var sn=y||on;else ne?sn=on&&(y||Te):z?sn=on&&Te&&(y||!He):$?sn=on&&Te&&!He&&(y||!mn):He||mn?sn=!1:sn=y?le<=o:le<o;sn?w=te+1:C=te}return Xt(C,X)}function Mu(i,o){for(var d=-1,y=i.length,w=0,C=[];++d<y;){var O=i[d],z=o?o(O):O;if(!d||!xo(z,$)){var $=z;C[w++]=O===0?0:O}}return C}function Nu(i){return typeof i=="number"?i:Oi(i)?J:+i}function Sr(i){if(typeof i=="string")return i;if(dn(i))return Kn(i,Sr)+"";if(Oi(i))return Vl?Vl.call(i):"";var o=i+"";return o=="0"&&1/i==-1/0?"-0":o}function yo(i,o,d){var y=-1,w=Pl,C=i.length,O=!0,z=[],$=z;if(d)O=!1,w=iu;else if(C>=l){var ne=o?null:wf(i);if(ne)return Do(ne);O=!1,w=lo,$=new hs}else $=o?[]:z;e:for(;++y<C;){var te=i[y],le=o?o(te):te;if(te=d||te!==0?te:0,O&&le===le){for(var Te=$.length;Te--;)if($[Te]===le)continue e;o&&$.push(le),z.push(te)}else w($,le,d)||($!==z&&$.push(le),z.push(te))}return z}function uc(i,o){return o=Vi(o,i),i=Nt(i,o),i==null||delete i[Ai(fr(o))]}function Ou(i,o,d,y){return ws(i,o,d(go(i,o)),y)}function Ga(i,o,d,y){for(var w=i.length,C=y?w:-1;(y?C--:++C<w)&&o(i[C],C,i););return d?tr(i,y?0:C,y?C+1:w):tr(i,y?C+1:0,y?w:C)}function ua(i,o){var d=i;return d instanceof un&&(d=d.value()),ou(o,function(y,w){return w.func.apply(w.thisArg,Lo([y],w.args))},d)}function dc(i,o,d){var y=i.length;if(y<2)return y?yo(i[0]):[];for(var w=-1,C=G(y);++w<y;)for(var O=i[w],z=-1;++z<y;)z!=w&&(C[w]=Hi(C[w]||O,i[z],o,d));return yo(ft(C,1),o,d)}function Ka(i,o,d){for(var y=-1,w=i.length,C=o.length,O={};++y<w;){var z=y<C?o[y]:r;d(O,i[y],z)}return O}function da(i){return Tt(i)?i:[]}function fc(i){return typeof i=="function"?i:hi}function Vi(i,o){return dn(i)?i:Pe(i,o)?[i]:Zu(jn(i))}var hf=pn;function _o(i,o,d){var y=i.length;return d=d===r?y:d,!o&&d>=y?i:tr(i,o,d)}var Pu=ef||function(i){return nt.clearTimeout(i)};function Iu(i,o){if(o)return i.slice();var d=i.length,y=hu?hu(d):new i.constructor(d);return i.copy(y),y}function Va(i){var o=new i.constructor(i.byteLength);return new Oa(o).set(new Oa(i)),o}function gf(i,o){var d=o?Va(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.byteLength)}function mf(i){var o=new i.constructor(i.source,Ro.exec(i));return o.lastIndex=i.lastIndex,o}function vf(i){return Ur?$n(Ur.call(i)):{}}function bf(i,o){var d=o?Va(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.length)}function Lu(i,o){if(i!==o){var d=i!==r,y=i===null,w=i===i,C=Oi(i),O=o!==r,z=o===null,$=o===o,ne=Oi(o);if(!z&&!ne&&!C&&i>o||C&&O&&$&&!z&&!ne||y&&O&&$||!d&&$||!w)return 1;if(!y&&!C&&!ne&&i<o||ne&&d&&w&&!y&&!C||z&&d&&w||!O&&w||!$)return-1}return 0}function $p(i,o,d){for(var y=-1,w=i.criteria,C=o.criteria,O=w.length,z=d.length;++y<O;){var $=Lu(w[y],C[y]);if($){if(y>=z)return $;var ne=d[y];return $*(ne=="desc"?-1:1)}}return i.index-o.index}function yf(i,o,d,y){for(var w=-1,C=i.length,O=d.length,z=-1,$=o.length,ne=_t(C-O,0),te=G($+ne),le=!y;++z<$;)te[z]=o[z];for(;++w<O;)(le||w<C)&&(te[d[w]]=i[w]);for(;ne--;)te[z++]=i[w++];return te}function Du(i,o,d,y){for(var w=-1,C=i.length,O=-1,z=d.length,$=-1,ne=o.length,te=_t(C-z,0),le=G(te+ne),Te=!y;++w<te;)le[w]=i[w];for(var He=w;++$<ne;)le[He+$]=o[$];for(;++O<z;)(Te||w<C)&&(le[He+d[O]]=i[w++]);return le}function cr(i,o){var d=-1,y=i.length;for(o||(o=G(y));++d<y;)o[d]=i[d];return o}function ki(i,o,d,y){var w=!d;d||(d={});for(var C=-1,O=o.length;++C<O;){var z=o[C],$=y?y(d[z],i[z],z,d,i):r;$===r&&($=i[z]),w?Wi(d,z,$):vs(d,z,$)}return d}function pc(i,o){return ki(i,Ti(i),o)}function jp(i,o){return ki(i,xf(i),o)}function hc(i,o){return function(d,y){var w=dn(d)?tu:$r,C=o?o():{};return w(d,i,Je(y,2),C)}}function fa(i){return pn(function(o,d){var y=-1,w=d.length,C=w>1?d[w-1]:r,O=w>2?d[2]:r;for(C=i.length>3&&typeof C=="function"?(w--,C):r,O&&dr(d[0],d[1],O)&&(C=w<3?r:C,w=1),o=$n(o);++y<w;){var z=d[y];z&&i(o,z,y,C)}return o})}function ci(i,o){return function(d,y){if(d==null)return d;if(!fi(d))return i(d,y);for(var w=d.length,C=o?w:-1,O=$n(d);(o?C--:++C<w)&&y(O[C],C,O)!==!1;);return d}}function gc(i){return function(o,d,y){for(var w=-1,C=$n(o),O=y(o),z=O.length;z--;){var $=O[i?z:++w];if(d(C[$],$,C)===!1)break}return o}}function mc(i,o,d){var y=o&M,w=pa(i);function C(){var O=this&&this!==nt&&this instanceof C?w:i;return O.apply(y?d:this,arguments)}return C}function zu(i){return function(o){o=jn(o);var d=Gs(o)?Fr(o):r,y=d?d[0]:o.charAt(0),w=d?_o(d,1).join(""):o.slice(1);return y[i]()+w}}function Ss(i){return function(o){return ou(ym(bm(o).replace(Qc,"")),i,"")}}function pa(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var d=na(i.prototype),y=i.apply(d,o);return bt(y)?y:d}}function Bu(i,o,d){var y=pa(i);function w(){for(var C=arguments.length,O=G(C),z=C,$=Eo(w);z--;)O[z]=arguments[z];var ne=C<3&&O[0]!==$&&O[C-1]!==$?[]:ei(O,$);if(C-=ne.length,C<d)return ur(i,o,ha,w.placeholder,r,O,ne,r,r,d-C);var te=this&&this!==nt&&this instanceof w?y:i;return ar(te,this,O)}return w}function xs(i){return function(o,d,y){var w=$n(o);if(!fi(o)){var C=Je(d,3);o=rr(o),d=function(z){return C(w[z],z,w)}}var O=i(o,d,y);return O>-1?w[C?o[O]:O]:r}}function vc(i){return Xi(function(o){var d=o.length,y=d,w=Zt.prototype.thru;for(i&&o.reverse();y--;){var C=o[y];if(typeof C!="function")throw new ni(p);if(w&&!O&&ga(C)=="wrapper")var O=new Zt([],!0)}for(y=O?y:d;++y<d;){C=o[y];var z=ga(C),$=z=="wrapper"?_c(C):r;$&&tl($[0])&&$[1]==(he|K|ue|me)&&!$[4].length&&$[9]==1?O=O[ga($[0])].apply(O,$[3]):O=C.length==1&&tl(C)?O[z]():O.thru(C)}return function(){var ne=arguments,te=ne[0];if(O&&ne.length==1&&dn(te))return O.plant(te).value();for(var le=0,Te=d?o[le].apply(this,ne):te;++le<d;)Te=o[le].call(this,Te);return Te}})}function ha(i,o,d,y,w,C,O,z,$,ne){var te=o&he,le=o&M,Te=o&L,He=o&(K|Q),on=o&Ge,mn=Te?r:pa(i);function sn(){for(var wn=arguments.length,Cn=G(wn),Pi=wn;Pi--;)Cn[Pi]=arguments[Pi];if(He)var qr=Eo(sn),Ii=Hd(Cn,qr);if(y&&(Cn=yf(Cn,y,w,He)),C&&(Cn=Du(Cn,C,O,He)),wn-=Ii,He&&wn<ne){var Ct=ei(Cn,qr);return ur(i,o,ha,sn.placeholder,d,Cn,Ct,z,$,ne-wn)}var ko=le?d:this,Ps=Te?ko[i]:i;return wn=Cn.length,z?Cn=Ci(Cn,z):on&&wn>1&&Cn.reverse(),te&&$<wn&&(Cn.length=$),this&&this!==nt&&this instanceof sn&&(Ps=mn||pa(Ps)),Ps.apply(ko,Cn)}return sn}function _f(i,o){return function(d,y){return mo(d,i,o(y),{})}}function Ya(i,o){return function(d,y){var w;if(d===r&&y===r)return o;if(d!==r&&(w=d),y!==r){if(w===r)return y;typeof d=="string"||typeof y=="string"?(d=Sr(d),y=Sr(y)):(d=Nu(d),y=Nu(y)),w=i(d,y)}return w}}function bc(i){return Xi(function(o){return o=Kn(o,Br(Je())),pn(function(d){var y=this;return i(o,function(w){return ar(w,y,d)})})})}function Xa(i,o){o=o===r?" ":Sr(o);var d=o.length;if(d<2)return d?Es(o,i):o;var y=Es(o,fs(i/us(o)));return Gs(o)?_o(Fr(y),0,i).join(""):y.slice(0,i)}function Ef(i,o,d,y){var w=o&M,C=pa(i);function O(){for(var z=-1,$=arguments.length,ne=-1,te=y.length,le=G(te+$),Te=this&&this!==nt&&this instanceof O?C:i;++ne<te;)le[ne]=y[ne];for(;$--;)le[ne++]=arguments[++z];return ar(Te,w?d:this,le)}return O}function Fu(i){return function(o,d,y){return y&&typeof y!="number"&&dr(o,d,y)&&(d=y=r),o=Os(o),d===r?(d=o,o=0):d=Os(d),y=y===r?o<d?1:-1:Os(y),qa(o,d,y,i)}}function yc(i){return function(o,d){return typeof o=="string"&&typeof d=="string"||(o=Qi(o),d=Qi(d)),i(o,d)}}function ur(i,o,d,y,w,C,O,z,$,ne){var te=o&K,le=te?O:r,Te=te?r:O,He=te?C:r,on=te?r:C;o|=te?ue:_e,o&=~(te?_e:ue),o&q||(o&=-4);var mn=[i,o,w,He,le,on,Te,z,$,ne],sn=d.apply(r,mn);return tl(i)&&Yu(sn,mn),sn.placeholder=y,Xu(sn,i,o)}function jt(i){var o=yt[i];return function(d,y){if(d=Qi(d),y=y==null?0:Xt(hn(y),292),y&&Xs(d)){var w=(jn(d)+"e").split("e"),C=o(w[0]+"e"+(+w[1]+y));return w=(jn(C)+"e").split("e"),+(w[0]+"e"+(+w[1]-y))}return o(d)}}var wf=Bo&&1/Do(new Bo([,-0]))[1]==ie?function(i){return new Bo(i)}:mh;function Uu(i){return function(o){var d=Wt(o);return d==Gn?Dl(o):d==Yn?Lp(o):Op(o,i(o))}}function Yi(i,o,d,y,w,C,O,z){var $=o&L;if(!$&&typeof i!="function")throw new ni(p);var ne=y?y.length:0;if(ne||(o&=-97,y=w=r),O=O===r?O:_t(hn(O),0),z=z===r?z:hn(z),ne-=w?w.length:0,o&_e){var te=y,le=w;y=w=r}var Te=$?r:_c(i),He=[i,o,d,y,w,te,le,C,O,z];if(Te&&Rf(He,Te),i=He[0],o=He[1],d=He[2],y=He[3],w=He[4],z=He[9]=He[9]===r?$?0:i.length:_t(He[9]-ne,0),!z&&o&(K|Q)&&(o&=-25),!o||o==M)var on=mc(i,o,d);else o==K||o==Q?on=Bu(i,o,z):(o==ue||o==(M|ue))&&!w.length?on=Ef(i,o,d,y):on=ha.apply(r,He);var mn=Te?lc:Yu;return Xu(mn(on,He),i,o)}function $u(i,o,d,y){return i===r||xo(i,Bi[d])&&!Nn.call(y,d)?o:i}function ju(i,o,d,y,w,C){return bt(i)&&bt(o)&&(C.set(o,i),_s(i,o,r,ju,C),C.delete(o)),i}function Wu(i){return fd(i)?r:i}function Hu(i,o,d,y,w,C){var O=d&R,z=i.length,$=o.length;if(z!=$&&!(O&&$>z))return!1;var ne=C.get(i),te=C.get(o);if(ne&&te)return ne==o&&te==i;var le=-1,Te=!0,He=d&A?new hs:r;for(C.set(i,o),C.set(o,i);++le<z;){var on=i[le],mn=o[le];if(y)var sn=O?y(mn,on,le,o,i,C):y(on,mn,le,i,o,C);if(sn!==r){if(sn)continue;Te=!1;break}if(He){if(!su(o,function(wn,Cn){if(!lo(He,Cn)&&(on===wn||w(on,wn,d,y,C)))return He.push(Cn)})){Te=!1;break}}else if(!(on===mn||w(on,mn,d,y,C))){Te=!1;break}}return C.delete(i),C.delete(o),Te}function qu(i,o,d,y,w,C,O){switch(d){case Bt:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case zt:return!(i.byteLength!=o.byteLength||!C(new Oa(i),new Oa(o)));case Ie:case Ke:case hr:return xo(+i,+o);case _n:return i.name==o.name&&i.message==o.message;case Dt:case Rr:return i==o+"";case Gn:var z=Dl;case Yn:var $=y&R;if(z||(z=Do),i.size!=o.size&&!$)return!1;var ne=O.get(i);if(ne)return ne==o;y|=A,O.set(i,o);var te=Hu(z(i),z(o),y,w,C,O);return O.delete(i),te;case gr:if(Ur)return Ur.call(i)==Ur.call(o)}return!1}function Sf(i,o,d,y,w,C){var O=d&R,z=Za(i),$=z.length,ne=Za(o),te=ne.length;if($!=te&&!O)return!1;for(var le=$;le--;){var Te=z[le];if(!(O?Te in o:Nn.call(o,Te)))return!1}var He=C.get(i),on=C.get(o);if(He&&on)return He==o&&on==i;var mn=!0;C.set(i,o),C.set(o,i);for(var sn=O;++le<$;){Te=z[le];var wn=i[Te],Cn=o[Te];if(y)var Pi=O?y(Cn,wn,Te,o,i,C):y(wn,Cn,Te,i,o,C);if(!(Pi===r?wn===Cn||w(wn,Cn,d,y,C):Pi)){mn=!1;break}sn||(sn=Te=="constructor")}if(mn&&!sn){var qr=i.constructor,Ii=o.constructor;qr!=Ii&&"constructor"in i&&"constructor"in o&&!(typeof qr=="function"&&qr instanceof qr&&typeof Ii=="function"&&Ii instanceof Ii)&&(mn=!1)}return C.delete(i),C.delete(o),mn}function Xi(i){return Wr(xc(i,r,Cc),i+"")}function Za(i){return tc(i,rr,Ti)}function Qa(i){return tc(i,pi,xf)}var _c=Kl?function(i){return Kl.get(i)}:mh;function ga(i){for(var o=i.name+"",d=Js[o],y=Nn.call(Js,o)?d.length:0;y--;){var w=d[y],C=w.func;if(C==null||C==i)return w.name}return o}function Eo(i){var o=Nn.call(T,"placeholder")?T:i;return o.placeholder}function Je(){var i=T.iteratee||hh;return i=i===hh?aa:i,arguments.length?i(arguments[0],arguments[1]):i}function Ja(i,o){var d=i.__data__;return ma(o)?d[typeof o=="string"?"string":"hash"]:d.map}function el(i){for(var o=rr(i),d=o.length;d--;){var y=o[d],w=i[y];o[d]=[y,w,rl(w)]}return o}function Ko(i,o){var d=qs(i,o);return Su(d)?d:r}function Ec(i){var o=Nn.call(i,ds),d=i[ds];try{i[ds]=r;var y=!0}catch{}var w=Ma.call(i);return y&&(o?i[ds]=d:delete i[ds]),w}var Ti=Hl?function(i){return i==null?[]:(i=$n(i),Io(Hl(i),function(o){return jl.call(i,o)}))}:vh,xf=Hl?function(i){for(var o=[];i;)Lo(o,Ti(i)),i=Si(i);return o}:vh,Wt=$t;(La&&Wt(new La(new ArrayBuffer(1)))!=Bt||ps&&Wt(new ps)!=Gn||Da&&Wt(Da.resolve())!=Cr||Bo&&Wt(new Bo)!=Yn||za&&Wt(new za)!=pt)&&(Wt=function(i){var o=$t(i),d=o==it?i.constructor:r,y=d?Vo(d):"";if(y)switch(y){case vu:return Bt;case Fo:return Gn;case tf:return Cr;case ea:return Yn;case Fi:return pt}return o});function Gu(i,o,d){for(var y=-1,w=d.length;++y<w;){var C=d[y],O=C.size;switch(C.type){case"drop":i+=O;break;case"dropRight":o-=O;break;case"take":o=Xt(o,i+O);break;case"takeRight":i=_t(i,o-O);break}}return{start:i,end:o}}function kf(i){var o=i.match(yi);return o?o[1].split(_i):[]}function Ku(i,o,d){o=Vi(o,i);for(var y=-1,w=o.length,C=!1;++y<w;){var O=Ai(o[y]);if(!(C=i!=null&&d(i,O)))break;i=i[O]}return C||++y!=w?C:(w=i==null?0:i.length,!!w&&qf(w)&&rt(O,w)&&(dn(i)||dl(i)))}function nl(i){var o=i.length,d=new i.constructor(o);return o&&typeof i[0]=="string"&&Nn.call(i,"index")&&(d.index=i.index,d.input=i.input),d}function Ht(i){return typeof i.constructor=="function"&&!wo(i)?na(Si(i)):{}}function Wp(i,o,d){var y=i.constructor;switch(o){case zt:return Va(i);case Ie:case Ke:return new y(+i);case Bt:return gf(i,d);case Qr:case Ft:case mr:case Ar:case Mr:case St:case vr:case Nr:case Or:return bf(i,d);case Gn:return new y;case hr:case Rr:return new y(i);case Dt:return mf(i);case Yn:return new y;case gr:return vf(i)}}function Hp(i,o){var d=o.length;if(!d)return i;var y=d-1;return o[y]=(d>1?"& ":"")+o[y],o=o.join(d>2?", ":" "),i.replace(Lr,`{
/* [wrapped with `+o+`] */
`)}function wc(i){return dn(i)||dl(i)||!!(Jd&&i&&i[Jd])}function rt(i,o){var d=typeof i;return o=o??j,!!o&&(d=="number"||d!="symbol"&&de.test(i))&&i>-1&&i%1==0&&i<o}function dr(i,o,d){if(!bt(d))return!1;var y=typeof o;return(y=="number"?fi(d)&&rt(o,d.length):y=="string"&&o in d)?xo(d[o],i):!1}function Pe(i,o){if(dn(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||Oi(i)?!0:Un.test(i)||!Fn.test(i)||o!=null&&i in $n(o)}function ma(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function tl(i){var o=ga(i),d=T[o];if(typeof d!="function"||!(o in un.prototype))return!1;if(i===d)return!0;var y=_c(d);return!!y&&i===y[0]}function Tf(i){return!!Fl&&Fl in i}var qp=Vs?Ns:bh;function wo(i){var o=i&&i.constructor,d=typeof o=="function"&&o.prototype||Bi;return i===d}function rl(i){return i===i&&!bt(i)}function Sc(i,o){return function(d){return d==null?!1:d[i]===o&&(o!==r||i in $n(d))}}function Cf(i){var o=H(i,function(y){return d.size===m&&d.clear(),y}),d=o.cache;return o}function Rf(i,o){var d=i[1],y=o[1],w=d|y,C=w<(M|L|he),O=y==he&&d==K||y==he&&d==me&&i[7].length<=o[8]||y==(he|me)&&o[7].length<=o[8]&&d==K;if(!(C||O))return i;y&M&&(i[2]=o[2],w|=d&M?0:q);var z=o[3];if(z){var $=i[3];i[3]=$?yf($,z,o[4]):z,i[4]=$?ei(i[3],_):o[4]}return z=o[5],z&&($=i[5],i[5]=$?Du($,z,o[6]):z,i[6]=$?ei(i[5],_):o[6]),z=o[7],z&&(i[7]=z),y&he&&(i[8]=i[8]==null?o[8]:Xt(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=w,i}function Af(i){var o=[];if(i!=null)for(var d in $n(i))o.push(d);return o}function Vu(i){return Ma.call(i)}function xc(i,o,d){return o=_t(o===r?i.length-1:o,0),function(){for(var y=arguments,w=-1,C=_t(y.length-o,0),O=G(C);++w<C;)O[w]=y[o+w];w=-1;for(var z=G(o+1);++w<o;)z[w]=y[w];return z[o]=d(O),ar(i,this,z)}}function Nt(i,o){return o.length<2?i:go(i,tr(o,0,-1))}function Ci(i,o){for(var d=i.length,y=Xt(o.length,d),w=cr(i);y--;){var C=o[y];i[y]=rt(C,d)?w[C]:r}return i}function Zi(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var Yu=Ri(lc),va=gu||function(i,o){return nt.setTimeout(i,o)},Wr=Ri(Ki);function Xu(i,o,d){var y=o+"";return Wr(i,Hp(y,Mf(kf(y),d)))}function Ri(i){var o=0,d=0;return function(){var y=Up(),w=qe-(y-d);if(d=y,w>0){if(++o>=cn)return arguments[0]}else o=0;return i.apply(r,arguments)}}function kc(i,o){var d=-1,y=i.length,w=y-1;for(o=o===r?y:o;++d<o;){var C=la(d,w),O=i[C];i[C]=i[d],i[d]=O}return i.length=o,i}var Zu=Cf(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(Oe,function(d,y,w,C){o.push(w?C.replace(Bs,"$1"):y||d)}),o});function Ai(i){if(typeof i=="string"||Oi(i))return i;var o=i+"";return o=="0"&&1/i==-1/0?"-0":o}function Vo(i){if(i!=null){try{return Aa.call(i)}catch{}try{return i+""}catch{}}return""}function Mf(i,o){return Yt(Ne,function(d){var y="_."+d[0];o&d[1]&&!Pl(i,y)&&i.push(y)}),i.sort()}function Nf(i){if(i instanceof un)return i.clone();var o=new Zt(i.__wrapped__,i.__chain__);return o.__actions__=cr(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function Tc(i,o,d){(d?dr(i,o,d):o===r)?o=1:o=_t(hn(o),0);var y=i==null?0:i.length;if(!y||o<1)return[];for(var w=0,C=0,O=G(fs(y/o));w<y;)O[C++]=tr(i,w,w+=o);return O}function Qu(i){for(var o=-1,d=i==null?0:i.length,y=0,w=[];++o<d;){var C=i[o];C&&(w[y++]=C)}return w}function ui(){var i=arguments.length;if(!i)return[];for(var o=G(i-1),d=arguments[0],y=i;y--;)o[y-1]=arguments[y];return Lo(dn(d)?cr(d):[d],ft(o,1))}var Tn=pn(function(i,o){return Tt(i)?Hi(i,ft(o,1,Tt,!0)):[]}),Ot=pn(function(i,o){var d=fr(o);return Tt(d)&&(d=r),Tt(i)?Hi(i,ft(o,1,Tt,!0),Je(d,2)):[]}),Et=pn(function(i,o){var d=fr(o);return Tt(d)&&(d=r),Tt(i)?Hi(i,ft(o,1,Tt,!0),r,d):[]});function qt(i,o,d){var y=i==null?0:i.length;return y?(o=d||o===r?1:hn(o),tr(i,o<0?0:o,y)):[]}function Hr(i,o,d){var y=i==null?0:i.length;return y?(o=d||o===r?1:hn(o),o=y-o,tr(i,0,o<0?0:o)):[]}function ba(i,o){return i&&i.length?Ga(i,Je(o,3),!0,!0):[]}function kt(i,o){return i&&i.length?Ga(i,Je(o,3),!0):[]}function il(i,o,d,y){var w=i==null?0:i.length;return w?(d&&typeof d!="number"&&dr(i,o,d)&&(d=0,y=w),df(i,o,d,y)):[]}function Yo(i,o,d){var y=i==null?0:i.length;if(!y)return-1;var w=d==null?0:hn(d);return w<0&&(w=_t(y+w,0)),Il(i,Je(o,3),w)}function ol(i,o,d){var y=i==null?0:i.length;if(!y)return-1;var w=y-1;return d!==r&&(w=hn(d),w=d<0?_t(y+w,0):Xt(w,y-1)),Il(i,Je(o,3),w,!0)}function Cc(i){var o=i==null?0:i.length;return o?ft(i,1):[]}function sl(i){var o=i==null?0:i.length;return o?ft(i,ie):[]}function xr(i,o){var d=i==null?0:i.length;return d?(o=o===r?1:hn(o),ft(i,o)):[]}function Ju(i){for(var o=-1,d=i==null?0:i.length,y={};++o<d;){var w=i[o];y[w[0]]=w[1]}return y}function ks(i){return i&&i.length?i[0]:r}function So(i,o,d){var y=i==null?0:i.length;if(!y)return-1;var w=d==null?0:hn(d);return w<0&&(w=_t(y+w,0)),Hs(i,o,w)}function Rc(i){var o=i==null?0:i.length;return o?tr(i,0,-1):[]}var ed=pn(function(i){var o=Kn(i,da);return o.length&&o[0]===i[0]?rc(o):[]}),Xo=pn(function(i){var o=fr(i),d=Kn(i,da);return o===fr(d)?o=r:d.pop(),d.length&&d[0]===i[0]?rc(d,Je(o,2)):[]}),Ac=pn(function(i){var o=fr(i),d=Kn(i,da);return o=typeof o=="function"?o:r,o&&d.pop(),d.length&&d[0]===i[0]?rc(d,r,o):[]});function Zo(i,o){return i==null?"":ql.call(i,o)}function fr(i){var o=i==null?0:i.length;return o?i[o-1]:r}function al(i,o,d){var y=i==null?0:i.length;if(!y)return-1;var w=y;return d!==r&&(w=hn(d),w=w<0?_t(y+w,0):Xt(w,y-1)),o===o?Dp(i,o,w):Il(i,Fd,w,!0)}function nd(i,o){return i&&i.length?ac(i,hn(o)):r}var Mc=pn(ll);function ll(i,o){return i&&i.length&&o&&o.length?mt(i,o):i}function pr(i,o,d){return i&&i.length&&o&&o.length?mt(i,o,Je(d,2)):i}function Qo(i,o,d){return i&&i.length&&o&&o.length?mt(i,o,r,d):i}var Mi=Xi(function(i,o){var d=i==null?0:i.length,y=ec(i,o);return xt(i,Kn(o,function(w){return rt(w,d)?+w:w}).sort(Lu)),y});function kr(i,o){var d=[];if(!(i&&i.length))return d;var y=-1,w=[],C=i.length;for(o=Je(o,3);++y<C;){var O=i[y];o(O,y,i)&&(d.push(O),w.push(y))}return xt(i,w),d}function Nc(i){return i==null?i:Gl.call(i)}function td(i,o,d){var y=i==null?0:i.length;return y?(d&&typeof d!="number"&&dr(i,o,d)?(o=0,d=y):(o=o==null?0:hn(o),d=d===r?y:hn(d)),tr(i,o,d)):[]}function rd(i,o){return ca(i,o)}function Gp(i,o,d){return cc(i,o,Je(d,2))}function Jo(i,o){var d=i==null?0:i.length;if(d){var y=ca(i,o);if(y<d&&xo(i[y],o))return y}return-1}function Of(i,o){return ca(i,o,!0)}function id(i,o,d){return cc(i,o,Je(d,2),!0)}function Ts(i,o){var d=i==null?0:i.length;if(d){var y=ca(i,o,!0)-1;if(xo(i[y],o))return y}return-1}function od(i){return i&&i.length?Mu(i):[]}function Cs(i,o){return i&&i.length?Mu(i,Je(o,2)):[]}function Pf(i){var o=i==null?0:i.length;return o?tr(i,1,o):[]}function If(i,o,d){return i&&i.length?(o=d||o===r?1:hn(o),tr(i,0,o<0?0:o)):[]}function sd(i,o,d){var y=i==null?0:i.length;return y?(o=d||o===r?1:hn(o),o=y-o,tr(i,o<0?0:o,y)):[]}function Oc(i,o){return i&&i.length?Ga(i,Je(o,3),!1,!0):[]}function Kp(i,o){return i&&i.length?Ga(i,Je(o,3)):[]}var Vp=pn(function(i){return yo(ft(i,1,Tt,!0))}),Lf=pn(function(i){var o=fr(i);return Tt(o)&&(o=r),yo(ft(i,1,Tt,!0),Je(o,2))}),Df=pn(function(i){var o=fr(i);return o=typeof o=="function"?o:r,yo(ft(i,1,Tt,!0),r,o)});function Rs(i){return i&&i.length?yo(i):[]}function Yp(i,o){return i&&i.length?yo(i,Je(o,2)):[]}function ya(i,o){return o=typeof o=="function"?o:r,i&&i.length?yo(i,r,o):[]}function Pc(i){if(!(i&&i.length))return[];var o=0;return i=Io(i,function(d){if(Tt(d))return o=_t(d.length,o),!0}),uu(o,function(d){return Kn(i,lu(d))})}function lt(i,o){if(!(i&&i.length))return[];var d=Pc(i);return o==null?d:Kn(d,function(y){return ar(o,r,y)})}var Xp=pn(function(i,o){return Tt(i)?Hi(i,o):[]}),zf=pn(function(i){return dc(Io(i,Tt))}),Zp=pn(function(i){var o=fr(i);return Tt(o)&&(o=r),dc(Io(i,Tt),Je(o,2))}),Qp=pn(function(i){var o=fr(i);return o=typeof o=="function"?o:r,dc(Io(i,Tt),r,o)}),Bf=pn(Pc);function Ff(i,o){return Ka(i||[],o||[],vs)}function Jp(i,o){return Ka(i||[],o||[],ws)}var di=pn(function(i){var o=i.length,d=o>1?i[o-1]:r;return d=typeof d=="function"?(i.pop(),d):r,lt(i,d)});function Ic(i){var o=T(i);return o.__chain__=!0,o}function eh(i,o){return o(i),i}function Ni(i,o){return o(i)}var Lc=Xi(function(i){var o=i.length,d=o?i[0]:0,y=this.__wrapped__,w=function(C){return ec(C,i)};return o>1||this.__actions__.length||!(y instanceof un)||!rt(d)?this.thru(w):(y=y.slice(d,+d+(o?1:0)),y.__actions__.push({func:Ni,args:[w],thisArg:r}),new Zt(y,this.__chain__).thru(function(C){return o&&!C.length&&C.push(r),C}))});function As(){return Ic(this)}function Dc(){return new Zt(this.value(),this.__chain__)}function ad(){this.__values__===r&&(this.__values__=cm(this.value()));var i=this.__index__>=this.__values__.length,o=i?r:this.__values__[this.__index__++];return{done:i,value:o}}function ld(){return this}function nh(i){for(var o,d=this;d instanceof Ui;){var y=Nf(d);y.__index__=0,y.__values__=r,o?w.__wrapped__=y:o=y;var w=y;d=d.__wrapped__}return w.__wrapped__=i,o}function cd(){var i=this.__wrapped__;if(i instanceof un){var o=i;return this.__actions__.length&&(o=new un(this)),o=o.reverse(),o.__actions__.push({func:Ni,args:[Nc],thisArg:r}),new Zt(o,this.__chain__)}return this.thru(Nc)}function th(){return ua(this.__wrapped__,this.__actions__)}var Uf=hc(function(i,o,d){Nn.call(i,d)?++i[d]:Wi(i,d,1)});function $f(i,o,d){var y=dn(i)?ru:Ua;return d&&dr(i,o,d)&&(o=r),y(i,Je(o,3))}function zc(i,o){var d=dn(i)?Io:Eu;return d(i,Je(o,3))}var Bc=xs(Yo),jf=xs(ol);function ud(i,o){return ft(Ms(i,o),1)}function rh(i,o){return ft(Ms(i,o),ie)}function Wf(i,o,d){return d=d===r?1:hn(d),ft(Ms(i,o),d)}function Fc(i,o){var d=dn(i)?Yt:qi;return d(i,Je(o,3))}function cl(i,o){var d=dn(i)?Ol:uf;return d(i,Je(o,3))}var dd=hc(function(i,o,d){Nn.call(i,d)?i[d].push(o):Wi(i,d,[o])});function Uc(i,o,d,y){i=fi(i)?i:Wc(i),d=d&&!y?hn(d):0;var w=i.length;return d<0&&(d=_t(w+d,0)),Gf(i)?d<=w&&i.indexOf(o,d)>-1:!!w&&Hs(i,o,d)>-1}var Hf=pn(function(i,o,d){var y=-1,w=typeof o=="function",C=fi(i)?G(i.length):[];return qi(i,function(O){C[++y]=w?ar(o,O,d):si(O,o,d)}),C}),ih=hc(function(i,o,d){Wi(i,d,o)});function Ms(i,o){var d=dn(i)?Kn:ku;return d(i,Je(o,3))}function oh(i,o,d,y){return i==null?[]:(dn(o)||(o=o==null?[]:[o]),d=y?r:d,dn(d)||(d=d==null?[]:[d]),Ha(i,o,d))}var ul=hc(function(i,o,d){i[d?0:1].push(o)},function(){return[[],[]]});function sh(i,o,d){var y=dn(i)?ou:$d,w=arguments.length<3;return y(i,Je(o,4),d,w,qi)}function $c(i,o,d){var y=dn(i)?Rp:$d,w=arguments.length<3;return y(i,Je(o,4),d,w,uf)}function e(i,o){var d=dn(i)?Io:Eu;return d(i,pe(Je(o,3)))}function t(i){var o=dn(i)?ji:nr;return o(i)}function s(i,o,d){(d?dr(i,o,d):o===r)?o=1:o=hn(o);var y=dn(i)?ms:Ru;return y(i,o)}function c(i){var o=dn(i)?lf:li;return o(i)}function h(i){if(i==null)return 0;if(fi(i))return Gf(i)?us(i):i.length;var o=Wt(i);return o==Gn||o==Yn?i.size:bo(i).length}function v(i,o,d){var y=dn(i)?su:Au;return d&&dr(i,o,d)&&(o=r),y(i,Je(o,3))}var S=pn(function(i,o){if(i==null)return[];var d=o.length;return d>1&&dr(i,o[0],o[1])?o=[]:d>2&&dr(o[0],o[1],o[2])&&(o=[o[0]]),Ha(i,ft(o,1),[])}),N=Xn||function(){return nt.Date.now()};function D(i,o){if(typeof o!="function")throw new ni(p);return i=hn(i),function(){if(--i<1)return o.apply(this,arguments)}}function V(i,o,d){return o=d?r:o,o=i&&o==null?i.length:o,Yi(i,he,r,r,r,r,o)}function ae(i,o){var d;if(typeof o!="function")throw new ni(p);return i=hn(i),function(){return--i>0&&(d=o.apply(this,arguments)),i<=1&&(o=r),d}}var ce=pn(function(i,o,d){var y=M;if(d.length){var w=ei(d,Eo(ce));y|=ue}return Yi(i,y,o,d,w)}),se=pn(function(i,o,d){var y=M|L;if(d.length){var w=ei(d,Eo(se));y|=ue}return Yi(o,y,i,d,w)});function Ae(i,o,d){o=d?r:o;var y=Yi(i,K,r,r,r,r,r,o);return y.placeholder=Ae.placeholder,y}function De(i,o,d){o=d?r:o;var y=Yi(i,Q,r,r,r,r,r,o);return y.placeholder=De.placeholder,y}function ze(i,o,d){var y,w,C,O,z,$,ne=0,te=!1,le=!1,Te=!0;if(typeof i!="function")throw new ni(p);o=Qi(o)||0,bt(d)&&(te=!!d.leading,le="maxWait"in d,C=le?_t(Qi(d.maxWait)||0,o):C,Te="trailing"in d?!!d.trailing:Te);function He(Ct){var ko=y,Ps=w;return y=w=r,ne=Ct,O=i.apply(Ps,ko),O}function on(Ct){return ne=Ct,z=va(wn,o),te?He(Ct):O}function mn(Ct){var ko=Ct-$,Ps=Ct-ne,wm=o-ko;return le?Xt(wm,C-Ps):wm}function sn(Ct){var ko=Ct-$,Ps=Ct-ne;return $===r||ko>=o||ko<0||le&&Ps>=C}function wn(){var Ct=N();if(sn(Ct))return Cn(Ct);z=va(wn,mn(Ct))}function Cn(Ct){return z=r,Te&&y?He(Ct):(y=w=r,O)}function Pi(){z!==r&&Pu(z),ne=0,y=$=w=z=r}function qr(){return z===r?O:Cn(N())}function Ii(){var Ct=N(),ko=sn(Ct);if(y=arguments,w=this,$=Ct,ko){if(z===r)return on($);if(le)return Pu(z),z=va(wn,o),He($)}return z===r&&(z=va(wn,o)),O}return Ii.cancel=Pi,Ii.flush=qr,Ii}var vt=pn(function(i,o){return _u(i,1,o)}),W=pn(function(i,o,d){return _u(i,Qi(o)||0,d)});function F(i){return Yi(i,Ge)}function H(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new ni(p);var d=function(){var y=arguments,w=o?o.apply(this,y):y[0],C=d.cache;if(C.has(w))return C.get(w);var O=i.apply(this,y);return d.cache=C.set(w,O)||C,O};return d.cache=new(H.Cache||ti),d}H.Cache=ti;function pe(i){if(typeof i!="function")throw new ni(p);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function $e(i){return ae(2,i)}var Ze=hf(function(i,o){o=o.length==1&&dn(o[0])?Kn(o[0],Br(Je())):Kn(ft(o,1),Br(Je()));var d=o.length;return pn(function(y){for(var w=-1,C=Xt(y.length,d);++w<C;)y[w]=o[w].call(this,y[w]);return ar(i,this,y)})}),Xe=pn(function(i,o){var d=ei(o,Eo(Xe));return Yi(i,ue,r,o,d)}),rn=pn(function(i,o){var d=ei(o,Eo(rn));return Yi(i,_e,r,o,d)}),Pt=Xi(function(i,o){return Yi(i,me,r,r,r,o)});function On(i,o){if(typeof i!="function")throw new ni(p);return o=o===r?o:hn(o),pn(i,o)}function es(i,o){if(typeof i!="function")throw new ni(p);return o=o==null?0:_t(hn(o),0),pn(function(d){var y=d[o],w=_o(d,0,o);return y&&Lo(w,y),ar(i,this,w)})}function ah(i,o,d){var y=!0,w=!0;if(typeof i!="function")throw new ni(p);return bt(d)&&(y="leading"in d?!!d.leading:y,w="trailing"in d?!!d.trailing:w),ze(i,o,{leading:y,maxWait:o,trailing:w})}function yy(i){return V(i,1)}function _y(i,o){return Xe(fc(o),i)}function Ey(){if(!arguments.length)return[];var i=arguments[0];return dn(i)?i:[i]}function wy(i){return wr(i,k)}function Sy(i,o){return o=typeof o=="function"?o:r,wr(i,k,o)}function xy(i){return wr(i,E|k)}function ky(i,o){return o=typeof o=="function"?o:r,wr(i,E|k,o)}function Ty(i,o){return o==null||Fa(i,o,rr(o))}function xo(i,o){return i===o||i!==i&&o!==o}var Cy=yc(Ho),Ry=yc(function(i,o){return i>=o}),dl=ic(function(){return arguments}())?ic:function(i){return wt(i)&&Nn.call(i,"callee")&&!jl.call(i,"callee")},dn=G.isArray,Ay=nu?Br(nu):ff;function fi(i){return i!=null&&qf(i.length)&&!Ns(i)}function Tt(i){return wt(i)&&fi(i)}function My(i){return i===!0||i===!1||wt(i)&&$t(i)==Ie}var _a=mu||bh,Ny=br?Br(br):vo;function Oy(i){return wt(i)&&i.nodeType===1&&!fd(i)}function Py(i){if(i==null)return!0;if(fi(i)&&(dn(i)||typeof i=="string"||typeof i.splice=="function"||_a(i)||jc(i)||dl(i)))return!i.length;var o=Wt(i);if(o==Gn||o==Yn)return!i.size;if(wo(i))return!bo(i).length;for(var d in i)if(Nn.call(i,d))return!1;return!0}function Iy(i,o){return ai(i,o)}function Ly(i,o,d){d=typeof d=="function"?d:r;var y=d?d(i,o):r;return y===r?ai(i,o,r,d):!!y}function lh(i){if(!wt(i))return!1;var o=$t(i);return o==_n||o==en||typeof i.message=="string"&&typeof i.name=="string"&&!fd(i)}function Dy(i){return typeof i=="number"&&Xs(i)}function Ns(i){if(!bt(i))return!1;var o=$t(i);return o==Rn||o==qn||o==Be||o==Zr}function om(i){return typeof i=="number"&&i==hn(i)}function qf(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=j}function bt(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function wt(i){return i!=null&&typeof i=="object"}var sm=cs?Br(cs):pf;function zy(i,o){return i===o||sa(i,o,el(o))}function By(i,o,d){return d=typeof d=="function"?d:r,sa(i,o,el(o),d)}function Fy(i){return am(i)&&i!=+i}function Uy(i){if(qp(i))throw new an(u);return Su(i)}function $y(i){return i===null}function jy(i){return i==null}function am(i){return typeof i=="number"||wt(i)&&$t(i)==hr}function fd(i){if(!wt(i)||$t(i)!=it)return!1;var o=Si(i);if(o===null)return!0;var d=Nn.call(o,"constructor")&&o.constructor;return typeof d=="function"&&d instanceof d&&Aa.call(d)==Ul}var ch=Nl?Br(Nl):ja;function Wy(i){return om(i)&&i>=-9007199254740991&&i<=j}var lm=Ws?Br(Ws):Gi;function Gf(i){return typeof i=="string"||!dn(i)&&wt(i)&&$t(i)==Rr}function Oi(i){return typeof i=="symbol"||wt(i)&&$t(i)==gr}var jc=Dd?Br(Dd):Wa;function Hy(i){return i===r}function qy(i){return wt(i)&&Wt(i)==pt}function Gy(i){return wt(i)&&$t(i)==et}var Ky=yc(qo),Vy=yc(function(i,o){return i<=o});function cm(i){if(!i)return[];if(fi(i))return Gf(i)?Fr(i):cr(i);if(fo&&i[fo])return Ip(i[fo]());var o=Wt(i),d=o==Gn?Dl:o==Yn?Do:Wc;return d(i)}function Os(i){if(!i)return i===0?i:0;if(i=Qi(i),i===ie||i===-1/0){var o=i<0?-1:1;return o*oe}return i===i?i:0}function hn(i){var o=Os(i),d=o%1;return o===o?d?o-d:o:0}function um(i){return i?ho(hn(i),0,P):0}function Qi(i){if(typeof i=="number")return i;if(Oi(i))return J;if(bt(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=bt(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=jd(i);var d=Mo.test(i);return d||B.test(i)?Al(i.slice(2),d?2:8):Ao.test(i)?J:+i}function dm(i){return ki(i,pi(i))}function Yy(i){return i?ho(hn(i),-9007199254740991,j):i===0?i:0}function jn(i){return i==null?"":Sr(i)}var Xy=fa(function(i,o){if(wo(o)||fi(o)){ki(o,rr(o),i);return}for(var d in o)Nn.call(o,d)&&vs(i,d,o[d])}),fm=fa(function(i,o){ki(o,pi(o),i)}),Kf=fa(function(i,o,d,y){ki(o,pi(o),i,y)}),Zy=fa(function(i,o,d,y){ki(o,rr(o),i,y)}),Qy=Xi(ec);function Jy(i,o){var d=na(i);return o==null?d:Qn(d,o)}var e0=pn(function(i,o){i=$n(i);var d=-1,y=o.length,w=y>2?o[2]:r;for(w&&dr(o[0],o[1],w)&&(y=1);++d<y;)for(var C=o[d],O=pi(C),z=-1,$=O.length;++z<$;){var ne=O[z],te=i[ne];(te===r||xo(te,Bi[ne])&&!Nn.call(i,ne))&&(i[ne]=C[ne])}return i}),n0=pn(function(i){return i.push(r,ju),ar(pm,r,i)});function t0(i,o){return Bd(i,Je(o,3),jr)}function r0(i,o){return Bd(i,Je(o,3),Wo)}function i0(i,o){return i==null?i:nc(i,Je(o,3),pi)}function o0(i,o){return i==null?i:$a(i,Je(o,3),pi)}function s0(i,o){return i&&jr(i,Je(o,3))}function a0(i,o){return i&&Wo(i,Je(o,3))}function l0(i){return i==null?[]:oa(i,rr(i))}function c0(i){return i==null?[]:oa(i,pi(i))}function uh(i,o,d){var y=i==null?r:go(i,o);return y===r?d:y}function u0(i,o){return i!=null&&Ku(i,o,oi)}function dh(i,o){return i!=null&&Ku(i,o,ys)}var d0=_f(function(i,o,d){o!=null&&typeof o.toString!="function"&&(o=Ma.call(o)),i[o]=d},ph(hi)),f0=_f(function(i,o,d){o!=null&&typeof o.toString!="function"&&(o=Ma.call(o)),Nn.call(i,o)?i[o].push(d):i[o]=[d]},Je),p0=pn(si);function rr(i){return fi(i)?$i(i):bo(i)}function pi(i){return fi(i)?$i(i,!0):xu(i)}function h0(i,o){var d={};return o=Je(o,3),jr(i,function(y,w,C){Wi(d,o(y,w,C),y)}),d}function g0(i,o){var d={};return o=Je(o,3),jr(i,function(y,w,C){Wi(d,w,o(y,w,C))}),d}var m0=fa(function(i,o,d){_s(i,o,d)}),pm=fa(function(i,o,d,y){_s(i,o,d,y)}),v0=Xi(function(i,o){var d={};if(i==null)return d;var y=!1;o=Kn(o,function(C){return C=Vi(C,i),y||(y=C.length>1),C}),ki(i,Qa(i),d),y&&(d=wr(d,E|x|k,Wu));for(var w=o.length;w--;)uc(d,o[w]);return d});function b0(i,o){return hm(i,pe(Je(o)))}var y0=Xi(function(i,o){return i==null?{}:Cu(i,o)});function hm(i,o){if(i==null)return{};var d=Kn(Qa(i),function(y){return[y]});return o=Je(o),Go(i,d,function(y,w){return o(y,w[0])})}function _0(i,o,d){o=Vi(o,i);var y=-1,w=o.length;for(w||(w=1,i=r);++y<w;){var C=i==null?r:i[Ai(o[y])];C===r&&(y=w,C=d),i=Ns(C)?C.call(i):C}return i}function E0(i,o,d){return i==null?i:ws(i,o,d)}function w0(i,o,d,y){return y=typeof y=="function"?y:r,i==null?i:ws(i,o,d,y)}var gm=Uu(rr),mm=Uu(pi);function S0(i,o,d){var y=dn(i),w=y||_a(i)||jc(i);if(o=Je(o,4),d==null){var C=i&&i.constructor;w?d=y?new C:[]:bt(i)?d=Ns(C)?na(Si(i)):{}:d={}}return(w?Yt:jr)(i,function(O,z,$){return o(d,O,z,$)}),d}function x0(i,o){return i==null?!0:uc(i,o)}function k0(i,o,d){return i==null?i:Ou(i,o,fc(d))}function T0(i,o,d,y){return y=typeof y=="function"?y:r,i==null?i:Ou(i,o,fc(d),y)}function Wc(i){return i==null?[]:Ca(i,rr(i))}function C0(i){return i==null?[]:Ca(i,pi(i))}function R0(i,o,d){return d===r&&(d=o,o=r),d!==r&&(d=Qi(d),d=d===d?d:0),o!==r&&(o=Qi(o),o=o===o?o:0),ho(Qi(i),o,d)}function A0(i,o,d){return o=Os(o),d===r?(d=o,o=0):d=Os(d),i=Qi(i),wu(i,o,d)}function M0(i,o,d){if(d&&typeof d!="boolean"&&dr(i,o,d)&&(o=d=r),d===r&&(typeof o=="boolean"?(d=o,o=r):typeof i=="boolean"&&(d=i,i=r)),i===r&&o===r?(i=0,o=1):(i=Os(i),o===r?(o=i,i=0):o=Os(o)),i>o){var y=i;i=o,o=y}if(d||i%1||o%1){var w=Ia();return Xt(i+w*(o-i+Jc("1e-"+((w+"").length-1))),o)}return la(i,o)}var N0=Ss(function(i,o,d){return o=o.toLowerCase(),i+(d?vm(o):o)});function vm(i){return fh(jn(i).toLowerCase())}function bm(i){return i=jn(i),i&&i.replace(Ce,qd).replace(Tl,"")}function O0(i,o,d){i=jn(i),o=Sr(o);var y=i.length;d=d===r?y:ho(hn(d),0,y);var w=d;return d-=o.length,d>=0&&i.slice(d,w)==o}function P0(i){return i=jn(i),i&&I.test(i)?i.replace(ct,Gd):i}function I0(i){return i=jn(i),i&&Ye.test(i)?i.replace(ke,"\\$&"):i}var L0=Ss(function(i,o,d){return i+(d?"-":"")+o.toLowerCase()}),D0=Ss(function(i,o,d){return i+(d?" ":"")+o.toLowerCase()}),z0=zu("toLowerCase");function B0(i,o,d){i=jn(i),o=hn(o);var y=o?us(i):0;if(!o||y>=o)return i;var w=(o-y)/2;return Xa(zo(w),d)+i+Xa(fs(w),d)}function F0(i,o,d){i=jn(i),o=hn(o);var y=o?us(i):0;return o&&y<o?i+Xa(o-y,d):i}function U0(i,o,d){i=jn(i),o=hn(o);var y=o?us(i):0;return o&&y<o?Xa(o-y,d)+i:i}function $0(i,o,d){return d||o==null?o=0:o&&(o=+o),nf(jn(i).replace(kn,""),o||0)}function j0(i,o,d){return(d?dr(i,o,d):o===r)?o=1:o=hn(o),Es(jn(i),o)}function W0(){var i=arguments,o=jn(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var H0=Ss(function(i,o,d){return i+(d?"_":"")+o.toLowerCase()});function q0(i,o,d){return d&&typeof d!="number"&&dr(i,o,d)&&(o=d=r),d=d===r?P:d>>>0,d?(i=jn(i),i&&(typeof o=="string"||o!=null&&!ch(o))&&(o=Sr(o),!o&&Gs(i))?_o(Fr(i),0,d):i.split(o,d)):[]}var G0=Ss(function(i,o,d){return i+(d?" ":"")+fh(o)});function K0(i,o,d){return i=jn(i),d=d==null?0:ho(hn(d),0,i.length),o=Sr(o),i.slice(d,d+o.length)==o}function V0(i,o,d){var y=T.templateSettings;d&&dr(i,o,d)&&(o=r),i=jn(i),o=Kf({},o,y,$u);var w=Kf({},o.imports,y.imports,$u),C=rr(w),O=Ca(w,C),z,$,ne=0,te=o.interpolate||An,le="__p += '",Te=Ra((o.escape||An).source+"|"+te.source+"|"+(te===nn?Jr:An).source+"|"+(o.evaluate||An).source+"|$","g"),He="//# sourceURL="+(Nn.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++kp+"]")+`
`;i.replace(Te,function(sn,wn,Cn,Pi,qr,Ii){return Cn||(Cn=Pi),le+=i.slice(ne,Ii).replace(ht,Kd),wn&&(z=!0,le+=`' +
__e(`+wn+`) +
'`),qr&&($=!0,le+=`';
`+qr+`;
__p += '`),Cn&&(le+=`' +
((__t = (`+Cn+`)) == null ? '' : __t) +
'`),ne=Ii+sn.length,sn}),le+=`';
`;var on=Nn.call(o,"variable")&&o.variable;if(!on)le=`with (obj) {
`+le+`
}
`;else if(or.test(on))throw new an(g);le=($?le.replace(bi,""):le).replace(Pr,"$1").replace(gn,"$1;"),le="function("+(on||"obj")+`) {
`+(on?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+le+`return __p
}`;var mn=_m(function(){return Mn(C,He+"return "+le).apply(r,O)});if(mn.source=le,lh(mn))throw mn;return mn}function Y0(i){return jn(i).toLowerCase()}function X0(i){return jn(i).toUpperCase()}function Z0(i,o,d){if(i=jn(i),i&&(d||o===r))return jd(i);if(!i||!(o=Sr(o)))return i;var y=Fr(i),w=Fr(o),C=Wd(y,w),O=du(y,w)+1;return _o(y,C,O).join("")}function Q0(i,o,d){if(i=jn(i),i&&(d||o===r))return i.slice(0,Bl(i)+1);if(!i||!(o=Sr(o)))return i;var y=Fr(i),w=du(y,Fr(o))+1;return _o(y,0,w).join("")}function J0(i,o,d){if(i=jn(i),i&&(d||o===r))return i.replace(kn,"");if(!i||!(o=Sr(o)))return i;var y=Fr(i),w=Wd(y,Fr(o));return _o(y,w).join("")}function e_(i,o){var d=je,y=Ee;if(bt(o)){var w="separator"in o?o.separator:w;d="length"in o?hn(o.length):d,y="omission"in o?Sr(o.omission):y}i=jn(i);var C=i.length;if(Gs(i)){var O=Fr(i);C=O.length}if(d>=C)return i;var z=d-us(y);if(z<1)return y;var $=O?_o(O,0,z).join(""):i.slice(0,z);if(w===r)return $+y;if(O&&(z+=$.length-z),ch(w)){if(i.slice(z).search(w)){var ne,te=$;for(w.global||(w=Ra(w.source,jn(Ro.exec(w))+"g")),w.lastIndex=0;ne=w.exec(te);)var le=ne.index;$=$.slice(0,le===r?z:le)}}else if(i.indexOf(Sr(w),z)!=z){var Te=$.lastIndexOf(w);Te>-1&&($=$.slice(0,Te))}return $+y}function n_(i){return i=jn(i),i&&Ir.test(i)?i.replace(Gt,Vd):i}var t_=Ss(function(i,o,d){return i+(d?" ":"")+o.toUpperCase()}),fh=zu("toUpperCase");function ym(i,o,d){return i=jn(i),o=d?r:o,o===r?Pp(i)?zp(i):Mp(i):i.match(o)||[]}var _m=pn(function(i,o){try{return ar(i,r,o)}catch(d){return lh(d)?d:new an(d)}}),r_=Xi(function(i,o){return Yt(o,function(d){d=Ai(d),Wi(i,d,ce(i[d],i))}),i});function i_(i){var o=i==null?0:i.length,d=Je();return i=o?Kn(i,function(y){if(typeof y[1]!="function")throw new ni(p);return[d(y[0]),y[1]]}):[],pn(function(y){for(var w=-1;++w<o;){var C=i[w];if(ar(C[0],this,y))return ar(C[1],this,y)}})}function o_(i){return cf(wr(i,E))}function ph(i){return function(){return i}}function s_(i,o){return i==null||i!==i?o:i}var a_=vc(),l_=vc(!0);function hi(i){return i}function hh(i){return aa(typeof i=="function"?i:wr(i,E))}function c_(i){return sc(wr(i,E))}function u_(i,o){return tt(i,wr(o,E))}var d_=pn(function(i,o){return function(d){return si(d,i,o)}}),f_=pn(function(i,o){return function(d){return si(i,d,o)}});function gh(i,o,d){var y=rr(o),w=oa(o,y);d==null&&!(bt(o)&&(w.length||!y.length))&&(d=o,o=i,i=this,w=oa(o,rr(o)));var C=!(bt(d)&&"chain"in d)||!!d.chain,O=Ns(i);return Yt(w,function(z){var $=o[z];i[z]=$,O&&(i.prototype[z]=function(){var ne=this.__chain__;if(C||ne){var te=i(this.__wrapped__),le=te.__actions__=cr(this.__actions__);return le.push({func:$,args:arguments,thisArg:i}),te.__chain__=ne,te}return $.apply(i,Lo([this.value()],arguments))})}),i}function p_(){return nt._===this&&(nt._=Zd),this}function mh(){}function h_(i){return i=hn(i),pn(function(o){return ac(o,i)})}var g_=bc(Kn),m_=bc(ru),v_=bc(su);function Em(i){return Pe(i)?lu(Ai(i)):at(i)}function b_(i){return function(o){return i==null?r:go(i,o)}}var y_=Fu(),__=Fu(!0);function vh(){return[]}function bh(){return!1}function E_(){return{}}function w_(){return""}function S_(){return!0}function x_(i,o){if(i=hn(i),i<1||i>j)return[];var d=P,y=Xt(i,P);o=Je(o),i-=P;for(var w=uu(y,o);++d<i;)o(d);return w}function k_(i){return dn(i)?Kn(i,Ai):Oi(i)?[i]:cr(Zu(jn(i)))}function T_(i){var o=++Ys;return jn(i)+o}var C_=Ya(function(i,o){return i+o},0),R_=jt("ceil"),A_=Ya(function(i,o){return i/o},1),M_=jt("floor");function N_(i){return i&&i.length?bs(i,hi,Ho):r}function O_(i,o){return i&&i.length?bs(i,Je(o,2),Ho):r}function P_(i){return Ud(i,hi)}function I_(i,o){return Ud(i,Je(o,2))}function L_(i){return i&&i.length?bs(i,hi,qo):r}function D_(i,o){return i&&i.length?bs(i,Je(o,2),qo):r}var z_=Ya(function(i,o){return i*o},1),B_=jt("round"),F_=Ya(function(i,o){return i-o},0);function U_(i){return i&&i.length?cu(i,hi):0}function $_(i,o){return i&&i.length?cu(i,Je(o,2)):0}return T.after=D,T.ary=V,T.assign=Xy,T.assignIn=fm,T.assignInWith=Kf,T.assignWith=Zy,T.at=Qy,T.before=ae,T.bind=ce,T.bindAll=r_,T.bindKey=se,T.castArray=Ey,T.chain=Ic,T.chunk=Tc,T.compact=Qu,T.concat=ui,T.cond=i_,T.conforms=o_,T.constant=ph,T.countBy=Uf,T.create=Jy,T.curry=Ae,T.curryRight=De,T.debounce=ze,T.defaults=e0,T.defaultsDeep=n0,T.defer=vt,T.delay=W,T.difference=Tn,T.differenceBy=Ot,T.differenceWith=Et,T.drop=qt,T.dropRight=Hr,T.dropRightWhile=ba,T.dropWhile=kt,T.fill=il,T.filter=zc,T.flatMap=ud,T.flatMapDeep=rh,T.flatMapDepth=Wf,T.flatten=Cc,T.flattenDeep=sl,T.flattenDepth=xr,T.flip=F,T.flow=a_,T.flowRight=l_,T.fromPairs=Ju,T.functions=l0,T.functionsIn=c0,T.groupBy=dd,T.initial=Rc,T.intersection=ed,T.intersectionBy=Xo,T.intersectionWith=Ac,T.invert=d0,T.invertBy=f0,T.invokeMap=Hf,T.iteratee=hh,T.keyBy=ih,T.keys=rr,T.keysIn=pi,T.map=Ms,T.mapKeys=h0,T.mapValues=g0,T.matches=c_,T.matchesProperty=u_,T.memoize=H,T.merge=m0,T.mergeWith=pm,T.method=d_,T.methodOf=f_,T.mixin=gh,T.negate=pe,T.nthArg=h_,T.omit=v0,T.omitBy=b0,T.once=$e,T.orderBy=oh,T.over=g_,T.overArgs=Ze,T.overEvery=m_,T.overSome=v_,T.partial=Xe,T.partialRight=rn,T.partition=ul,T.pick=y0,T.pickBy=hm,T.property=Em,T.propertyOf=b_,T.pull=Mc,T.pullAll=ll,T.pullAllBy=pr,T.pullAllWith=Qo,T.pullAt=Mi,T.range=y_,T.rangeRight=__,T.rearg=Pt,T.reject=e,T.remove=kr,T.rest=On,T.reverse=Nc,T.sampleSize=s,T.set=E0,T.setWith=w0,T.shuffle=c,T.slice=td,T.sortBy=S,T.sortedUniq=od,T.sortedUniqBy=Cs,T.split=q0,T.spread=es,T.tail=Pf,T.take=If,T.takeRight=sd,T.takeRightWhile=Oc,T.takeWhile=Kp,T.tap=eh,T.throttle=ah,T.thru=Ni,T.toArray=cm,T.toPairs=gm,T.toPairsIn=mm,T.toPath=k_,T.toPlainObject=dm,T.transform=S0,T.unary=yy,T.union=Vp,T.unionBy=Lf,T.unionWith=Df,T.uniq=Rs,T.uniqBy=Yp,T.uniqWith=ya,T.unset=x0,T.unzip=Pc,T.unzipWith=lt,T.update=k0,T.updateWith=T0,T.values=Wc,T.valuesIn=C0,T.without=Xp,T.words=ym,T.wrap=_y,T.xor=zf,T.xorBy=Zp,T.xorWith=Qp,T.zip=Bf,T.zipObject=Ff,T.zipObjectDeep=Jp,T.zipWith=di,T.entries=gm,T.entriesIn=mm,T.extend=fm,T.extendWith=Kf,gh(T,T),T.add=C_,T.attempt=_m,T.camelCase=N0,T.capitalize=vm,T.ceil=R_,T.clamp=R0,T.clone=wy,T.cloneDeep=xy,T.cloneDeepWith=ky,T.cloneWith=Sy,T.conformsTo=Ty,T.deburr=bm,T.defaultTo=s_,T.divide=A_,T.endsWith=O0,T.eq=xo,T.escape=P0,T.escapeRegExp=I0,T.every=$f,T.find=Bc,T.findIndex=Yo,T.findKey=t0,T.findLast=jf,T.findLastIndex=ol,T.findLastKey=r0,T.floor=M_,T.forEach=Fc,T.forEachRight=cl,T.forIn=i0,T.forInRight=o0,T.forOwn=s0,T.forOwnRight=a0,T.get=uh,T.gt=Cy,T.gte=Ry,T.has=u0,T.hasIn=dh,T.head=ks,T.identity=hi,T.includes=Uc,T.indexOf=So,T.inRange=A0,T.invoke=p0,T.isArguments=dl,T.isArray=dn,T.isArrayBuffer=Ay,T.isArrayLike=fi,T.isArrayLikeObject=Tt,T.isBoolean=My,T.isBuffer=_a,T.isDate=Ny,T.isElement=Oy,T.isEmpty=Py,T.isEqual=Iy,T.isEqualWith=Ly,T.isError=lh,T.isFinite=Dy,T.isFunction=Ns,T.isInteger=om,T.isLength=qf,T.isMap=sm,T.isMatch=zy,T.isMatchWith=By,T.isNaN=Fy,T.isNative=Uy,T.isNil=jy,T.isNull=$y,T.isNumber=am,T.isObject=bt,T.isObjectLike=wt,T.isPlainObject=fd,T.isRegExp=ch,T.isSafeInteger=Wy,T.isSet=lm,T.isString=Gf,T.isSymbol=Oi,T.isTypedArray=jc,T.isUndefined=Hy,T.isWeakMap=qy,T.isWeakSet=Gy,T.join=Zo,T.kebabCase=L0,T.last=fr,T.lastIndexOf=al,T.lowerCase=D0,T.lowerFirst=z0,T.lt=Ky,T.lte=Vy,T.max=N_,T.maxBy=O_,T.mean=P_,T.meanBy=I_,T.min=L_,T.minBy=D_,T.stubArray=vh,T.stubFalse=bh,T.stubObject=E_,T.stubString=w_,T.stubTrue=S_,T.multiply=z_,T.nth=nd,T.noConflict=p_,T.noop=mh,T.now=N,T.pad=B0,T.padEnd=F0,T.padStart=U0,T.parseInt=$0,T.random=M0,T.reduce=sh,T.reduceRight=$c,T.repeat=j0,T.replace=W0,T.result=_0,T.round=B_,T.runInContext=U,T.sample=t,T.size=h,T.snakeCase=H0,T.some=v,T.sortedIndex=rd,T.sortedIndexBy=Gp,T.sortedIndexOf=Jo,T.sortedLastIndex=Of,T.sortedLastIndexBy=id,T.sortedLastIndexOf=Ts,T.startCase=G0,T.startsWith=K0,T.subtract=F_,T.sum=U_,T.sumBy=$_,T.template=V0,T.times=x_,T.toFinite=Os,T.toInteger=hn,T.toLength=um,T.toLower=Y0,T.toNumber=Qi,T.toSafeInteger=Yy,T.toString=jn,T.toUpper=X0,T.trim=Z0,T.trimEnd=Q0,T.trimStart=J0,T.truncate=e_,T.unescape=n_,T.uniqueId=T_,T.upperCase=t_,T.upperFirst=fh,T.each=Fc,T.eachRight=cl,T.first=ks,gh(T,function(){var i={};return jr(T,function(o,d){Nn.call(T.prototype,d)||(i[d]=o)}),i}(),{chain:!1}),T.VERSION=a,Yt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){T[i].placeholder=T}),Yt(["drop","take"],function(i,o){un.prototype[i]=function(d){d=d===r?1:_t(hn(d),0);var y=this.__filtered__&&!o?new un(this):this.clone();return y.__filtered__?y.__takeCount__=Xt(d,y.__takeCount__):y.__views__.push({size:Xt(d,P),type:i+(y.__dir__<0?"Right":"")}),y},un.prototype[i+"Right"]=function(d){return this.reverse()[i](d).reverse()}}),Yt(["filter","map","takeWhile"],function(i,o){var d=o+1,y=d==ge||d==ee;un.prototype[i]=function(w){var C=this.clone();return C.__iteratees__.push({iteratee:Je(w,3),type:d}),C.__filtered__=C.__filtered__||y,C}}),Yt(["head","last"],function(i,o){var d="take"+(o?"Right":"");un.prototype[i]=function(){return this[d](1).value()[0]}}),Yt(["initial","tail"],function(i,o){var d="drop"+(o?"":"Right");un.prototype[i]=function(){return this.__filtered__?new un(this):this[d](1)}}),un.prototype.compact=function(){return this.filter(hi)},un.prototype.find=function(i){return this.filter(i).head()},un.prototype.findLast=function(i){return this.reverse().find(i)},un.prototype.invokeMap=pn(function(i,o){return typeof i=="function"?new un(this):this.map(function(d){return si(d,i,o)})}),un.prototype.reject=function(i){return this.filter(pe(Je(i)))},un.prototype.slice=function(i,o){i=hn(i);var d=this;return d.__filtered__&&(i>0||o<0)?new un(d):(i<0?d=d.takeRight(-i):i&&(d=d.drop(i)),o!==r&&(o=hn(o),d=o<0?d.dropRight(-o):d.take(o-i)),d)},un.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},un.prototype.toArray=function(){return this.take(P)},jr(un.prototype,function(i,o){var d=/^(?:filter|find|map|reject)|While$/.test(o),y=/^(?:head|last)$/.test(o),w=T[y?"take"+(o=="last"?"Right":""):o],C=y||/^find/.test(o);w&&(T.prototype[o]=function(){var O=this.__wrapped__,z=y?[1]:arguments,$=O instanceof un,ne=z[0],te=$||dn(O),le=function(wn){var Cn=w.apply(T,Lo([wn],z));return y&&Te?Cn[0]:Cn};te&&d&&typeof ne=="function"&&ne.length!=1&&($=te=!1);var Te=this.__chain__,He=!!this.__actions__.length,on=C&&!Te,mn=$&&!He;if(!C&&te){O=mn?O:new un(this);var sn=i.apply(O,z);return sn.__actions__.push({func:Ni,args:[le],thisArg:r}),new Zt(sn,Te)}return on&&mn?i.apply(this,z):(sn=this.thru(le),on?y?sn.value()[0]:sn.value():sn)})}),Yt(["pop","push","shift","sort","splice","unshift"],function(i){var o=co[i],d=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",y=/^(?:pop|shift)$/.test(i);T.prototype[i]=function(){var w=arguments;if(y&&!this.__chain__){var C=this.value();return o.apply(dn(C)?C:[],w)}return this[d](function(O){return o.apply(dn(O)?O:[],w)})}}),jr(un.prototype,function(i,o){var d=T[o];if(d){var y=d.name+"";Nn.call(Js,y)||(Js[y]=[]),Js[y].push({name:o,func:d})}}),Js[ha(r,L).name]=[{name:"wrapper",func:r}],un.prototype.clone=Yl,un.prototype.reverse=bu,un.prototype.value=ta,T.prototype.at=Lc,T.prototype.chain=As,T.prototype.commit=Dc,T.prototype.next=ad,T.prototype.plant=nh,T.prototype.reverse=cd,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=th,T.prototype.first=T.prototype.head,fo&&(T.prototype[fo]=ld),T},Ks=Bp();zi?((zi.exports=Ks)._=Ks,Ta._=Ks):nt._=Ks}).call(dw)}(Sd,Sd.exports)),Sd.exports}var pw=fw();const Ib=({articles:f})=>{const n=Se.useMemo(()=>{const r=pw.groupBy(f,l=>Pg(l.date).format("YYYY"));return Object.entries(r).sort(([l],[u])=>Number(u)-Number(l)).map(([l,u])=>Me.jsxs("div",{children:[Me.jsx("div",{className:"mx-0 mb-3 mt-8 text-2xl font-bold",children:l}),Me.jsx("div",{className:"mt-5 p-0 leading-[1.8]",children:u.map(p=>Me.jsxs("div",{className:"flex justify-between justify-items-center pb-1",children:[Me.jsx(Xc,{to:`/articles/${p.id}`,children:Me.jsx("span",{className:"hover:text-[#3370FF] active:text-[#3370FF]",children:p.title})}),Me.jsx("span",{className:"inline-block w-20 text-right text-sm opacity-30",children:Pg(p.date).format("MM.DD")})]},p.title))})]},l))},[f]);return Me.jsx("div",{className:"mt-10",children:n})},Lb=({message:f="抱歉，页面不见了"})=>Me.jsxs("div",{className:"flex min-h-[50vh] flex-col items-center justify-center",children:[Me.jsx("h1",{className:"mb-4 text-6xl font-bold text-gray-300",children:"404"}),Me.jsx("p",{className:"mb-8 text-lg text-gray-500",children:f}),Me.jsx(Xc,{to:"/",className:"rounded-md bg-blue-50 px-4 py-2 text-sm text-[#3370ff] transition-colors hover:bg-blue-100",children:"返回首页"})]}),hw=({headings:f,title:n})=>{const[r,a]=Se.useState(""),[l,u]=Se.useState(!1),p=96,g="article-title";Se.useEffect(()=>{const _=()=>{var R;const E=window.scrollY;u(E>120);const x=[{id:g,top:((R=document.getElementById(g))==null?void 0:R.getBoundingClientRect().top)??0},...f.map(({id:A})=>{const M=document.getElementById(A);return M?{id:A,top:M.getBoundingClientRect().top}:null}).filter(A=>A!==null)],k=x.find(A=>A.top>=p);k?a(k.id):x.length>0&&a(x[x.length-1].id)};return window.addEventListener("scroll",_),_(),()=>{window.removeEventListener("scroll",_)}},[f]);const b=(_,E)=>{_.preventDefault();const x=document.getElementById(E);if(x){const R=x.getBoundingClientRect().top+window.pageYOffset-p;window.scrollTo({top:R})}},m=()=>{window.scrollTo({top:0})};return Me.jsx("nav",{className:`fixed left-8 hidden w-64 transition-all duration-300 xl:block ${l?"top-4":"top-[7.5rem]"}`,children:Me.jsxs("div",{className:"p-4",children:[Me.jsx("h3",{className:`mb-2 cursor-pointer text-base font-medium transition-colors hover:text-[#3370ff] ${r===g?"text-[#3370ff]":"text-gray-500"}`,onClick:m,children:n}),Me.jsx("ul",{className:"scrollbar-custom max-h-[calc(100vh-4rem)] overflow-auto",children:f.map(_=>Me.jsx("li",{className:`my-2 ${_.level===2?"pl-0":_.level===3?"pl-4":"pl-8"}`,children:Me.jsx("a",{href:`#${_.id}`,className:`block text-sm transition-colors ${r===_.id?"text-[#3370ff]":"text-gray-500 hover:text-[#3370ff]"}`,onClick:E=>b(E,_.id),children:_.text})},_.id))})]})})},gw=({size:f=24,className:n=""})=>Me.jsx("div",{className:`inline-block animate-spin rounded-full border-2 border-solid border-[#3370ff] border-r-transparent ${n}`,style:{width:f,height:f}}),Md=JSON.parse("[{\"id\":\"949651894\",\"title\":\"实现一个简易的 React 调度器\",\"date\":\"2024-03-05\",\"tags\":[\"react\"],\"fileName\":\"实现一个简易的 React 调度器.md\",\"content\":\"\\n## 前言\\n\\nReact 16 引入了全新的调度系统（Scheduler），通过时间分片的方式来处理任务，避免长时间占用主线程。本文将从零实现一个简易版的调度器，帮助理解 React 调度系统的核心原理。\\n\\n## RequestIdleCallback\\n\\n功能：在浏览器的空闲时段内调用传入的回调函数，通常是在一帧（16.6ms）渲染完成后的剩余时间执行，以避免阻塞主线程上的重要工作（如动画和用户交互）。\\n\\n### 使用示例\\n\\n```javascript\\nrequestIdleCallback((deadline) => {\\n  // deadline.timeRemaining() 获取当前帧的剩余时间\\n  // deadline.didTimeout 是否超时\\n  while (deadline.timeRemaining() > 0) {\\n    // 执行任务\\n  }\\n});\\n```\\n\\n## MessageChannel\\n\\n功能：设计之初是用于提供了一个双向通信的管道，通过其两个端口（port1 和 port2）实现异步消息传递，可用于在不同的上下文间进行通信。在 react 实现中用于替代 requestIdleCallback。\\n\\n### 为什么选择 MessageChannel\\n\\n1. 更好的兼容性\\n\\n相比于 requestIdleCallback 有更好的兼容性\\n\\n2. 更精确的时间控制\\n\\n- setTimeout 和 setInterval 有最小延迟时间（约 4ms）\\n- 在后台标签页时，setTimeout 的最小延迟会被限制到 1000ms\\n- MessageChannel 没有这些限制，可以更精确地控制任务执行时机\\n\\n```js\\n// requestIdleCallback 依赖浏览器的空闲时间，不够灵活\\nrequestIdleCallback((deadline) => {\\n  // 只能在浏览器认为空闲的时候执行\\n  while (deadline.timeRemaining() > 0) {\\n    // 执行任务\\n  }\\n});\\n\\n// MessageChannel 可以自己控制时间切片\\nconst channel = new MessageChannel();\\nchannel.port1.onmessage = () => {\\n  const startTime = performance.now();\\n  while (performance.now() - startTime < 5) {\\n    // 可以精确控制执行时间\\n    performUnitOfWork();\\n  }\\n};\\n```\\n\\n3. 更好的性能\\n\\nMessageChannel 的消息通道机制比 setTimeout 更轻量，开销更小\\n\\n4. 优先级更高\\n\\n宏任务执行时机比 setTimout 优先级更高，可以更快触发\\n\\n5. 更稳定的行为\\n\\n- setTimeout 在不同浏览器中的行为可能不一致\\n- setTimeout 在系统繁忙时可能会被延迟更长时间\\n- MessageChannel 的行为更加可预测和稳定\\n\\n### 使用示例\\n\\n```javascript\\nconst channel = new MessageChannel();\\nconst port = channel.port2;\\n\\nchannel.port1.onmessage = () => {\\n  // 处理任务\\n};\\n\\n// 发送消息触发任务\\nport.postMessage(null);\\n```\\n\\n## Scheduler 核心实现\\n\\n```js\\nconst ImmediatePriority = 1; // 立即执行，点击事件\\nconst UserBlockingPriority = 2; // 用户阻塞，数据请求\\nconst NormalPriority = 3; // 正常，数据渲染\\nconst LowPriority = 4; // 低，数据更新\\nconst IdlePriority = 5; // 空闲，数据预加载\\n\\nfunction getCurrentTime() {\\n  return performance.now(); // 精确到微秒，更加精确\\n}\\n\\nclass SimpleScheduler {\\n  constructor() {\\n    this.taskQueue = [];\\n    // 是否正在执行任务，防止任务多次执行\\n    this.isPerformingTasks = false;\\n    const channel = new MessageChannel();\\n    this.port = channel.port2;\\n    channel.port1.onmessage = this.performWorkUnitDeaLine.bind(this);\\n  }\\n\\n  performWorkUnitDeaLine() {\\n    this.isPerformingTasks = true;\\n    this.workLoop();\\n    this.isPerformingTasks = false;\\n  }\\n\\n  scheduleCallback(priorityLevel, callback) {\\n    const currentTime = getCurrentTime();\\n    let timeout;\\n    switch (priorityLevel) {\\n      case ImmediatePriority:\\n        timeout = -1;\\n        break;\\n      case NormalPriority:\\n        timeout = 5000;\\n        break;\\n      case UserBlockingPriority:\\n        timeout = 250;\\n        break;\\n      case LowPriority:\\n        timeout = 10000;\\n        break;\\n      case IdlePriority:\\n        timeout = 1073741823;\\n        break;\\n      default:\\n        timeout = 5000;\\n        break;\\n    }\\n    const task = {\\n      callback,\\n      priorityLevel,\\n      expirationTime: currentTime + timeout,\\n    };\\n    this.push(this.taskQueue, task);\\n    if (!this.isPerformingTasks) {\\n      this.isPerformingTasks = true;\\n      this.port.postMessage(null);\\n    }\\n  }\\n\\n  workLoop() {\\n    let currentTask = this.peak(this.taskQueue);\\n\\n    while (currentTask) {\\n      let cb = currentTask.callback;\\n      cb?.();\\n      this.pop(this.taskQueue);\\n      currentTask = this.peak(this.taskQueue);\\n    }\\n  }\\n\\n  push(queue, task) {\\n    queue.push(task);\\n    // 优先级排序\\n    queue.sort((a, b) => a.expirationTime - b.expirationTime);\\n  }\\n  peak(queue) {\\n    return queue[0] || null;\\n  }\\n  pop(queue) {\\n    return queue.shift();\\n  }\\n}\\n\\nconst s = new SimpleScheduler();\\n\\n// 代码可以乱写，但是执行顺序是固定的\\n\\ns.scheduleCallback(NormalPriority, () => {\\n  console.log('2');\\n});\\n\\ns.scheduleCallback(UserBlockingPriority, () => {\\n  console.log('1');\\n});\\n\\ns.scheduleCallback(IdlePriority, () => {\\n  console.log('5');\\n});\\n\\ns.scheduleCallback(NormalPriority, () => {\\n  console.log('3');\\n});\\n\\n// 输出：1 2 3 5\\n```\\n\\n## 总结\\n\\n通过实现这个简易的调度器，我们了解了：\\n\\n1. React 调度系统的核心原理\\n2. 时间分片的实现方式\\n3. 任务优先级的管理方法\\n4. 异步调度的具体实现\\n\\n虽然这是一个简化版本，但包含了 React Scheduler 的核心概念，有助于深入理解 React 的调度机制。\\n\\n## 补充\\n\\nReact 19 可能计划改变调度器的实现方式，主要是使用浏览器新的 API：Scheduler Postask API。\\n\\n这个改变的原因是：\\n\\n1. 新的 Scheduler Postask API 更适合调度任务\\n\\n```js\\n// 新的 Scheduler API\\nwindow.scheduler.postTask(\\n  () => {\\n    // 执行任务\\n  },\\n  { priority: 'user-visible' }\\n);\\n```\\n\\n2. 相比 MessageChannel 的优势\\n\\n- 是专门为任务调度设计的 API\\n- 提供了原生的优先级控制\\n- 更好的性能和可靠性\\n- 与浏览器更好的集成\\n\\n3. React 团队的考虑\\n\\n- 更好地利用浏览器的能力\\n- 简化调度器的实现\\n- 提供更好的性能\\n\\n不过需要注意：\\n\\n- 这个改变还在计划中\\n- 需要等待浏览器的广泛支持\\n- 可能会提供降级方案\\n\",\"wordCount\":647},{\"id\":\"877586283\",\"title\":\"web worker 全解\",\"date\":\"2024-02-16\",\"tags\":[\"javascript\",\"web worker\",\"性能优化\"],\"fileName\":\"web worker 全解.md\",\"content\":\"\\n## 前言\\n\\n在 Web 开发中，JavaScript 是单线程的，这意味着所有任务都在主线程上执行。当遇到计算密集型任务时，可能会导致页面卡顿。Web Worker 提供了在后台线程中运行脚本的能力，让我们可以进行真正的并行处理。\\n\\n## Web Worker 基础\\n\\n### 1. 创建 Worker\\n\\n```javascript\\n// main.js\\nconst worker = new Worker('worker.js');\\n\\n// worker.js\\nself.onmessage = (e) => {\\n  const result = complexCalculation(e.data);\\n  self.postMessage(result);\\n};\\n```\\n\\n### 2. 通信机制\\n\\n```javascript\\n// 主线程发送消息\\nworker.postMessage({ type: 'START', payload: data });\\n\\n// 主线程接收消息\\nworker.onmessage = (e) => {\\n  console.log('Received:', e.data);\\n};\\n\\n// Worker 中发送消息\\nself.postMessage({ type: 'RESULT', payload: result });\\n\\n// Worker 中接收消息\\nself.onmessage = (e) => {\\n  console.log('Received in worker:', e.data);\\n};\\n```\\n\\n### 3. 错误处理\\n\\n```javascript\\n// 主线程监听错误\\nworker.onerror = (error) => {\\n  console.error('Worker error:', error);\\n};\\n\\n// Worker 中的错误处理\\nself.onerror = (error) => {\\n  console.error('Error in worker:', error);\\n};\\n```\\n\\n## Worker 类型\\n\\n### 1. Dedicated Worker\\n\\n最基本的 Worker 类型，一个页面专用。\\n\\n```javascript\\nconst dedicatedWorker = new Worker('worker.js');\\n```\\n\\n### 2. Shared Worker\\n\\n可以在多个页面间共享的 Worker。\\n\\n```javascript\\nconst sharedWorker = new SharedWorker('shared-worker.js');\\nsharedWorker.port.start();\\nsharedWorker.port.postMessage(data);\\n```\\n\\n### 3. Service Worker\\n\\n主要用于 PWA，可以拦截网络请求和实现缓存。\\n\\n```javascript\\n// 注册 Service Worker\\nnavigator.serviceWorker.register('/sw.js').then((registration) => {\\n  console.log('SW registered');\\n});\\n```\\n\\n## 数据传输\\n\\n### 1. 基本数据传输\\n\\n```javascript\\n// 传输普通数据\\nworker.postMessage({\\n  number: 42,\\n  string: 'Hello',\\n  array: [1, 2, 3],\\n});\\n```\\n\\n### 2. Transferable Objects\\n\\n```javascript\\n// 传输 ArrayBuffer\\nconst buffer = new ArrayBuffer(1024);\\nworker.postMessage(buffer, [buffer]);\\n\\n// 传输 ImageBitmap\\ncreateImageBitmap(imageBlob).then((bitmap) => {\\n  worker.postMessage({ image: bitmap }, [bitmap]);\\n});\\n```\\n\\n### 3. SharedArrayBuffer\\n\\n```javascript\\n// 共享内存\\nconst sharedBuffer = new SharedArrayBuffer(1024);\\nworker.postMessage({ buffer: sharedBuffer });\\n```\\n\\n## 实际应用场景\\n\\n### 1. 大数据处理\\n\\n```javascript\\n// main.js\\nconst dataWorker = new Worker('data-worker.js');\\n\\nfunction processLargeDataset(data) {\\n  dataWorker.postMessage(data);\\n}\\n\\ndataWorker.onmessage = (e) => {\\n  updateUI(e.data);\\n};\\n\\n// data-worker.js\\nself.onmessage = (e) => {\\n  const result = e.data.map((item) => complexCalculation(item));\\n  self.postMessage(result);\\n};\\n```\\n\\n### 2. 图像处理\\n\\n```javascript\\n// image-worker.js\\nself.onmessage = async (e) => {\\n  const { imageData } = e.data;\\n  const processed = await applyImageFilters(imageData);\\n  self.postMessage(processed);\\n};\\n\\n// 使用示例\\nconst imageWorker = new Worker('image-worker.js');\\nconst canvas = document.createElement('canvas');\\nconst ctx = canvas.getContext('2d');\\nconst imageData = ctx.getImageData(0, 0, width, height);\\n\\nimageWorker.postMessage({ imageData });\\n```\\n\\n### 3. 实时数据处理\\n\\n```javascript\\n// websocket-worker.js\\nlet ws;\\n\\nself.onmessage = (e) => {\\n  if (e.data.type === 'connect') {\\n    ws = new WebSocket(e.data.url);\\n    ws.onmessage = (event) => {\\n      const processed = processData(event.data);\\n      self.postMessage(processed);\\n    };\\n  }\\n};\\n```\\n\\n## 性能优化实践\\n\\n### 1. Worker 池\\n\\n```javascript\\nclass WorkerPool {\\n  constructor(size, workerScript) {\\n    this.workers = [];\\n    this.queue = [];\\n    this.activeWorkers = new Map();\\n\\n    for (let i = 0; i < size; i++) {\\n      const worker = new Worker(workerScript);\\n      this.workers.push(worker);\\n    }\\n  }\\n\\n  runTask(data) {\\n    return new Promise((resolve, reject) => {\\n      const availableWorker = this.workers.find((w) => !this.activeWorkers.has(w));\\n\\n      if (availableWorker) {\\n        this.executeTask(availableWorker, data, resolve);\\n      } else {\\n        this.queue.push({ data, resolve });\\n      }\\n    });\\n  }\\n\\n  executeTask(worker, data, resolve) {\\n    const handler = (e) => {\\n      worker.removeEventListener('message', handler);\\n      this.activeWorkers.delete(worker);\\n      resolve(e.data);\\n\\n      if (this.queue.length > 0) {\\n        const next = this.queue.shift();\\n        this.executeTask(worker, next.data, next.resolve);\\n      }\\n    };\\n\\n    worker.addEventListener('message', handler);\\n    this.activeWorkers.set(worker, handler);\\n    worker.postMessage(data);\\n  }\\n}\\n```\\n\\n### 2. 任务分片\\n\\n```javascript\\n// 大任务分片处理\\nfunction splitTask(data, chunkSize) {\\n  const chunks = [];\\n  for (let i = 0; i < data.length; i += chunkSize) {\\n    chunks.push(data.slice(i, i + chunkSize));\\n  }\\n  return chunks;\\n}\\n\\nconst workerPool = new WorkerPool(4, 'worker.js');\\nconst chunks = splitTask(largeData, 1000);\\n\\nPromise.all(chunks.map((chunk) => workerPool.runTask(chunk))).then((results) => {\\n  const finalResult = results.flat();\\n  updateUI(finalResult);\\n});\\n```\\n\\n## 注意事项与限制\\n\\n1. **Worker 限制**\\n\\n- 不能访问 DOM\\n- 不能使用 window 对象\\n- 限制使用某些 Web API\\n\\n2. **内存考虑**\\n\\n- 合理控制 Worker 数量\\n- 注意数据传输开销\\n- 及时终止不需要的 Worker\\n\\n3. **调试技巧**\\n\\n```javascript\\n// Worker 中添加调试信息\\nself.postMessage({\\n  type: 'DEBUG',\\n  payload: {\\n    memory: performance.memory,\\n    time: performance.now(),\\n  },\\n});\\n```\\n\\n## 总结\\n\\nWeb Worker 为 Web 应用提供了强大的多线程能力，适合处理：\\n\\n1. 计算密集型任务\\n2. 大数据处理\\n3. 实时数据处理\\n4. 图像处理\\n\\n通过合理使用 Worker，我们可以：\\n\\n- 提升应用性能\\n- 优化用户体验\\n- 实现更复杂的功能\\n\\n记住要根据实际需求选择合适的 Worker 类型和数据传输方式，同时注意内存管理和性能优化。\\n\",\"wordCount\":369},{\"id\":\"129465631\",\"title\":\"写一个简易版的 zustand\",\"date\":\"2023-08-11\",\"tags\":[\"react\",\"zustand\",\"状态管理\"],\"fileName\":\"写一个简易版的 zustand.md\",\"content\":\"\\n## 前言\\n\\n工作中的状态管理从一开始的`rematch`切换到了`zustand`，相比于`rematch`，`zustand`更加的简单易用体积小，且使业务中少写了很多模板代码。因此抱着学习的态度来研究一下它的底层实现。\\n\\n## 基本使用\\n\\n根据官方文档给出的基本示例：\\n\\n1.首先通过`create`来创建我们的全局状态\\n\\n```js\\nimport { create } from 'zustand';\\n\\nconst useBearStore = create((set) => ({\\n  bears: 0,\\n  increasePopulation: () => set((state) => ({ bears: state.bears + 1 })),\\n  removeAllBears: () => set({ bears: 0 }),\\n}));\\n```\\n\\n2.将状态绑定到需要的组件中\\n\\n```js\\n// 展示 bears 数值\\nfunction BearCounter() {\\n  const bears = useBearStore((state) => state.bears);\\n  return <h1>{bears} around here ...</h1>;\\n}\\n\\n// 点击按钮，增加 bears 数值\\nfunction Controls() {\\n  const increasePopulation = useBearStore((state) => state.increasePopulation);\\n  return <button onClick={increasePopulation}>one up</button>;\\n}\\n```\\n\\n以上便是 zustand 的基本使用了，这个场景其实已经涵盖了百分之八十的业务场景了，业务中无非也就是创建状态，然后去消费、设置状态。\\n\\n## zustand 的本质\\n\\n通过[阅读源码](https://github.com/pmndrs/zustand/tree/main/src)可以发现，其实`zustand`的本质是通过闭包去实现全局状态的管理。\\n\\n这种实现方式的优点是：\\n\\n- 状态被完全封装，外部无法直接访问和修改\\n- 通过闭包提供的访问控制，我们可以精确控制状态的更新方式\\n- 不需要像 Redux 那样维护一个全局的 store 对象\\n- 实现简单且高效，因为状态更新直接发生在闭包内部\\n\\n## 写一个简化版本的 zustand\\n\\n根据对源码核心原理的理解，我们可以写一个简化版本的`zustand`，代码如下：\\n\\n```js\\n// 创建 store 的函数\\nfunction create(createState) {\\n  let state;\\n  const listeners = new Set();\\n\\n  // 设置状态并通知所有监听器\\n  const setState = (partial) => {\\n    const nextState = typeof partial === 'function' ? partial(state) : partial;\\n    if (nextState !== state) {\\n      state = Object.assign({}, state, nextState);\\n      listeners.forEach((listener) => listener(state));\\n    }\\n  };\\n\\n  // 获取当前状态\\n  const getState = () => state;\\n\\n  // 订阅状态变化\\n  const subscribe = (listener) => {\\n    listeners.add(listener);\\n    return () => listeners.delete(listener);\\n  };\\n\\n  // 初始化状态\\n  const api = { setState, getState, subscribe };\\n  state = createState(setState, getState, api);\\n\\n  const useStore = (selector = (state) => state) => {\\n    const [, forceUpdate] = React.useReducer((c) => c + 1, 0);\\n    const currentState = React.useRef(state);\\n\\n    React.useEffect(() => {\\n      const listener = () => {\\n        const nextState = selector(state);\\n        if (nextState !== currentState.current) {\\n          currentState.current = nextState;\\n          forceUpdate();\\n        }\\n      };\\n      // 订阅视图更新监听器\\n      const destory = subscribe(listener);\\n      // 销毁视图更新监听器\\n      return destory;\\n    }, [selector]);\\n\\n    return selector(state);\\n  };\\n\\n  // 将 store 的方法挂载到 useStore 上\\n  Object.assign(useStore, {\\n    getState,\\n    setState,\\n    subscribe,\\n  });\\n\\n  return useStore;\\n}\\n```\\n\\n## useSyncExternalStore\\n\\n`useSyncExternalStore` 是 React 18 引入的一个专门用于订阅外部数据源的 Hook\\n\\n在`zustand`的最新版本中可以看到它是使用`useSyncExternalStore`去做视图更新的，它这么做主要是基于以下原因：\\n\\n并发模式支持：\\n\\n- 在 React 18 的并发模式下，useEffect 可能会被延迟执行，这可能导致状态更新不及时\\n- useSyncExternalStore 能确保在并发模式下状态更新是同步的，避免出现状态不一致的问题\\n\\n性能优化：\\n\\n- useSyncExternalStore 内部实现了更高效的订阅机制\\n- 它能够避免不必要的重渲染，只在状态真正变化时才触发更新\\n\\nSSR 支持：\\n\\n- useSyncExternalStore 对服务端渲染（SSR）有更好的支持\\n- 它能够正确处理服务端和客户端的状态同步\\n\\n因此我们可以优化一下我们的代码：\\n\\n```js\\n// 创建 store 的函数\\nfunction create(createState) {\\n  let state;\\n  const listeners = new Set();\\n\\n  // 设置状态并通知所有监听器\\n  const setState = (partial) => {\\n    const nextState = typeof partial === 'function' ? partial(state) : partial;\\n    if (nextState !== state) {\\n      state = Object.assign({}, state, nextState);\\n      listeners.forEach((listener) => listener(state));\\n    }\\n  };\\n\\n  // 获取当前状态\\n  const getState = () => state;\\n\\n  // 订阅状态变化\\n  const subscribe = (listener) => {\\n    listeners.add(listener);\\n    return () => listeners.delete(listener);\\n  };\\n\\n  // 初始化状态\\n  const api = { setState, getState, subscribe };\\n  state = createState(setState, getState, api);\\n\\n  // 使用 useSyncExternalStore 替代 useReducer 和 useEffect\\n  const useStore = (selector = (state) => state) => {\\n    return React.useSyncExternalStore(\\n      subscribe,\\n      () => selector(state),\\n      () => selector(state)\\n    );\\n  };\\n\\n  // 将 store 的方法挂载到 useStore 上\\n  Object.assign(useStore, {\\n    getState,\\n    setState,\\n    subscribe,\\n  });\\n\\n  return useStore;\\n}\\n```\\n\\n解释一下 useSyncExternalStore 的三个参数：\\n\\n- subscribe: 订阅函数，当外部数据源发生变化时会被调用\\n- getSnapshot: 获取当前状态的函数\\n- getServerSnapshot: 在服务端渲染时获取状态的函数（这里我们使用相同的函数）\\n\",\"wordCount\":605},{\"id\":\"85761436\",\"title\":\"SourceMap 的原理\",\"date\":\"2023-05-15\",\"tags\":[\"webpack\",\"工程化\"],\"fileName\":\"SourceMap 的原理.md\",\"content\":\"\\n## 前言\\n\\nSourceMap 是一种将压缩、合并或转译后的代码映射回原始源代码的技术，主要用于调试和错误追踪。它的核心原理是通过记录压缩代码与原始代码之间的位置对应关系，使开发者工具（如浏览器 DevTools）能够将压缩后的代码位置“翻译”回原始代码的位置。\\n\\n## SourceMap 的核心组成\\n\\n一个 SourceMap 文件（通常是 `.map` 后缀）包含以下关键信息（类似于一个 JSON 的格式，具有以下 6 个字段）：\\n\\n1. **版本（version）**：当前 SourceMap 的版本（如 3）。\\n2. **文件（file）**：生成的压缩文件名（如 bundle.min.js）。\\n3. **原始文件列表（sources）**：所有原始源文件的路径（如 [\\\"src/index.js\\\", \\\"src/utils.js\\\"]）。\\n4. **原始内容（sourcesContent）**：可选，直接包含原始代码内容，避免额外请求。\\n5. **名称（names）**：压缩过程中被缩短的变量名或函数名的原始名称（如将 myVariable 压缩为 a）。\\n6. **映射数据（mappings）**：最核心的部分，通过特定编码（如 VLQ）记录压缩代码与原始代码的位置对应关系。\\n\\n## 映射数据（mappings）的编码原理\\n\\n`mappings` 字段是一个字符串，通过分段编码记录了每个生成代码位置对应的原始位置。其编码过程如下：\\n\\n1. 位置分段\\n\\n- 每一行生成代码（压缩后的代码）用分号 ; 分隔。\\n- 同一行内的每个位置映射用逗号 , 分隔。\\n- 每个位置映射包含 1-5 个字段，用 VLQ 编码表示：\\n\\n```\\n生成的列 > 原始文件索引 > 原始行 > 原始列 > （可选）名称索引\\n```\\n\\n2. VLQ（Variable Length Quantity）编码\\n\\n- VLQ 是一种变长编码，能将大整数转换为 Base64 字符，减少文件体积。\\n- 每个位置字段的值是相对于前一个位置的 偏移量（而非绝对值），进一步压缩数据。\\n- 例如：数值 7 的 VLQ 编码是 7 → Base64 字符 7；数值 1000 的 VLQ 编码是 qB。\\n\\n3. 编码示例\\n\\n假设有以下映射字符串：\\n\\n```\\nmappings: \\\"AAAA,SAASA,CAASC\\\"\\n```\\n\\n解码后可能表示：\\n\\n- AAAA → 生成代码第 0 列 → 对应原始文件 0 的第 0 行第 0 列。\\n- SAASA → 生成代码第 1 列 → 对应原始文件 1 的第 1 行第 0 列。\\n\\n## 生成与使用流程\\n\\n1. 生成阶段：\\n\\n- 构建工具（如 Webpack、Babel、Terser）在压缩/转译代码时生成 SourceMap。\\n- 工具会记录每个生成代码位置对应的原始文件、行号、列号及原始名称。\\n\\n2. 浏览器使用阶段：\\n\\n- 浏览器检测到压缩文件末尾的 //# sourceMappingURL=bundle.min.js.map 注释时，会加载 SourceMap。\\n- 开发者工具（如 Chrome DevTools）根据 SourceMap 将压缩代码的位置映射回原始代码，显示原始文件名、行号等信息。\\n\\n## 注意事项\\n\\n1. 安全性：生产环境应避免暴露 SourceMap 文件，否则可能泄露源代码。\\n2. 性能：SourceMap 仅在打开开发者工具时加载，不影响普通用户性能。\\n3. 兼容性：现代浏览器均支持 SourceMap。\\n\\n## 总结\\n\\n通过这种映射机制，SourceMap 让开发者能在压缩代码中直接调试原始代码，极大提升了开发体验。\\n\",\"wordCount\":758},{\"id\":\"314029198\",\"title\":\"yalc 指南\",\"date\":\"2023-03-12\",\"tags\":[\"npm\",\"monorepo\",\"工程化\"],\"fileName\":\"yalc 指南.md\",\"content\":\"\\n## 前言\\n\\n业务中经常涉及到本地包的开发和调试，有一个绕不开的工具是 yalc，yalc 是一个更强大的本地包管理工具，相比 npm link 有很多优势。\\n\\n## 基本概念\\n\\n- yalc 是一个用于本地包开发和测试的工具\\n- 它模拟了真实的包安装过程，比 npm link 更接近生产环境\\n- 支持多个项目同时使用同一个本地包\\n\\n## 主要优势\\n\\n- 更接近真实环境：模拟了真实的包安装过程\\n- 更好的依赖处理：正确处理 peerDependencies\\n- 多项目支持：可以在多个项目中同时使用同一个本地包\\n- 版本管理：支持包的版本控制\\n- 更可靠：不会出现符号链接相关的问题\\n\\n## 安装\\n\\n```bash\\n# 全局安装\\nnpm install -g yalc\\n# 或\\nyarn global add yalc\\n```\\n\\n## 基本使用流程\\n\\n### 在包项目中\\n\\n```bash\\n# 1. 构建包\\nnpm run build\\n\\n# 2. 发布到本地存储\\nyalc publish\\n\\n# 3. 当代码有更新时\\nyalc push\\n```\\n\\n### 在使用包的项目中\\n\\n```bash\\n# 1. 添加本地包\\nyalc add npm-package\\n\\n# 2. 更新包\\nyalc update npm-package\\n\\n# 3. 移除包\\nyalc remove npm-package\\n```\\n\\n### 常用命令\\n\\n```bash\\n# 查看帮助\\nyalc --help\\n\\n# 查看已发布的包\\nyalc installations show\\n\\n# 清理所有安装\\nyalc installations clean\\n\\n# 查看包信息\\nyalc info\\n```\\n\\n## 工作流程示例\\n\\n假设你在开发 css-scope-loader：\\n\\n```bash\\n# 在 css-scope-loader 项目中\\n# 1. 初始化\\nnpm install -g yalc\\n\\n# 2. 构建\\nnpm run build\\n\\n# 3. 发布到本地存储\\nyalc publish\\n\\n# 4. 当代码有更新时\\n# 修改代码后\\nnpm run build\\nyalc push  # 这会自动更新所有使用这个包的项目\\n```\\n\\n在 my-app 项目中：\\n\\n```bash\\n# 1. 添加本地包\\nyalc add css-scope-loader\\n\\n# 2. 更新包（当包有更新时）\\nyalc update css-scope-loader\\n\\n# 3. 当开发完成后，移除本地包\\nyalc remove css-scope-loader\\n# 然后安装正式版本\\nnpm install css-scope-loader\\n```\\n\\n## 与 npm link 的区别\\n\\n| 特性       | yalc             | npm link       |\\n| ---------- | ---------------- | -------------- |\\n| 安装方式   | 模拟真实安装     | 使用符号链接   |\\n| 依赖处理   | 正确处理所有依赖 | 可能有依赖问题 |\\n| 多项目支持 | 支持             | 有限支持       |\\n| 更新机制   | 需要显式更新     | 自动更新       |\\n| 可靠性     | 更高             | 较低           |\\n| 使用场景   | 开发测试         | 快速原型       |\\n\\n## 最佳实践\\n\\n- 在开发包时使用 yalc publish 和 yalc push\\n- 在测试项目中使用 yalc add 和 yalc update\\n- 定期使用 yalc installations clean 清理旧的安装\\n- 在发布到 npm 前，确保使用 yalc remove 移除本地包\\n\\n## 高级用法\\n\\n```bash\\n# 发布特定版本\\nyalc publish --version 1.0.0\\n\\n# 强制更新\\nyalc push --force\\n\\n# 查看包的状态\\nyalc status\\n\\n# 添加私有包\\nyalc add file:../path/to/package\\n```\\n\\n## 与 monorepo 配合使用\\n\\n如果你使用 monorepo（如 lerna 或 yarn workspaces），yalc 可以很好地配合：\\n\\n```bash\\n# 在 monorepo 的包目录中\\nyalc publish\\n\\n# 在其他包中使用\\nyalc add css-scope-loader\\n```\\n\\n## 注意事项\\n\\n- yalc 会在项目根目录创建 .yalc 目录和 yalc.lock 文件\\n- 这些文件应该被添加到 .gitignore 中\\n- 在团队开发中，确保所有成员都使用相同版本的 yalc\\n- 在 CI/CD 环境中不要使用 yalc\\n\\n总的来说，yalc 是一个比 npm link 更强大、更可靠的本地包开发工具，特别适合：\\n\\n- 开发需要复杂依赖的包\\n- 在多个项目中测试同一个包\\n- 需要更接近生产环境的测试\\n- 团队协作开发包\\n\",\"wordCount\":558},{\"id\":\"1753303085\",\"title\":\"npm link 的工作原理\",\"date\":\"2023-03-11\",\"tags\":[\"npm\"],\"fileName\":\"npm link 的工作原理.md\",\"content\":\"\\n## 作用\\n\\n`npm link`是一个非常有用的开发工具，它允许你在本地开发和测试 npm 包，而不需要每次都发布到 npm 仓库。\\n\\n## 原理\\n\\n### 符号链接（Symbolic Link）机制\\n\\n- npm link 本质上是在你的系统中创建了一个符号链接（symlink）\\n- 符号链接类似于 Windows 的快捷方式或 macOS/Linux 的软链接\\n- 它创建了一个指向源文件的引用，而不是复制文件\\n\\n### 工作流程\\n\\n当你在包目录中运行`npm link`时：\\n\\n```text\\n/path/to/your-package $ npm link\\n```\\n\\n- npm 会在全局的 node_modules 目录中创建一个符号链接\\n- 这个链接指向你的包目录\\n- 包的名称来自 package.json 中的 name 字段\\n\\n当你在项目目录中运行`npm link package-name`时：\\n\\n```text\\n/path/to/your-project $ npm link package-name\\n```\\n\\n- npm 会在项目的 node_modules 目录中创建一个符号链接\\n- 这个链接指向全局 node_modules 中的包链接\\n- 最终形成了一个链式链接：项目 → 全局 → 包源码\\n\\n### 实际路径示例\\n\\n假设你的包名是 css-scope-loader：\\n\\n```text\\n项目 node_modules/css-scope-loader\\n→ 全局 node_modules/css-scope-loader\\n→ 你的包源码目录\\n```\\n\\n### 优势\\n\\n- 实时更新：修改包源码后，项目会立即看到变化\\n- 无需发布：可以在本地测试包的功能\\n- 节省时间：避免了频繁的 npm publish 和 npm install\\n- 方便调试：可以直接在源码中设置断点\\n\\n### 注意事项\\n\\n- 如果包有依赖，需要确保这些依赖在项目中可用\\n- 某些构建工具可能需要额外的配置来处理符号链接\\n- 在 Windows 系统上可能需要管理员权限\\n- 如果包使用了 peerDependencies，需要确保版本兼容\\n\\n### 替代方案\\n\\n- yarn link：与 npm link 类似，但由 yarn 提供\\n- npm install ../path/to/package：直接安装本地包\\n- yalc：更强大的本地包管理工具\\n\\n### 最佳实践\\n\\n- 在开发包时使用 npm link\\n- 在测试完成后，使用 npm unlink 解除链接\\n- 确保包的 package.json 中正确设置了 main、module 等字段\\n- 在包的 devDependencies 中声明开发依赖\\n- 在 peerDependencies 中声明必要的运行时依赖\\n\\n这就是为什么 npm link 是开发 npm 包时非常有用的工具 - 它创建了一个无缝的开发环境，让你可以实时测试和调试你的包，而不需要经过发布和安装的繁琐过程。\\n\",\"wordCount\":561},{\"id\":\"1326281483\",\"title\":\"CommonJS 和 ESModule 详解\",\"date\":\"2022-08-23\",\"tags\":[\"模块化、工程化\"],\"fileName\":\"CommonJS 和 ESModule 详解.md\",\"content\":\"\\n## CommonJS 和 ESModule 的起源与背景\\n\\n### CommonJS\\n\\n- 起源：2009 年由 Mozilla 工程师 Kevin Dangoor 提出，旨在为 JavaScript 在浏览器外（如服务器端）提供模块化支持。\\n- 应用场景：Node.js 的默认模块系统，主要用于服务器端开发。\\n- 核心目标：解决 JavaScript 无模块化的问题，实现代码复用和依赖管理。\\n\\n### ESModule\\n\\n- 起源：2015 年随 ES6 (ECMAScript 2015) 正式发布，成为 JavaScript 语言标准的一部分。\\n- 应用场景：现代浏览器和前端构建工具（如 Webpack、Rollup）广泛支持，逐步成为主流。\\n- 核心目标：统一 JavaScript 的模块化标准，支持静态分析和异步加载。\\n\\n## 语法对比\\n\\n### CommonJS 语法\\n\\n导出模块：\\n\\n```js\\n// 导出单个值\\nmodule.exports = function add(a, b) {\\n  return a + b;\\n};\\n\\n// 导出多个值\\nexports.subtract = (a, b) => a - b;\\nexports.multiply = (a, b) => a * b;\\n```\\n\\n导入模块：\\n\\n```js// 导入整个模块\\nconst math = require('./math.js');\\nmath.add(2, 3); // 5\\n\\n// 解构导入\\nconst { subtract } = require('./math.js');\\nsubtract(5, 2); // 3\\n```\\n\\n### ESModule 语法\\n\\n导出模块：\\n\\n```js\\n// 命名导出\\nexport const PI = 3.14;\\nexport function circleArea(r) {\\n  return PI * r * r;\\n}\\n\\n// 默认导出\\nexport default class Calculator {\\n  /* ... */\\n}\\n```\\n\\n导入模块：\\n\\n```js\\n// 导入命名导出\\n// 12.56\\n// 导入默认导出\\nimport Calculator from './Calculator.js';\\nimport { PI, circleArea } from './math.js';\\n\\nconsole.log(circleArea(2)); // 12.56\\n\\nconst calc = new Calculator();\\n\\n// 动态导入（异步）\\nimport('./math.js').then((module) => {\\n  console.log(module.PI);\\n});\\n```\\n\\n## 核心差异\\n\\n### 标准\\n\\n一个是社区标准，一个是官方标准。\\n\\n### 加载方式\\n\\n| 特性     | CommonJS                   | ESModule                 |\\n| -------- | -------------------------- | ------------------------ |\\n| 加载时机 | 运行时同步加载（阻塞执行） | 编译时静态解析，异步加载 |\\n| 适用环境 | 服务器（Node.js）          | 浏览器和现代 Node.js     |\\n| 动态导入 | 支持 `require` 动态加载    | 支持 `import()` 动态加载 |\\n\\n示例：动态加载\\n\\n```js\\n// CommonJS\\nif (condition) {\\n  const module = require('./dynamic-module');\\n}\\n\\n// ESModule\\nif (condition) {\\n  import('./dynamic-module.js').then((module) => {\\n    /* ... */\\n  });\\n}\\n```\\n\\n### 模块作用域与值传递\\n\\n| 特性     | CommonJS                               | ESModule                            |\\n| -------- | -------------------------------------- | ----------------------------------- |\\n| 输出类型 | 输出值的拷贝（原始类型复制，对象引用） | 输出值的只读引用（类似 const 绑定） |\\n| 响应性   | 导出值变化后，导入方不受影响           | 导出值变化后，导入方同步更新        |\\n\\n示例：值传递差异\\n\\n```js\\n// counter.js (CommonJS)\\nlet count = 0;\\nmodule.exports = { count, increment: () => count++ };\\n\\n// main.js\\nconst { count, increment } = require('./counter');\\nincrement();\\nconsole.log(count); // 0（count 是原始值的拷贝）\\n\\n// counter.mjs (ESModule)\\nexport let count = 0;\\nexport const increment = () => count++;\\n\\n// main.mjs\\nimport { count, increment } from './counter.mjs';\\nincrement();\\nconsole.log(count); // 1（count 是引用）\\n```\\n\\n### 循环依赖处理\\n\\n| 特性     | CommonJS                         | ESModule                   |\\n| -------- | -------------------------------- | -------------------------- |\\n| 处理方式 | 可能获取不完整模块（已执行部分） | 通过静态分析确保引用完整性 |\\n\\n示例：循环依赖\\n\\n```js\\n// a.js (CommonJS)\\nconst b = require('./b');\\nconsole.log('a: b.value =', b.value);\\nmodule.exports = { value: 'a' };\\n\\n// b.js (CommonJS)\\nconst a = require('./a');\\nconsole.log('b: a.value =', a.value); // 输出 {}（a 未完成初始化）\\nmodule.exports = { value: 'b' };\\n\\n// 执行 node a.js 输出：\\n// b: a.value = {}\\n// a: b.value = b\\n\\n// a.mjs (ESModule)\\nimport { value } from './b.mjs';\\nconsole.log('a:', value);\\nexport const value = 'a';\\n\\n// b.mjs (ESModule)\\nimport { value } from './a.mjs';\\nconsole.log('b:', value); // 报错：无法在初始化前访问 'value'\\nexport const value = 'b';\\n\\n// 浏览器中执行会直接报错（ReferenceError）\\n```\\n\\n### 静态分析与 Tree Shaking\\n\\n- ESModule：支持静态分析，构建工具（如 Webpack）可进行 Tree Shaking，删除未使用的代码。\\n- CommonJS：动态特性导致无法可靠分析依赖，Tree Shaking 效果有限。\\n\\n示例：Tree Shaking\\n\\n```js\\n// main.js\\nimport { add } from './math.js';\\n\\n// math.js (ESModule)\\nexport function add(a, b) {\\n  return a + b;\\n}\\nexport function multiply(a, b) {\\n  return a * b;\\n}\\n\\nconsole.log(add(2, 3));\\n\\n// 构建后产物中不会包含 multiply 函数。\\n```\\n\\n### Top-Level Await\\n\\n- ESModule：支持在模块顶层使用 await。\\n- CommonJS：不支持，必须在函数内部使用。\\n\\n示例：Top-Level Await\\n\\n```js\\n// data.mjs (ESModule)\\nconst data = await fetch('https://api.example.com/data');\\nexport { data };\\n\\n// main.mjs\\nimport { data } from './data.mjs';\\nconsole.log(data);\\n```\\n\\n## 现代开发中的使用与兼容\\n\\n### Node.js 中的 ESModule 支持\\n\\n- 文件扩展名：使用 .mjs 或设置 package.json 中 \\\"type\\\": \\\"module\\\"。\\n- 互操作性：可通过 import 加载 CommonJS 模块，但部分特性（如动态 require）受限。\\n\\n示例：Node.js 配置\\n\\n```json\\n// package.json\\n{\\n  \\\"type\\\": \\\"module\\\", // 启用 ESModule\\n  \\\"scripts\\\": {\\n    \\\"start\\\": \\\"node index.mjs\\\"\\n  }\\n}\\n```\\n\\n### 构建工具中的转换\\n\\n- Babel：将 ESModule 转换为 CommonJS 以兼容旧环境。\\n- Webpack/Rollup：支持混合使用两种模块系统。\\n\\n示例：Babel 配置\\n\\n```json\\n// .babelrc\\n{\\n  \\\"presets\\\": [\\n    [\\\"@babel/preset-env\\\", { \\\"modules\\\": \\\"commonjs\\\" }] // 转译 ESM 为 CJS\\n  ]\\n}\\n```\\n\\n## 总结与选择建议\\n\\n| 场景                | 推荐模块系统            | 理由                        |\\n| ------------------- | ----------------------- | --------------------------- |\\n| Node.js 服务端      | CommonJS                | 内置支持，生态成熟          |\\n| 现代浏览器/前端项目 | ESModule                | 原生支持，Tree Shaking 优化 |\\n| 混合项目            | ESModule + 构建工具转换 | 兼容新旧环境，统一代码风格  |\\n\\n未来趋势：ESModule 逐渐成为主流，Node.js 也在增强对 ESM 的支持。建议新项目优先使用 ESModule，旧项目逐步迁移。\\n\",\"wordCount\":719},{\"id\":\"1726424687\",\"title\":\"Webpack 常见问题\",\"date\":\"2022-07-16\",\"tags\":[\"webpack\"],\"fileName\":\"Webpack 常见问题.md\",\"content\":\"\\n## Webpack5 和 Webpack4 之间重要的区别\\n\\n1. 性能改进：Webpack5 在构建速度和打包体积方面进行了一些优化。它引入了持久缓存，可以减少构建时间。此外，Webpack5 还引入了更好的树摇（tree shaking）算法，可以更好地优化打包体积。\\n2. 模块联邦（Module Federation）：这是 Webpack5 中最重要的新功能之一。模块联邦允许不同的应用程序共享模块，从而实现更好的代码复用和拆分。\\n   这对于构建大型的微服务架构非常有用。\\n3. 支持 WebAssembly：Webpack5 对 WebAssembly 提供了更好的支持。它可以直接导入和导出 WebAssembly 模块，并且可以通过配置进行优化。\\n4. 改进的缓存策略：Webpack5 引入了更好的缓存策略，可以更好地利用浏览器缓存。这可以减少用户在更新应用程序时需要下载的文件数量。\\n5. 改进的 Tree Shaking：Webpack5 引入了更好的 Tree Shaking 算法，可以更好地识别和删除未使用的代码。这可以进一步减少打包体积。\\n6. 改进的持久缓存：Webpack5 引入了更好的持久缓存策略，可以更好地利用缓存。这可以减少构建时间。\\n\\n## 安装\\n\\n```js\\nnpm init -y     // 初始化package.json\\nnpm install webpack webpack-cli --save-dev\\n\\nnpx webpack --watch     // 监听文件修改\\nnpx webpack-dev-server  // 以server的方式启动项目，不会打包物理文件，而是输出到内存\\n```\\n\\n## 生命周期钩子\\n\\n- beforeRun：在 Webpack 开始运行之前调用，可以在此处执行一些准备工作。\\n\\n- run：在 Webpack 开始运行时调用，可以在此处执行一些初始化操作。\\n\\n- beforeCompile：在 Webpack 开始编译之前调用，可以在此处执行一些准备工作。\\n\\n- compile：在 Webpack 开始编译时调用，可以在此处执行一些初始化操作。\\n\\n- make：在 Webpack 开始构建编译器时调用，可以在此处执行一些准备工作。\\n\\n- afterCompile：在 Webpack 完成编译之后调用，可以在此处执行一些后处理操作。\\n\\n- emit：在 Webpack 生成最终的资源之前调用，可以在此处执行一些额外的操作，如生成额外的文件。\\n\\n- afterEmit：在 Webpack 生成最终的资源之后调用，可以在此处执行一些后处理操作。\\n\\n- done：在 Webpack 完成构建之后调用，可以在此处执行一些清理工作。\\n\\n### 使用钩子\\n\\n```js\\nmodule.exports = {\\n  // ...\\n  plugins: [\\n    {\\n      apply: (compiler) => {\\n        compiler.hooks.beforeRun.tap('MyPlugin', () => {\\n          console.log('Before run');\\n        });\\n\\n        compiler.hooks.done.tap('MyPlugin', () => {\\n          console.log('Build done');\\n        });\\n      },\\n    },\\n  ],\\n};\\n\\n//在上述示例中，我们定义了一个自定义插件，并在其中使用了beforeRun和done两个生命周期钩子函数。\\n//在这些钩子函数中，我们可以执行一些自定义的操作，如输出日志信息。\\n```\\n\\n## Loader（转换器）\\n\\nWebpack Loader 在 Webpack 构建过程中的生命周期中的工作主要分为以下几个阶段：\\n\\n- 解析阶段：Webpack 会根据配置文件中的入口文件，递归解析所有的依赖模块。在这个阶段，Webpack 会根据文件的后缀名来确定使用哪个 Loader 来处理该文件。\\n\\n- 编译阶段：在这个阶段，Webpack 会将解析后的模块转换成 AST（抽象语法树），并且根据配置文件中的规则，将模块中的代码进行转换和处理。这个阶段是 Loader 的主要工作阶段，Loader 可以对模块进行各种处理，例如转换代码、添加额外的功能等。\\n\\n- 生成阶段：在这个阶段，Webpack 会根据处理后的模块生成最终的输出文件。输出文件的格式和路径可以通过配置文件进行配置。\\n\\n在这些阶段中，Loader 主要在编译阶段发挥作用。Loader 可以通过导出一个函数来定义自己的处理逻辑，这个函数接收一个参数，即待处理的模块的源代码，然后返回处理后的代码。\\n\\n### 常用 Loader\\n\\n以下是一些常用的 Webpack Loader：\\n\\n- babel-loader：用于将 ES6+ 的 JavaScript 代码转换为 ES5 代码，以便在旧版本浏览器中运行。\\n\\n- css-loader：用于解析 CSS 文件，并处理其中的 import 和 url() 等语法。\\n\\n- style-loader：将解析后的 CSS 代码以 `<style>` 标签的形式插入到 HTML 文件中。\\n\\n- file-loader：用于处理文件资源（如图片、字体等），并将其复制到输出目录中。\\n\\n- url-loader：类似于 file-loader，但可以根据文件大小将文件转换为 DataURL，以减少 HTTP 请求。\\n\\n- sass-loader：用于将 SASS/SCSS 代码转换为 CSS 代码。\\n\\n- less-loader：用于将 Less 代码转换为CSS代码。\\n\\n- postcss-loader：用于对 CSS 代码进行后处理，如自动添加浏览器前缀等。\\n\\n- vue-loader：用于解析和转换 Vue 单文件组件。\\n\\n- ts-loader：用于将 TypeScript 代码转换为 JavaScript 代码。\\n\\n### 自定义 Loader\\n\\n```js\\n// 核心代码：\\n\\nfunction clearConsoleLoader(source) {\\n  // 使用正则表达式匹配并替换console语句\\n  const modifiedSource = source.replace(/console\\\\.[a-z]+\\\\(.+\\\\);?/g, '');\\n\\n  return modifiedSource;\\n}\\n\\nmodule.exports = clearConsoleLoader;\\n\\n//使用\\nmodule.exports = {\\n  // ...\\n  module: {\\n    rules: [\\n      {\\n        test: /\\\\.js$/,\\n        exclude: /node_modules/,\\n        use: ['babel-loader', './path/to/clearConsoleLoader.js'],\\n      },\\n    ],\\n  },\\n};\\n```\\n\\n## Plugin（插件）\\n\\n### 工作原理\\n\\nWebpack Plugin 是用来扩展 Webpack 功能的工具，它可以在 Webpack 构建过程中的不同阶段执行一些额外的操作。\\n\\n插件的工作原理是通过在 Webpack 的构建过程中的不同生命周期中注册一些钩子函数，然后在对应的阶段执行这些钩子函数中的逻辑。\\n\\nWebpack 的构建过程中有以下几个生命周期：\\n\\n- 初始化阶段：在这个阶段，Webpack 会初始化配置参数，加载插件，并准备开始编译。\\n\\n- 编译阶段：在这个阶段，Webpack 会从入口文件开始递归解析所有的依赖模块，并将模块转换成 AST（抽象语法树），然后根据配置文件中的规则进行转换和处理。\\n\\n- 完成编译阶段：在这个阶段，Webpack 已经完成了所有的模块的转换和处理，并且生成了最终的输出文件。\\n\\n- 输出阶段：在这个阶段，Webpack 会将生成的输出文件写入到磁盘上。\\n\\n插件可以在这些生命周期中的任意阶段注册对应的钩子函数，并在钩子函数中执行一些额外的操作。\\n\\n### 常用 Plugin\\n\\n以下是一些常用的 Webpack 插件：\\n\\n- html-webpack-plugin：用于生成 HTML 文件，并自动将打包后的资源插入到 HTML 文件中。\\n\\n- mini-css-extract-plugin：用于将 CSS 代码提取成单独的文件，并生成一个 CSS 文件。\\n\\n- webpack-bundle-analyzer：用于分析打包后的文件结构，并生成一个可视化的报告。\\n\\n- webpack-dev-server：用于提供一个本地开发服务器，并自动刷新浏览器。\\n\\n- webpack-merge：用于合并多个 Webpack 配置文件。\\n\\n- webpack-plugin-replace：用于在打包过程中替换文件中的变量。\\n\\n- webpack-bundle-analyzer：用于分析打包后的文件结构，并生成一个可视化的报告。\\n\\n- webpack-dev-server：用于提供一个本地开发服务器，并自动刷新浏览器。\\n\\n- webpack-merge：用于合并多个 Webpack 配置文件。\\n\\n- webpack-plugin-replace：用于在打包过程中替换文件中的变量。\\n\\n### 自定义 Plugin\\n\\n```js\\nclass MyPlugin {\\n  apply(compiler) {\\n    // 注册初始化阶段的钩子函数\\n    compiler.hooks.initialize.tap('MyPlugin', () => {\\n      console.log('MyPlugin initialized');\\n    });\\n\\n    // 注册编译阶段的钩子函数\\n    compiler.hooks.compile.tap('MyPlugin', () => {\\n      console.log('MyPlugin compiling');\\n    });\\n  }\\n}\\n\\nmodule.exports = MyPlugin;\\n\\n// 使用\\n\\nconst MyPlugin = require('./my-plugin');\\n\\nmodule.exports = {\\n  // ...\\n  plugins: [\\n    new MyPlugin(),\\n  ],\\n};\\n```\\n\\n## 打包过程\\n\\n- 读取配置文件：Webpack 会首先读取配置文件，根据配置文件中的入口、出口等信息进行打包。\\n\\n- 解析模块依赖：Webpack 会从指定的入口文件开始递归解析所有的模块依赖，直到找到所有的模块。\\n\\n- 加载器处理：对于不同类型的模块，Webpack 会使用相应的加载器对其进行处理。例如，对于 JavaScript 模块，Webpack 会使用 Babel 加载器将 ES6 语法转换为 ES5 语法；对于 CSS 模块，Webpack 会使用 CSS 加载器将 CSS 代码打包进 JS 文件中。\\n\\n- 插件处理：在模块加载完成之后，Webpack 会执行一系列插件，用于完成一些额外的任务，例如生成 HTML 文件、提取 CSS 文件等。\\n\\n- 编译打包：Webpack 将经过处理的模块和插件生成最终的打包文件。通常情况下，Webpack 会生成一个或多个 JavaScript 文件，同时也可以生成其他类型的文件，例如 CSS、图片等。\\n\\n- 输出打包文件：Webpack 将生成的打包文件输出到指定的目录中。通常情况下，Webpack 会将打包文件输出到 dist 目录下。\\n\\n## 加速 Webpack 打包速度和减小打包体积的优化\\n\\n### 优化打包速度\\n\\n1. 优化 Webpack 配置：使用 Tree shaking 来减小打包体积，设置 Webpack 的 mode 为 production 以启用 UglifyJsPlugin 等插件进行代码压缩和优化。\\n\\n2. 使用 Webpack 的 code splitting 功能：将代码分割成较小的块，以便在需要时动态加载。\\n\\n3. 压缩图片和字体文件：使用 ImageMinWebpackPlugin 和 FontminWebpackPlugin 等插件来压缩图片和字体文件，减小打包体积。\\n\\n4. 缓存：启用 Webpack 的缓存功能，以便在修改代码时只重新打包修改的文件，而不是重新打包所有文件。\\n\\n5. 使用 DLLPlugin和DllReferencePlugin：将一些第三方库打包成单独的文件，以便在每次打包应用程序时不必重新打包这些库。\\n\\n6. 使用 HappyPack 插件：使用多线程来加速Webpack打包，以便同时处理多个任务。\\n\\n7. 使用 externals 选项：将一些不需要打包的库从打包中排除，以便减小打包体积。\\n\\n8. 使用 webpack-bundle-analyzer 插件：分析打包后的文件，以便找出冗余的代码和依赖关系，进行优化。\\n\\n这些技巧可以帮助优化Webpack的打包速度和打包体积。\\n\\n## Webpack 配置文件\\n\\n```js\\nconst path = require('path');\\nconst HtmlWebpackPlugin = require('html-webpack-plugin'); // 自动引入资源插件  npm install --save-dev html-webpack-plugin\\nconst MiniCssExtracPlugin = require('mini-css-extrac-plugin'); // css抽离\\nconst CssMinimizerPlugin = require('css-minimizer-webpack-plugin'); //css压缩 npm install css-minimizer-webpack-plugin  --save-dev\\nconst TerserPlugin = require('terser-webpack-plugin'); // js压缩  npm install --save-dev terser-webpack-plugin\\n//加载toml、yarm、json5数据资源 npm install toml yarm json5 -D\\nconst toml = require('toml');\\nconst yarm = require('yarm');\\nconst json5 = require('json5');\\n\\nmodule.exports = (env) => {\\n  return {\\n    // 手动分离公共文件，通过配置成对象的方式实现多入口代码分割\\n    // entry: {\\n    //  index:{\\n    //    import:\\\"./src/index.js\\\",\\n    //    dependOn: \\\"shared\\\"  // 抽离公共文件\\n    //  },\\n    //  shared: \\\"lodash\\\"      // 公共的js文件\\n    // },\\n    // 多入口\\n    // entry: {\\n    // \\t pageOne: './src/pageOne/index.js',\\n    //  \\tpageTwo: './src/pageTwo/index.js',\\n    //  \\tpageThree: './src/pageThree/index.js',\\n    // },\\n    // 单入口\\n    entry: {\\n      index: './src/index.js',\\n    },\\n    output: {\\n      filename: 'scripts/[name].[contenthash].js', // 将所有的js放入同一个文件夹，并且根据文件名自动命名\\n      path: path.resolve(__dirname, './dist'),\\n      clean: true, // 清除上一次的垃圾文件\\n      assetModuleFilename: 'images/[contenthash][ext]', // 在images目录下，根据文件内容自动生成hash文件名\\n      publicPath: 'https://*****.com/', // 公共路径（cdn域名或者本地localhost）\\n    },\\n    mode: env.prodection ? 'prodection' : 'development', // 生产环境或者开发环境 package.json 启动命令：npx webpack --env prodection\\n    devtool: 'cheap-module-source-map', // 真实报错文件指向,生产环境一般不开启sourcemap\\n    // 插件（非必要的，缺少也不影响项目打包）\\n    plugins: [\\n      new HtmlWebpackPlugin({\\n        template: './index.html', // 模板\\n        filename: 'app.html',\\n        inject: 'body', // script 存在的位置\\n        hash: true, // 解决缓存\\n        minify: {\\n          removeAttributeQuotes: true, // 压缩，去掉引号\\n        },\\n      }),\\n      new MiniCssExtracPlugin({\\n        filename: 'style/[contenthash].css',\\n      }),\\n    ],\\n    devServer: {\\n      static: './dist', // 监听根目录文件变化，自动刷新页面插件 npm install --save-dev webpack-dev-server\\n      //反向代理\\n      proxy: {\\n        '/ajax': {\\n          target: 'https:**********',\\n          ws: true,\\n          changeOrigin: true,\\n        },\\n      },\\n    },\\n    // 模块（必要的，缺少影响项目打包）\\n    module: {\\n      rules: [\\n        //资源模块类型我们称之为Asset Modules Type，总共有四种，来代替loader，分别是：\\n        // asset/resource：发送一个单独的文件并导出URL，替代file-loader\\n        // asset/inline：导出一个资源的data URI(base64)，替代url-loader\\n        // asset/source：导出资源的源代码，之前通过使用raw-loader实现\\n        // asset：介于asset/resource和asset/inline之间， 之前通过url-loader+limit属性实现。\\n        {\\n          test: /\\\\.(png|gif|jp?g|svg|webp|ico)$/, // 正则图片文件\\n          type: 'asset',\\n          generator: {\\n            filename: 'images/[contenthash][ext]', // 优先级高于 assetModuleFilename\\n          },\\n        },\\n        {\\n          // 支持less\\n          // npm install style-loader css-loader less-loader less --save-dev\\n          // 抽离 npm install mini-css-extrac-plugin  --save-dev   webpack5环境下构建的插件\\n          test: /\\\\.(le|c)ss$/, // .less and .css\\n          use: [MiniCssExtracPlugin.loader, /* \\\"style-loader\\\", */ 'css-loader', 'less-loader'],\\n        },\\n        {\\n          test: /\\\\.(woff|woff2|eot|ttf|oft)$/, // 正则字体文件\\n          type: 'asset/resource',\\n        },\\n        //加载csv、xml数据资源 npm install csv-loader xml-loader -D\\n        {\\n          test: /\\\\.(csv|tsv)$/,\\n          use: 'csv-loader',\\n        },\\n        {\\n          test: /\\\\.xml$/,\\n          use: 'xml-loader',\\n        },\\n        //加载toml、yarm、json5数据资源\\n        {\\n          test: /\\\\.toml$/,\\n          type: 'json',\\n          parser: {\\n            parse: toml.parse,\\n          },\\n        },\\n        {\\n          test: /\\\\.yarm$/,\\n          type: 'json',\\n          parser: {\\n            parse: yarm.parse,\\n          },\\n        },\\n        {\\n          test: /\\\\.json5$/,\\n          type: 'json',\\n          parser: {\\n            parse: json5.parse,\\n          },\\n        },\\n        // loader工具 支持数组方式链式调用，数组靠后的元素先执行\\n        {\\n          // 压缩图片\\n          //图片小于一定大小使用base64 否则使用file-loader产生真实图片 npm install url-loader --save-dev\\n          test: /\\\\.(png|gif|jp?g|svg|webp|ico)$/, // 正则\\n          use: [\\n            {\\n              loader: 'url-loader',\\n              options: {\\n                limit: 5000, //小于限定使用base64\\n                name: 'home/images/[name].[hash:8].[ext]',\\n                publicPath: `../../`,\\n                esModule: false,\\n              },\\n            },\\n          ],\\n        },\\n        // 使用babel-loader npm install -D babel-loader @babel/core @babel/preset-env\\n        // regeneratorRuntime是webpack打包生成的全局辅助函数，由babel生成，用于兼容 async/await 的语法\\n        // npm install --save @babel/runtime\\n        // npm install --save-dev @babel/plugin-transform-runtime\\n        {\\n          test: /\\\\.js$/,\\n          exclude: /node_modules/, // *业务代码里面可能会引入node_modules外部js，这些js不需要babel-loader编译，因此需要排除掉\\n          use: {\\n            loader: 'babel-loader', // *引入babel-loader\\n            options: {\\n              presets: ['@babel/preset-env'], // *引入预设\\n              plugins: [\\n                [\\n                  '@babel/plugin-transform-runtime', // *配置插件信息\\n                ],\\n              ],\\n            },\\n          },\\n        },\\n      ],\\n    },\\n    optimization: {\\n      minimizer: [new CssMinimizerPlugin(), new TerserPlugin()], //代码压缩 mode改为 production\\n      splitChunks: {\\n        // 缓存\\n        cacheGroups: {\\n          vendor: {\\n            test: /[\\\\\\\\/]node_modules[\\\\\\\\/]/,\\n            name: 'vendors',\\n            chunks: 'all', // 自动重复代码抽离\\n          },\\n        },\\n      },\\n    },\\n  };\\n};\\n```\\n\\n## Webpack 配置文件拆分\\n\\n### webpack.config.common.js\\n\\nwebpack.config.common.js 文件用于公共环境配置\\n\\n```js\\nconst path = require('path');\\nconst HtmlWebpackPlugin = require('html-webpack-plugin'); // 自动引入资源插件  npm install --save-dev html-webpack-plugin\\nconst MiniCssExtracPlugin = require('mini-css-extrac-plugin'); // css抽离\\nconst CssMinimizerPlugin = require('css-minimizer-webpack-plugin'); //css压缩 npm install css-minimizer-webpack-plugin  --save-dev\\nconst TerserPlugin = require('terser-webpack-plugin'); // js压缩  npm install --save-dev terser-webpack-plugin\\n//加载toml、yarm、json5数据资源 npm install toml yarm json5 -D\\nconst toml = require('toml');\\nconst yarm = require('yarm');\\nconst json5 = require('json5');\\n\\nmodule.exports = {\\n  entry: {\\n    index: './src/index.js',\\n  },\\n  output: {\\n    path: path.resolve(__dirname, './dist'),\\n    clean: true, // 清除上一次的垃圾文件\\n    assetModuleFilename: 'images/[contenthash][ext]', // 在images目录下，根据文件内容自动生成hash文件名\\n  },\\n  // 插件（非必要的，缺少也不影响项目打包）\\n  plugins: [\\n    new HtmlWebpackPlugin({\\n      template: './index.html', // 模板\\n      filename: 'app.html',\\n      inject: 'body', // script 存在的位置\\n      hash: true, // 解决缓存\\n      minify: {\\n        removeAttributeQuotes: true, // 压缩，去掉引号\\n      },\\n    }),\\n    new MiniCssExtracPlugin({\\n      filename: 'style/[contenthash].css',\\n    }),\\n  ],\\n  // 模块（必要的，缺少影响项目打包）\\n  module: {\\n    rules: [\\n      //资源模块类型我们称之为Asset Modules Type，总共有四种，来代替loader，分别是：\\n      // asset/resource：发送一个单独的文件并导出URL，替代file-loader\\n      // asset/inline：导出一个资源的data URI(base64)，替代url-loader\\n      // asset/source：导出资源的源代码，之前通过使用raw-loader实现\\n      // asset：介于asset/resource和asset/inline之间， 之前通过url-loader+limit属性实现。\\n      {\\n        test: /\\\\.(png|gif|jp?g|svg|webp|ico)$/, // 正则图片文件\\n        type: 'asset',\\n        generator: {\\n          filename: 'images/[contenthash][ext]', // 优先级高于 assetModuleFilename\\n        },\\n      },\\n      {\\n        // 支持less\\n        // npm install style-loader css-loader less-loader less --save-dev\\n        // 抽离 npm install mini-css-extrac-plugin  --save-dev   webpack5环境下构建的插件\\n        test: /\\\\.(le|c)ss$/, // .less and .css\\n        use: [MiniCssExtracPlugin.loader, /* \\\"style-loader\\\", */ 'css-loader', 'less-loader'],\\n      },\\n      {\\n        test: /\\\\.(woff|woff2|eot|ttf|oft)$/, // 正则字体文件\\n        type: 'asset/resource',\\n      },\\n      //加载csv、xml数据资源 npm install csv-loader xml-loader -D\\n      {\\n        test: /\\\\.(csv|tsv)$/,\\n        use: 'csv-loader',\\n      },\\n      {\\n        test: /\\\\.xml$/,\\n        use: 'xml-loader',\\n      },\\n      //加载toml、yarm、json5数据资源\\n      {\\n        test: /\\\\.toml$/,\\n        type: 'json',\\n        parser: {\\n          parse: toml.parse,\\n        },\\n      },\\n      {\\n        test: /\\\\.yarm$/,\\n        type: 'json',\\n        parser: {\\n          parse: yarm.parse,\\n        },\\n      },\\n      {\\n        test: /\\\\.json5$/,\\n        type: 'json',\\n        parser: {\\n          parse: json5.parse,\\n        },\\n      },\\n      // loader工具 支持数组方式链式调用，数组靠后的元素先执行\\n      {\\n        // 压缩图片\\n        //图片小于一定大小使用base64 否则使用file-loader产生真实图片 npm install url-loader --save-dev\\n        test: /\\\\.(png|gif|jp?g|svg|webp|ico)$/, // 正则\\n        use: [\\n          {\\n            loader: 'url-loader',\\n            options: {\\n              limit: 5000, //小于限定使用base64\\n              name: 'home/images/[name].[hash:8].[ext]',\\n              publicPath: `../../`,\\n              esModule: false,\\n            },\\n          },\\n        ],\\n      },\\n      // 使用babel-loader npm install -D babel-loader @babel/core @babel/preset-env\\n      // regeneratorRuntime是webpack打包生成的全局辅助函数，由babel生成，用于兼容 async/await 的语法\\n      // npm install --save @babel/runtime\\n      // npm install --save-dev @babel/plugin-transform-runtime\\n      {\\n        test: /\\\\.js$/,\\n        exclude: /node_modules/, // *业务代码里面可能会引入node_modules外部js，这些js不需要babel-loader编译，因此需要排除掉\\n        use: {\\n          loader: 'babel-loader', // *引入babel-loader\\n          options: {\\n            presets: ['@babel/preset-env'], // *引入预设\\n            plugins: [\\n              [\\n                '@babel/plugin-transform-runtime', // *配置插件信息\\n              ],\\n            ],\\n          },\\n        },\\n      },\\n    ],\\n  },\\n  optimization: {\\n    splitChunks: {\\n      // 缓存\\n      cacheGroups: {\\n        vendor: {\\n          test: /[\\\\\\\\/]node_modules[\\\\\\\\/]/,\\n          name: 'vendors',\\n          chunks: 'all', // 自动重复代码抽离\\n        },\\n      },\\n    },\\n  },\\n};\\n```\\n\\n### webpack.config.dev.js\\n\\nwebpack.config.dev.js 文件用于开发环境配置，`npx webpack -c ./webpack.config.dev.js`\\n\\n```js\\nmodule.exports = {\\n  output: {\\n    filename: 'scripts/[name].js', // 将所有的js放入同一个文件夹，并且根据文件名自动命名\\n  },\\n  mode: 'development', // 生产环境或者开发环境 package.json 启动命令：npx webpack --env prodection\\n  devtool: 'cheap-module-source-map', // 真实报错文件指向,生产\\n  devServer: {\\n    static: './dist', // 监听根目录文件变化，自动刷新页面插件 npm install --save-dev webpack-dev-server\\n    //反向代理\\n    proxy: {\\n      '/ajax': {\\n        target: 'https:**********',\\n        ws: true,\\n        changeOrigin: true,\\n      },\\n    },\\n  },\\n};\\n```\\n\\n### webpack.config.prod.js\\n\\nwebpack.config.prod.js 文件用于生产环境配置，`npx webpack -c ./webpack.config.prod.js`\\n\\n```js\\nconst CssMinimizerPlugin = require('css-minimizer-webpack-plugin'); //css压缩 npm install css-minimizer-webpack-plugin  --save-dev\\nconst TerserPlugin = require('terser-webpack-plugin'); // js压缩  npm install --save-dev terser-webpack-plugin\\n\\nmodule.exports = {\\n  output: {\\n    filename: 'scripts/[name].[contenthash].js', // 将所有的js放入同一个文件夹，并且根据文件名自动命名\\n    publicPath: 'https://*****.com/', // 公共路径（cdn域名或者本地localhost）\\n  },\\n  mode: 'prodection', // 生产环境或者开发环境 package.json 启动命令：npx webpack --env prodection\\n  optimization: {\\n    minimizer: [new CssMinimizerPlugin(), new TerserPlugin()], //代码压缩 mode改为 production\\n  },\\n  performance: {\\n    hints: false, // 关闭性能提示\\n  },\\n};\\n```\\n\\n### webpack.config.js\\n\\n总的配置文件，根据环境变量来决定使用哪个配置文件，`npx webpack -c ./webpack.config.js --env development`\\n\\n```js\\nconst { merge } = require('webpack-merge'); // npm install webpack-merge -D\\nconst commonConfig = require('./webpack.config.common');\\nconst productionConfig = require('./webpack.config.prod');\\nconst developmentConfig = require('./webpack.config.dev');\\n\\nmodule.exports = (env) => {\\n  switch (true) {\\n    case env.development:\\n      return merge(commonConfig, developmentConfig);\\n    case env.production:\\n      return merge(commonConfig, productionConfig);\\n      defult: return new Error();\\n  }\\n};\\n```\\n\\n## 封装 Webpack 自定义插件\\n\\n```js\\n1. 创建一个 JavaScript 文件，并导出一个函数。这个函数将作为你的插件的构造函数。\\n\\n2. 在函数中定义一个 apply 方法，该方法接收一个 compiler 参数。这个 compiler 对象是 Webpack 的核心，它包含了 Webpack 的所有配置和工作流程。\\n\\n3. 在 apply 方法中，可以通过 compiler.hooks 对象访问 Webpack 的生命周期钩子。通过这些钩子，你可以在 Webpack 运行的不同阶段执行自定义代码。\\n\\n4. 实现你的插件逻辑，例如在特定的 Webpack 钩子上注册回调函数，向编译器添加自定义插件等。\\n\\n5. 将你的插件打包成一个 npm 模块，并在项目中引入和使用它。\\n\\n下面是一个简单的 Webpack 插件示例：\\n\\nconst MyPlugin = function() {};\\n\\nMyPlugin.prototype.apply = function(compiler) {\\n  compiler.hooks.done.tap('MyPlugin', stats => {\\n    console.log('Webpack is done!');\\n  });\\n};\\n\\nmodule.exports = MyPlugin;\\n\\n在这个示例中，我们定义了一个 MyPlugin 插件，它在 Webpack 编译完成后输出一条信息。\\n在 apply 方法中，我们使用 compiler.hooks.done 钩子注册了一个回调函数，在编译完成后输出一条消息。\\n\\n要使用这个插件，你需要将它打包成一个 npm 模块，并在 Webpack 配置文件中引入和使用它：\\n\\nconst MyPlugin = require('my-plugin');\\n\\nmodule.exports = {\\n  plugins: [\\n    new MyPlugin()\\n  ]\\n};\\n\\n这个示例中，我们在 Webpack 配置文件中引入了 MyPlugin 插件，并将它作为插件数组的一项传递给 plugins 选项。\\n这样，当 Webpack 编译时，MyPlugin 将会被启用并执行它的逻辑。\\n```\\n\",\"wordCount\":2361},{\"id\":\"1376131197\",\"title\":\"React 如何实现超大文件的上传和下载\",\"date\":\"2022-05-23\",\"tags\":[\"react\",\"业务场景\"],\"fileName\":\"React 如何实现超大文件的上传和下载.md\",\"content\":\"\\n## 背景\\n\\n文件传输是一个常见的需求。对于大文件的下载和上传，直接使用传统的方式可能会遇到性能和用户体验方面的问题。幸运的是，前端技术提供了一些高效的解决方案：文件流操作和切片下载与上传。本文将深入探讨这些技术，帮助你理解它们的原理和实现方法，以优化文件传输效率和提升用户体验。\\n\\n## 一、前端文件流操作\\n\\n在前端开发中，文件流操作是指通过数据流的方式处理文件，对文件进行读取、写入和展示等操作。下面详细介绍了前端文件流操作的几个基本概念和技术。\\n\\n### 数据流和文件处理的基本概念\\n\\n数据流是指连续的数据序列，可以从一个源传输到另一个目的地。在前端开发中，文件可以被看作数据流的一种形式，可以通过数据流的方式进行处理。文件处理涉及读取和写入文件的操作，包括读取文件的内容、写入数据到文件，以及对文件进行删除、重命名等操作。\\n\\n### Blob 对象和 ArrayBuffer：处理二进制数据\\n\\n在前端处理文件时，经常需要处理二进制数据。Blob（Binary Large Object）对象是用来表示二进制数据的一个接口，可以存储大量的二进制数据。Blob 对象可以通过构造函数进行创建，也可以通过其他 API 生成，例如通过 FormData 对象获取上传的文件。而 ArrayBuffer 是 JavaScript 中的一个对象类型，用于表示一个通用的、固定长度的二进制数据缓冲区。我们可以通过 ArrayBuffer 来操作和处理文件的二进制数据。\\n\\n代码如下：\\n\\n```jsx\\nimport React, { useState } from 'react';\\n\\nfunction FileInput() {\\n  const [fileContent, setFileContent] = useState('');\\n  // 读取文件内容到ArrayBuffer\\n  function readFileToArrayBuffer(file) {\\n    return new Promise((resolve, reject) => {\\n      const reader = new FileReader();\\n      // 堆代码 duidaima.com\\n      // 注册文件读取完成后的回调函数\\n      reader.onload = function (event) {\\n        const arrayBuffer = event.target.result;\\n        resolve(arrayBuffer);\\n      };\\n      // 读取文件内容到ArrayBuffer\\n      reader.readAsArrayBuffer(file);\\n    });\\n  }\\n  // 将ArrayBuffer转为十六进制字符串\\n  function arrayBufferToHexString(arrayBuffer) {\\n    const uint8Array = new Uint8Array(arrayBuffer);\\n    let hexString = '';\\n    for (let i = 0; i < uint8Array.length; i++) {\\n      const hex = uint8Array[i].toString(16).padStart(2, '0');\\n      hexString += hex;\\n    }\\n    return hexString;\\n  }\\n  // 处理文件选择事件\\n  function handleFileChange(event) {\\n    const file = event.target.files[0]; // 获取选中的文件\\n    if (file) {\\n      readFileToArrayBuffer(file)\\n        .then((arrayBuffer) => {\\n          const hexString = arrayBufferToHexString(arrayBuffer);\\n          setFileContent(hexString);\\n        })\\n        .catch((error) => {\\n          console.error('文件读取失败:', error);\\n        });\\n    } else {\\n      setFileContent('请选择一个文件');\\n    }\\n  }\\n  return (\\n    <div>\\n      <input type=\\\"file\\\" onChange={handleFileChange} />\\n      <div>\\n        <h4>文件内容：</h4>\\n        <pre>{fileContent}</pre>\\n      </div>\\n    </div>\\n  );\\n}\\n\\nexport default FileInput;\\n```\\n\\n上面代码里，我们创建了一个名为 FileInput 的函数式组件。该组件包含一个文件选择框和一个用于显示文件内容的 <pre> 元素。当用户选择文件时，通过 FileReader 将文件内容读取为 ArrayBuffer，然后将 ArrayBuffer 转换为十六进制字符串，并将结果显示在页面上。\\n\\n### 使用 FileReader 进行文件读取\\n\\nFileReader 是前端浏览器提供的一个 API，用于读取文件内容。通过 FileReader，我们可以通过异步方式读取文件，并将文件内容转换为可用的数据形式，比如文本数据或二进制数据。FileReader 提供了一些读取文件的方法，例如 readAsText()、readAsArrayBuffer() 等，可以根据需要选择合适的方法来读取文件内容。\\n\\n### 将文件流展示在前端页面中\\n\\n一旦我们成功地读取了文件的内容，就可以将文件流展示在前端页面上。具体的展示方式取决于文件的类型。例如，对于文本文件，可以直接将其内容显示在页面的文本框或区域中；对于图片文件，可以使用 <img> 标签展示图片；对于音视频文件，可以使用 <video> 或 <audio> 标签来播放。通过将文件流展示在前端页面上，我们可以实现在线预览和查看文件内容的功能。\\n\\n好的，这一部分就基本介绍完毕，总结一下。前端文件操作流是处理大型文件的一种常见方式，他可以通过数据流的方式对文件进行操作。Blob对象 和 ArrayBuffer是处理二进制数据的重要工具。而 FileReader则是读取文件内容的的关键组件。通过这些技术，我们可以方便的在前端页面上进行操作或者文件展示。\\n\\n## 二、文件切片下载\\n\\n这一步就进入到我们今天文章主题了，先来主要的看下流程:\\ngraph LR\\nA(开始) --> B{选择文件}\\nB -- 用户选择文件 --> C[切割文件为多个切片]\\nC --> D{上传切片}\\nD -- 上传完成 --> E[合并切片为完整文件]\\nE -- 文件合并完成 --> F(上传成功)\\nD -- 上传中断 --> G{保存上传进度}\\nG -- 上传恢复 --> D\\n\\nG -- 取消上传 --> H(上传取消)\\n\\n### 传统文件下载的性能问题\\n\\n文件切片下载是一种提升文件下载效率的技术，通过将大文件分割成多个小片段（切片），并使用多个并发请求同时下载这些切片，从而加快整体下载速度。传统的文件下载方式对于大文件来说存在性能问题。当用户请求下载一个大文件时，服务器需要将整个文件发送给客户端。这会导致以下几个问题：\\n\\n1. 较长的等待时间：大文件需要较长的时间来传输到客户端，用户需要等待很长时间才能开始使用文件。\\n2. 网络阻塞：由于下载过程中占用了网络带宽，其他用户可能会遇到下载速度慢的问题。\\n3. 断点续传困难：如果下载过程中出现网络故障或者用户中断下载，需要重新下载整个文件，无法继续之前的下载进度。\\n\\n### 利用文件切片提升下载效率\\n\\n文件切片下载通过将文件分割成多个小片段，每个片段大小通常在几百KB到几MB之间。然后客户端通过多个并发请求同时下载这些片段。这样做的好处是：\\n\\n![1.jpg](https://free4.yunpng.top/2025/02/27/67bfb865ba8df.jpg)\\n\\n快速启动：客户端可以快速开始下载，因为只需要下载第一个切片即可。\\n并发下载：通过使用多个并发请求下载切片，可以充分利用带宽，并提高整体下载速度。\\n断点续传：如果下载中断，客户端只需要重新下载中断的切片，而不需要重新下载整个文件。\\n\\n切片上传代码示例：\\n\\n```jsx\\nconst [selectedFile, setSelectedFile] = useState(null);\\nconst [progress, setProgress] = useState(0);\\n// 处理文件选择事件\\nfunction handleFileChange(event) {\\n  setSelectedFile(event.target.files[0]);\\n}\\n// 处理文件上传事件\\nfunction handleFileUpload() {\\n  if (selectedFile) {\\n    // 计算切片数量和每个切片的大小\\n    const fileSize = selectedFile.size;\\n    const chunkSize = 1024 * 1024; // 设置切片大小为1MB\\n    const totalChunks = Math.ceil(fileSize / chunkSize);\\n    // 创建FormData对象，并添加文件信息\\n    const formData = new FormData();\\n    formData.append('file', selectedFile);\\n    formData.append('totalChunks', totalChunks);\\n    // 循环上传切片\\n    for (let chunkNumber = 0; chunkNumber < totalChunks; chunkNumber++) {\\n      const start = chunkNumber * chunkSize;\\n      const end = Math.min(start + chunkSize, fileSize);\\n      const chunk = selectedFile.slice(start, end);\\n      formData.append(`chunk-${chunkNumber}`, chunk, selectedFile.name);\\n    }\\n    // 发起文件上传请求\\n    axios\\n      .post('/upload', formData, {\\n        onUploadProgress: (progressEvent) => {\\n          const progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);\\n          setProgress(progress);\\n        },\\n      })\\n      .then((response) => {\\n        console.log('文件上传成功:', response.data);\\n      })\\n      .catch((error) => {\\n        console.error('文件上传失败:', error);\\n      });\\n  }\\n}\\n```\\n\\n当涉及到切片上传和下载时，前端使用的技术通常是基于前端库或框架提供的文件处理功能，结合后端服务实现。\\n\\n上面代码里我们提到了文件如何切片上传。\\n当用户选择文件后，通过 handleFileChange 函数处理文件选择事件，将选择的文件保存在 selectedFile 状态中。\\n当用户点击上传按钮时，通过 handleFileUpload 函数处理文件上传事件。\\n\\n在 handleFileUpload 函数中，计算切片数量和每个切片的大小，并创建一个 FormData 对象用于存储文件信息和切片数据。\\n\\n### 实现客户端切片下载的方案\\n\\n实现客户端切片下载的基本方案如下：\\n\\n1. 服务器端将大文件切割成多个切片，并为每个切片生成唯一的标识符。\\n2. 客户端发送请求获取切片列表，同时开始下载第一个切片。\\n3. 客户端在下载过程中，根据切片列表发起并发请求下载其他切片，并逐渐拼接合并下载的数据。\\n4. 当所有切片都下载完成后，客户端将下载的数据合并为完整的文件。\\n\\n代码示例：\\n\\n```jsx\\nfunction downloadFile() {\\n  // 发起文件下载请求\\n  fetch('/download', {\\n    method: 'GET',\\n    headers: {\\n      'Content-Type': 'application/json',\\n    },\\n  })\\n    .then((response) => response.json())\\n    .then((data) => {\\n      const totalSize = data.totalSize;\\n      const totalChunks = data.totalChunks;\\n      let downloadedChunks = 0;\\n      let chunks = [];\\n      // 下载每个切片\\n      for (let chunkNumber = 0; chunkNumber < totalChunks; chunkNumber++) {\\n        fetch(`/download/${chunkNumber}`, {\\n          method: 'GET',\\n        })\\n          .then((response) => response.blob())\\n          .then((chunk) => {\\n            downloadedChunks++;\\n            chunks.push(chunk);\\n            // 当所有切片都下载完成时\\n            if (downloadedChunks === totalChunks) {\\n              // 合并切片\\n              const mergedBlob = new Blob(chunks);\\n              // 创建对象 URL，生成下载链接\\n              const downloadUrl = window.URL.createObjectURL(mergedBlob);\\n              // 创建 <a> 元素并设置属性\\n              const link = document.createElement('a');\\n              link.href = downloadUrl;\\n              link.setAttribute('download', 'file.txt');\\n              // 模拟点击下载\\n              link.click();\\n              // 释放资源\\n              window.URL.revokeObjectURL(downloadUrl);\\n            }\\n          });\\n      }\\n    })\\n    .catch((error) => {\\n      console.error('文件下载失败:', error);\\n    });\\n}\\n```\\n\\n我们看下代码，首先使用 BLOB 对象创建一共对象 URL，用于生成下载连接，然后创建 a 标签并且设置 href 的属性为刚刚创建的对象 URL,继续设置 a 标签的 download 属性是文件名，方便点击的时候自动下载文件。\\n\\n### 显示下载进度和完成状态\\n\\n为了显示下载进度和完成状态，可以在客户端实现以下功能：\\n显示进度条：客户端可以通过监听每个切片的下载进度来计算整体下载进度，并实时更新进度条的显示。\\n显示完成状态：当所有切片都下载完成后，客户端可以显示下载完成的状态，例如显示一个完成的图标或者文本。\\n\\n这里我们可以继续接着切片上传代码示例里的继续写。\\n代码示例：\\n\\n```jsx\\n\\n// 处理文件下载事件\\nfunction handleFileDownload() {\\n  axios.get('/download', {\\n    responseType: 'blob',\\n    onDownloadProgress: progressEvent => {\\n      const progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);\\n      setProgress(progress);\\n    }\\n  })\\n    .then(response => {\\n      // 创建一个临时的URL对象用于下载\\n      const url = window.URL.createObjectURL(new Blob([response.data]));\\n      const link = document.createElement('a');\\n      link.href = url;\\n      link.setAttribute('download', 'file.txt');\\n      document.body.appendChild(link);\\n      link.click();\\n      document.body.removeChild(link);\\n    })\\n    .catch(error => {\\n      console.error('文件下载失败:', error);\\n    });\\n}\\n\\n\\n<button onClick={handleFileDownload}>下载文件</button>\\n  <div>进度：{progress}%</div>\\n```\\n\\n1. 当用户点击下载按钮时，通过 handleFileDownload 函数处理文件下载事件。\\n2. 在 handleFileDownload 函数中，使用 axios 库发起文件下载请求，并设置 responseType: 'blob' 表示返回二进制数据。\\n3. 通过监听 onDownloadProgress 属性获取下载进度，并更新进度条的显示。\\n4. 下载完成后，创建一个临时的 URL 对象用于下载，并通过动态创建 <a> 元素模拟点击下载。\\n\\n## 三、大文件上传的问题与解决方案\\n\\n### 传统的文件上传方式存在的问题\\n\\n1. 大文件上传耗时长，容易导致请求超时。\\n2. 占用服务器和网络带宽资源，可能影响其他用户的访问速度。\\n3. 如果上传中断，需要重新上传整个文件，效率低下。\\n4. 难以实现上传进度的显示和控制。\\n\\n### 前端文件切片上传的优势\\n\\n1. 将大文件分割为更小的文件切片，分多次上传，提高上传效率和稳定性。\\n2. 提供上传进度的监控和展示，提高用户体验。\\n3. 充分利用浏览器的并发上传能力，减轻服务器负担。\\n4. 实现断点续传功能，避免重复上传已上传的部分。\\n\\n### 实现前端切片上传的方法\\n\\n1. 使用 JavaScript 的 `File API` 获取文件对象，并使用 `Blob.prototype.slice()` 方法将文件切割为多个切片。\\n2. 使用 FormData 对象将切片数据通过 AJAX 或 Fetch API 发送到服务器。\\n3. 在后端服务器上接收切片并保存到临时存储中，等待后续合并。\\n4. 在客户端通过监听上传进度事件，在进度条或提示中展示上传进度。\\n\\n代码示例：\\n\\n```jsx\\n\\nconst [file, setFile] = useState(null);  //用来存放我本地上传的文件\\nconst chunkSize = 1024 * 1024; // 1MB 切片大小\\nconst upload = () => {\\n  if (!file) {\\n    alert(\\\"请选择要上传的文件！\\\");\\n    return;\\n  }\\n  const chunkSize = 1024 * 1024; // 1MB\\n  let start = 0;\\n  let end = Math.min(chunkSize, file.size);\\n  while (start < file.size) {\\n    const chunk = file.slice(start, end);\\n\\n    // 创建FormData对象\\n    const formData = new FormData();\\n    formData.append('file', chunk);\\n    // 发送切片到服务器\\n    fetch('上传接口xxxx', {\\n      method: 'POST',\\n      body: formData\\n    })\\n      .then(response => response.json())\\n      .then(data => {\\n        console.log(data);\\n        // 处理响应结果\\n      })\\n      .catch(error => {\\n        console.error(error);\\n        // 处理错误\\n      });\\n    start = end;\\n    end = Math.min(start + chunkSize, file.size);\\n  }\\n};\\n\\nreturn (\\n  <div>\\n  <input type=\\\"file\\\" onChange={handleFileChange} />\\n  <button onClick={upload}>上传</button>\\n  </div>\\n);\\n```\\n\\n在上面的代码中，创建了一个名为 Upload 的函数组件。它使用了 React 的 useState 钩子来管理选中的文件。通过 onChange 事件监听文件输入框的变化，并在 handleFileChange 函数中获取选择的文件，并更新 file 状态。\\n\\n点击`上传`按钮时，调用 upload 函数。它与之前的示例代码类似，将文件切割为多个大小相等的切片，并使用 FormData 对象和 fetch 函数发送切片数据到服务器。\\n\\n### 实现断点续传的技术：记录和恢复上传状态\\n\\n在前端，可以使用 localStorage 或 sessionStorage 来存储已上传的切片信息，包括已上传的切片索引、切片大小等。每次上传前，先检查本地存储中是否存在已上传的切片信息，若存在，则从断点处继续上传。在后端，可以使用一个临时文件夹或数据库来记录已接收到的切片信息，包括已上传的切片索引、切片大小等。在上传完成前，保存上传状态，以便在上传中断后能够恢复上传进度。\\n\\n```jsx\\nimport React, { useEffect, useRef, useState } from 'react';\\n\\nfunction Upload() {\\n  const [file, setFile] = useState(null);\\n  const [uploadedChunks, setUploadedChunks] = useState([]);\\n  const [uploading, setUploading] = useState(false);\\n  const uploadRequestRef = useRef();\\n  const handleFileChange = (event) => {\\n    const selectedFile = event.target.files[0];\\n    setFile(selectedFile);\\n  };\\n  const uploadChunk = (chunk) => {\\n    // 创建FormData对象\\n    const formData = new FormData();\\n    formData.append('file', chunk);\\n    // 发送切片到服务器\\n    return fetch('your-upload-url', {\\n      method: 'POST',\\n      body: formData,\\n    })\\n      .then((response) => response.json())\\n      .then((data) => {\\n        console.log(data);\\n        // 处理响应结果\\n        return data;\\n      });\\n  };\\n  const upload = async () => {\\n    if (!file) {\\n      alert('请选择要上传的文件！');\\n      return;\\n    }\\n    const chunkSize = 1024 * 1024; // 1MB\\n    const totalChunks = Math.ceil(file.size / chunkSize);\\n    let start = 0;\\n    let end = Math.min(chunkSize, file.size);\\n    setUploading(true);\\n    for (let i = 0; i < totalChunks; i++) {\\n      const chunk = file.slice(start, end);\\n      const uploadedChunkIndex = uploadedChunks.indexOf(i);\\n      if (uploadedChunkIndex === -1) {\\n        try {\\n          const response = await uploadChunk(chunk);\\n          setUploadedChunks((prevChunks) => [...prevChunks, i]);\\n          // 保存已上传的切片信息到本地存储\\n          localStorage.setItem('uploadedChunks', JSON.stringify(uploadedChunks));\\n        } catch (error) {\\n          console.error(error);\\n          // 处理错误\\n        }\\n      }\\n      start = end;\\n      end = Math.min(start + chunkSize, file.size);\\n    }\\n    setUploading(false);\\n    // 上传完毕，清除本地存储的切片信息\\n    localStorage.removeItem('uploadedChunks');\\n  };\\n  useEffect(() => {\\n    const storedUploadedChunks = localStorage.getItem('uploadedChunks');\\n    if (storedUploadedChunks) {\\n      setUploadedChunks(JSON.parse(storedUploadedChunks));\\n    }\\n  }, []);\\n  return (\\n    <div>\\n      <input type=\\\"file\\\" onChange={handleFileChange} />\\n      <button onClick={upload} disabled={uploading}>\\n        {uploading ? '上传中...' : '上传'}\\n      </button>\\n    </div>\\n  );\\n}\\n```\\n\\n首先，使用 useState 钩子创建了一个 uploadedChunks 状态来保存已上传的切片索引数组。初始值为空数组。\\n然后，我们使用 useRef 钩子创建了一个 uploadRequestRef 引用，用于存储当前的上传请求。\\n在 handleFileChange 函数中，我们更新了 file 状态以选择要上传的文件。\\n在 uploadChunk 函数中，我们发送切片到服务器，并返回一个 Promise 对象来处理响应结果。\\n在 upload 函数中，我们添加了断点续传的逻辑。首先，我们获取切片的总数，并设置 uploading 状态为 true 来禁用上传按钮。\\n然后，我们使用 for 循环遍历所有切片。对于每个切片，我们检查 uploadedChunks 数组中是否已经包含该索引，如果不包含，则进行上传操作。\\n在上传切片之后，我们将已上传的切片索引添加到 uploadedChunks 数组，并使用 localStorage 保存已上传的切片信息。\\n最后，在上传完毕后，我们将 uploading 状态设为 false，并清除本地存储的切片信息。\\n\\n在实现大文件上传时要考虑服务器端的处理能力和存储空间，以及安全性问题。同时，为了保障断点续传的准确性，应该尽量避免并发上传相同文件的情况，可以采用文件唯一标识符或用户会话标识符进行区分。\\n\\n## 四、优化用户体验：切片下载与上传的应用场景\\n\\n### 后台管理系统中的文件下载和上传\\n\\n文件下载：在后台管理系统中，用户可能需要下载大型文件，如报表、日志文件、数据库备份等。通过将文件切片下载，可以提高下载速度和稳定性，同时允许用户中断下载并从中断处继续下载。\\n\\n文件上传：后台管理系统中，用户可能需要上传大型文件，如数据导入、文件备份等。使用切片上传可以提高上传效率，分批上传文件切片，并显示上传进度，使用户能够了解上传的状态。\\n\\n### 图片/视频上传和预览\\n\\n图片上传和预览：在图片上传场景中，用户可以选择多张图片进行上传。通过切片上传，可以加快图片上传速度，并实时显示上传进度。同时，在上传完成后，可以提供预览功能，让用户可以立即查看上传的图片。\\n\\n视频上传和预览：对于较大的视频文件，切片上传可以确保上传过程可靠且高效。同时，可以实现上传进度的实时展示。上传完成后，通过切片下载技术，用户可以流畅地观看视频，无需等待整个文件下载完成。\\n\\n### 云存储和云盘应用中的文件操作\\n\\n文件分块上传：云存储和云盘应用通常需要处理大量文件的上传。通过切片上传可以提高上传速度和稳定性，并允许用户中断并继续上传。\\n文件分块下载：当用户需要下载云存储或云盘中的大型文件时，可以使用切片下载技术，加快下载速度并提供中断恢复功能。\\n文件预览和在线编辑：通过将文件切片并进行预览，在线编辑，可以提供更好的用户体验。用户可以在不需完全下载文件的情况下，直接预览和编辑文件。\\n\",\"wordCount\":3701},{\"id\":\"2006848944\",\"title\":\"样式隔离方案汇总\",\"date\":\"2021-11-25\",\"tags\":[\"css\",\"工程化\"],\"fileName\":\"样式隔离方案汇总.md\",\"content\":\"\\n## 背景\\n\\n最近写了一个 webpack loader 来做项目中的样式隔离，方案是通过类名前缀进行隔离，因此想研究下前端中一共有哪些样式隔离的方案。\\n\\n## 方案\\n\\n### 一、CSS Module\\n\\n```jsx\\n// 文件名：Button.module.css\\n.button {\\n  color: red;\\n}\\n\\n// 使用方式\\nimport styles from './Button.module.css';\\n\\nfunction Button() {\\n  return <button className={styles.button}>Click me</button>;\\n}\\n```\\n\\n优点：\\n\\n- 自动生成唯一的类名\\n- 不需要特殊的配置\\n- 局部作用域\\n\\n缺点：\\n\\n- 需要使用特定的文件命名方式\\n- 动态类名处理相对麻烦\\n\\n### 二、CSS-in-JS\\n\\n```jsx\\n// styled-components 示例\\nimport styled from 'styled-components';\\n\\nconst StyledButton = styled.button`\\n  color: ${(props) => (props.primary ? 'blue' : 'red')};\\n  padding: 10px;\\n`;\\n\\nfunction Button() {\\n  return <StyledButton primary>Click me</StyledButton>;\\n}\\n```\\n\\n优点：\\n\\n- 完全的样式隔离\\n- 支持动态样式\\n- 支持主题\\n\\n缺点：\\n运行时开销\\n需要额外的库\\n调试相对困难\\n\\n### 三、BEM 命名规范\\n\\nBEM (Block Element Modifier) 是一种 CSS 命名规范，它通过一种特定的命名方式来创建可重用的组件。\\n\\n它的三个核心概念：\\n\\n1. Block（块）：独立的组件，可以被重用\\n\\n```css\\n.card {\\n}\\n.header {\\n}\\n.menu {\\n}\\n```\\n\\n2. Element（元素）：块的组成部分，使用双下划线 \\\\_\\\\_ 连接\\n\\n```css\\n.card__title {\\n}\\n.card__image {\\n}\\n.menu__item {\\n}\\n```\\n\\n3. Modifier（修饰符）：改变块或元素的外观或状态，使用双连字符 -- 连接\\n\\n```css\\n.card--featured {\\n}\\n.menu__item--active {\\n}\\n.button--disabled {\\n}\\n```\\n\\n实际例子：\\n\\n```css\\n.block__element--modifier {\\n  color: red;\\n}\\n\\n.button__icon--large {\\n  font-size: 20px;\\n}\\n```\\n\\n优点：\\n\\n- 无需工具支持\\n- 易于理解和维护\\n\\n缺点：\\n\\n- 类名较长\\n- 需要团队严格遵守规范\\n\\n### 四、Shadow DOM\\n\\n```js\\nclass CustomButton extends HTMLElement {\\n  constructor() {\\n    super();\\n    const shadow = this.attachShadow({ mode: 'closed' });\\n\\n    const button = document.createElement('button');\\n    const style = document.createElement('style');\\n\\n    style.textContent = `\\n      button {\\n        color: red;\\n      }\\n    `;\\n\\n    shadow.appendChild(style);\\n    shadow.appendChild(button);\\n  }\\n}\\n\\ncustomElements.define('custom-button', CustomButton);\\n```\\n\\n优点：\\n\\n- 完全隔离\\n- 原生支持\\n\\n缺点：\\n\\n- 兼容性问题\\n- 使用相对复杂\\n\\n### 五、CSS Scoped\\n\\n```vue\\n<template>\\n  <div class=\\\"button\\\">Click me</div>\\n</template>\\n\\n<style scoped>\\n.button {\\n  color: red;\\n}\\n</style>\\n```\\n\\n优点：\\n\\n- Vue 原生支持\\n- 使用简单\\n\\n缺点：\\n\\n- 仅限于 Vue\\n- 性能略差\\n\\n### 六、CSS-in-JS 工具（如 Emotion）\\n\\n```js\\n/** @jsx jsx */\\nimport { css, jsx } from '@emotion/core';\\n\\nconst buttonStyle = css`\\n  color: red;\\n  padding: 10px;\\n`;\\n\\nfunction Button() {\\n  return <button css={buttonStyle}>Click me</button>;\\n}\\n```\\n\\n优点：\\n\\n- 强大的动态样式能力\\n- 良好的开发体验\\n\\n缺点：\\n\\n- 需要额外的库\\n- 构建配置较复杂\\n\\n### 七、CSS Scope Loader（自定义前缀）\\n\\n```js\\n// webpack 配置\\n{\\n  loader: 'css-loader',\\n  options: {\\n    modules: {\\n      localIdentName: '[name]__[local]--[hash:base64:5]'\\n    }\\n  }\\n}\\n```\\n\\n优点：\\n\\n- 可自定义程度高\\n- 适用于任何项目\\n\\n缺点：\\n\\n- 需要配置 loader\\n- 可能影响构建性能\\n\\n### 八、CSS Namespace\\n\\n```css\\n/* 通过命名空间隔离 */\\n.app-button {\\n  color: red;\\n}\\n\\n.app-button__icon {\\n  size: 16px;\\n}\\n```\\n\\n优点：\\n\\n- 简单直接\\n- 无需工具支持\\n\\n缺点：\\n\\n- 可能出现命名冲突\\n- 需要手动维护\\n\\n### 九、原子化 CSS（如 Tailwind）\\n\\n```html\\n<button class=\\\"rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700\\\">Click me</button>\\n```\\n\\n优点：\\n\\n- 天然隔离\\n- 复用性强\\n\\n缺点：\\n\\n- 类名较多\\n- 学习成本高\\n\\n## 选择建议\\n\\n小型项目：\\n\\n- BEM 命名规范\\n- CSS Modules\\n\\n中型项目：\\n\\n- CSS Modules\\n- CSS-in-JS\\n- Scoped CSS (Vue)\\n\\n大型项目：\\n\\n- CSS-in-JS\\n- 原子化 CSS\\n- 自定义 CSS Loader\\n\\n组件库：\\n\\n- CSS-in-JS\\n- Shadow DOM\\n- CSS Scope Loader\\n\\n具体选择要根据：\\n\\n- 项目规模\\n- 团队熟悉度\\n- 性能要求\\n- 维护成本\\n- 浏览器兼容性要求\\n\",\"wordCount\":561},{\"id\":\"405088847\",\"title\":\"从零开发一个 webpack loader\",\"date\":\"2021-11-18\",\"tags\":[\"webpack\",\"工程化\"],\"fileName\":\"从零开发一个 webpack loader.md\",\"content\":\"\\n## 背景\\n\\n由于近一段时间业务中开始需要经常开发、贡献物料组件，但是物料项目中对于样式隔离的方案不是那么的自动化，需要开发人员自己手动给每一个类名加上唯一且稳定的前缀（类似于作用域，进行样式隔离，防止业务中用到多个物料组件时有类名冲突的问题），这就使得开发体验不是很好。因此我打算给物料项目提供一个 webpack loader，来解决需要开发人员手动给样式添加类名前缀的问题。\\n\\n## 需求调研\\n\\n根据项目中的对于类名前缀的使用情况进行调研，发现为以下情形：\\n\\n**_一、每个 React 组件使用 className 时，必须通过一个设置前缀的函数对类名附加上前缀_**\\n\\n代码示例：\\n\\ngetScopedClassName 的定义:\\n\\n```ts\\nfunction getScopedClassName(className: string) {\\n  return className ? `${PREFIX_CLASSNAME}${className}` : '';\\n}\\n```\\n\\n组件使用 getScopedClassName：\\n\\n```jsx\\n<div className={getScopedClassName('f-table')}>...</div>\\n```\\n\\n**_二、less 文件（项目中用的样式是 less）中对应也需要加上前缀变量_**\\n\\n举个🌰：\\n\\n```less\\n.@{PREFIX_CLASSNAME}f-table {\\n  font-weight: bold;\\n  line-height: 40px;\\n  margin: 0 auto;\\n}\\n```\\n\\n## 方案设计\\n\\n针对于调研中的使用情况，我们不难设计：\\n\\n- 由于整体涉及到的是对代码文件内容的改动，因此 loader 比 plugin 更合适\\n- 类名前缀通过使用 loader 时传递参数传给 loader 里，供其内部处理\\n- loader 内部需要处理以下任务：\\n  - 把 tsx/jsx 文件里组件使用到的 className 属性值加上前缀\\n  - 把 css 文件里的类名添加上前缀（less 经过转译也会变为 css，因此只处理 css 即可）\\n\\n## 代码实现\\n\\n### 主入口文件（index.ts）\\n\\n主要用于对接受到文件内容进行分发处理，代码如下：\\n\\n```ts\\nimport type { LoaderContext } from 'webpack';\\n\\nimport processCSS from './processCSS';\\nimport processJS from './processJS';\\n\\ninterface CSSScopeLoaderOptions {\\n  scope?: string;\\n}\\n\\nfunction cssScopeLoader(this: LoaderContext<CSSScopeLoaderOptions>, source: string): string {\\n  // 告诉 webpack 这个 loader 的输出是否可以被缓存\\n  this.cacheable && this.cacheable();\\n\\n  // 获取配置的 scope 参数值\\n  const options = this.getOptions();\\n  const scope = options.scope || 'your-scope';\\n  const resourcePath = this.resourcePath.toLowerCase();\\n\\n  try {\\n    if (/\\\\.(jsx|tsx)$/.test(resourcePath)) {\\n      return processJS(source, scope);\\n    } else if (/\\\\.css$/.test(resourcePath)) {\\n      return processCSS(source, scope);\\n    }\\n    return source;\\n  } catch (error) {\\n    const errorMessage = error instanceof Error ? error.message : 'Unknown error';\\n    this.emitError(new Error(`类名前缀处理错误: ${errorMessage}`));\\n    return source;\\n  }\\n}\\n\\n// 声明 loader 的 raw 属性\\n// 文本文件处理用 raw = false\\n// 二进制文件处理用 raw = true\\ncssScopeLoader.raw = false;\\n\\nexport default cssScopeLoader;\\n```\\n\\n### processJS 文件（处理 jsx、tsx）\\n\\n```ts\\nimport generate from '@babel/generator';\\nimport { parse as babelParse } from '@babel/parser';\\nimport traverse from '@babel/traverse';\\nimport * as t from '@babel/types';\\n\\n/**\\n * 处理 className 字符串\\n */\\nexport function addScopeToClassName(classNames: string, scope: string): string {\\n  return classNames\\n    .split(/\\\\s+/)\\n    .map((className) => (className ? `${scope}${className}` : className))\\n    .join(' ');\\n}\\n\\n/**\\n * 处理 JSX/TSX 中的 className 属性，保持原始代码格式不变\\n */\\nfunction processJS(content: string, scope: string): string {\\n  const ast = babelParse(content, {\\n    sourceType: 'module',\\n    plugins: ['jsx', 'typescript'],\\n    allowReturnOutsideFunction: true,\\n    createParenthesizedExpressions: true,\\n  });\\n\\n  // 处理字符串字面量中的类名\\n  const processStringLiteral = (node: t.StringLiteral) => {\\n    node.value = addScopeToClassName(node.value, scope);\\n  };\\n\\n  // 处理条件表达式中的类名\\n  const processConditionalExpression = (node: t.ConditionalExpression) => {\\n    if (t.isStringLiteral(node.consequent)) {\\n      processStringLiteral(node.consequent);\\n    }\\n    if (t.isStringLiteral(node.alternate)) {\\n      processStringLiteral(node.alternate);\\n    }\\n  };\\n\\n  traverse(ast, {\\n    JSXAttribute(path) {\\n      // 只处理 className 属性\\n      if (path.node.name.name !== 'className') {\\n        return;\\n      }\\n\\n      const value = path.node.value;\\n      if (!value) return;\\n\\n      // 处理字符串字面量\\n      if (t.isStringLiteral(value)) {\\n        processStringLiteral(value);\\n        return;\\n      }\\n\\n      // 处理表达式容器\\n      if (t.isJSXExpressionContainer(value)) {\\n        const expression = value.expression;\\n\\n        // 处理三元表达式\\n        if (t.isConditionalExpression(expression)) {\\n          processConditionalExpression(expression);\\n          return;\\n        }\\n\\n        // 处理模板字符串\\n        if (t.isTemplateLiteral(expression)) {\\n          // 处理模板字符串中的静态部分\\n          expression.quasis.forEach((quasi) => {\\n            if (quasi.value.raw.trim()) {\\n              quasi.value.raw = addScopeToClassName(quasi.value.raw, scope);\\n              quasi.value.cooked = addScopeToClassName(quasi.value.cooked || '', scope);\\n            }\\n          });\\n\\n          // 处理模板字符串中的表达式\\n          expression.expressions.forEach((expr) => {\\n            if (t.isConditionalExpression(expr)) {\\n              processConditionalExpression(expr);\\n            } else if (t.isLogicalExpression(expr)) {\\n              if (t.isStringLiteral(expr.right)) {\\n                processStringLiteral(expr.right);\\n              }\\n            } else if (t.isStringLiteral(expr)) {\\n              processStringLiteral(expr);\\n            }\\n          });\\n          return;\\n        }\\n\\n        // 处理逻辑表达式 (&&)\\n        if (t.isLogicalExpression(expression)) {\\n          if (t.isStringLiteral(expression.right)) {\\n            processStringLiteral(expression.right);\\n          }\\n          return;\\n        }\\n      }\\n    },\\n  });\\n\\n  return generate(ast).code;\\n}\\n\\nexport default processJS;\\n```\\n\\n### processCSS 文件（处理 css）\\n\\n```ts\\nimport { parse as cssParser, stringify as cssStringify } from 'css';\\n\\nimport type { CssAst, CssRule } from './types';\\n\\n/**\\n * 处理 CSS 规则\\n * @param rules CSS 规则数组\\n * @param scope 作用域\\n */\\nfunction processRules(rules: CssRule[], scope: string): void {\\n  rules.forEach((rule: CssRule) => {\\n    switch (rule.type) {\\n      case 'rule':\\n        // 处理普通规则\\n        if (rule.selectors) {\\n          rule.selectors = rule.selectors.map((selector: string) => {\\n            return selector.replace(/\\\\.([\\\\w-]+)/g, `.${scope}$1`);\\n          });\\n        }\\n        break;\\n\\n      case 'media':\\n      case 'supports':\\n      case 'document':\\n      case 'host':\\n      case 'layer':\\n        // 处理所有可能包含嵌套规则的 at-rules\\n        if (rule.rules) {\\n          processRules(rule.rules, scope);\\n        }\\n        break;\\n\\n      case 'keyframes':\\n        // 处理关键帧动画\\n        if (rule.keyframes) {\\n          processRules(rule.keyframes, scope);\\n        } else if (rule.rules) {\\n          // 某些 CSS 解析器可能将关键帧放在 rules 中\\n          processRules(rule.rules, scope);\\n        }\\n        break;\\n\\n      default:\\n        // 处理其他可能包含规则的节点\\n        if (rule.rules && Array.isArray(rule.rules)) {\\n          processRules(rule.rules, scope);\\n        }\\n        if (rule.keyframes && Array.isArray(rule.keyframes)) {\\n          processRules(rule.keyframes, scope);\\n        }\\n        break;\\n    }\\n  });\\n}\\n\\n/**\\n * 处理 CSS 内容\\n * @param content CSS 内容\\n * @param scope 作用域\\n * @returns 处理后的 CSS 内容\\n */\\nfunction processCSS(content: string, scope: string): string {\\n  try {\\n    // 确保输入内容不为空\\n    if (!content.trim()) {\\n      return '';\\n    }\\n\\n    // 如果是简单的空规则，直接处理\\n    if (content.match(/^\\\\.([\\\\w-]+)\\\\s*{\\\\s*}\\\\s*$/)) {\\n      return content.replace(/\\\\.([\\\\w-]+)/g, `.${scope}$1`);\\n    }\\n\\n    const ast = cssParser(content, {\\n      silent: false, // 不静默处理错误\\n    }) as CssAst;\\n\\n    // 确保 AST 和规则数组存在\\n    if (!ast || !ast.stylesheet || !Array.isArray(ast.stylesheet.rules)) {\\n      // 如果 AST 解析失败，尝试直接处理选择器\\n      return content.replace(/\\\\.([\\\\w-]+)/g, `.${scope}$1`);\\n    }\\n\\n    // 递归处理所有规则\\n    processRules(ast.stylesheet.rules, scope);\\n\\n    // 将 AST 转换回 CSS 代码\\n    const result = cssStringify(ast);\\n\\n    // 如果转换结果为空，尝试直接处理原始内容\\n    if (!result) {\\n      return content.replace(/\\\\.([\\\\w-]+)/g, `.${scope}$1`);\\n    }\\n\\n    return result;\\n  } catch (error) {\\n    // 发生错误时，尝试直接处理原始内容\\n    console.error('处理 CSS 内容时出错:', error);\\n    return content.replace(/\\\\.([\\\\w-]+)/g, `.${scope}$1`);\\n  }\\n}\\n\\nexport default processCSS;\\n```\\n\\n## 发布\\n\\n经过测试没问题后，需要将 loader 发布到 npm，有以下需要注意的点：\\n\\n1. 上传到 npm 的包需要在 package.json 中包含一些必要字段\\n\\n```js\\n{\\n  \\\"name\\\": \\\"css-scope-loader\\\",        // 包名，必须唯一\\n  \\\"version\\\": \\\"0.0.1\\\",                // 版本号，必须符合语义化版本\\n  \\\"description\\\": \\\"A webpack loader that adds scope to css in react projects\\\",  // 包描述\\n  \\\"main\\\": \\\"./dist/index.cjs\\\",        // 主入口文件\\n  \\\"author\\\": \\\"Percy Kuang\\\",           // 作者信息\\n  \\\"license\\\": \\\"MIT\\\"                   // 许可证\\n}\\n```\\n\\n2. 确保你已经登录 npm\\n\\n```bash\\nnpm login\\n```\\n\\n如果你还没有 npm 账号，需要先在 npm 官网 注册一个账号。\\n\\n3. 更新版本号\\n\\n在发布之前，建议更新版本号。遵循语义化版本（Semantic Versioning）：\\n\\n- 主版本号（Major）：当你做了不兼容的 API 修改\\n- 次版本号（Minor）：当你做了向下兼容的功能性新增\\n- 修订号（Patch）：当你做了向下兼容的问题修正\\n\\n你可以使用以下命令更新版本号：\\n\\n```bash\\nnpm version patch  # 0.0.1 -> 0.0.2\\n# 或\\nnpm version minor  # 0.0.1 -> 0.1.0\\n# 或\\nnpm version major  # 0.0.1 -> 1.0.0\\n```\\n\\n4. 构建项目\\n\\n确保你的代码已经构建完成：\\n\\n```bash\\nnpm run build\\n```\\n\\n5. 检查 .npmignore 或 files 字段\\n\\n确保正确配置了 files 字段，只包含 dist 目录\\n\\n6. 发布后进行验证\\n\\n发布完成后，可以：\\n\\n- 在 npm 官网上搜索包名\\n- 使用 npm view css-scope-loader 查看包信息\\n- 创建一个测试项目安装你的包：npm install css-scope-loader\\n\",\"wordCount\":705},{\"id\":\"802312278\",\"title\":\"class-transformer 实践\",\"date\":\"2020-12-14\",\"tags\":[\"typescript\",\"class-transformer\"],\"fileName\":\"class-transformer 实践.md\",\"content\":\"\\n## 为什么要使用这个库\\n\\n比如，我们在后台管理系统中要发布一篇文章，我们只需创建一个普通的平面对象，然后将所有填写的标题、内容等信息给到这个普通对象。但是，如果这个普通对象若是转为对应的类对象，则会出现以下问题：\\n\\n代码：\\n\\n```ts\\nimport { plainToClass } from 'class-transformer';\\nimport { validate } from 'class-validator';\\nimport Express from 'express';\\n\\nimport Article from './model/Article';\\nimport articleRoute from './routes/articleRoute';\\n\\nconst app = Express();\\n\\napp.use('/api/article', articleRoute);\\n\\n// 约束为平面对象\\nconst article: any = {};\\n\\narticle.title = '12345';\\narticle.content = '123';\\narticle.publishTime = new Date();\\n// 下面的属性是必须的，但是这里进行注释\\n// article.tagList = ['12']\\n\\n// 按理说，这里应该要输出缺失了tagList这个属性的信息\\nvalidate(article).then((errors) => {\\n  console.log(errors);\\n});\\n\\napp.listen(3000, () => console.log('服务已开启！'));\\n```\\n\\n运行结果（没有捕获到任何信息）：\\n\\n![1.png](https://free4.yunpng.top/2025/02/27/67bfb1b1c37a5.png)\\n\\n因此，我们需要对平面对象进行转换，才可结合 class-validator 对类属性信息进行约束。\\n\\n## 安装\\n\\n```ts\\nyarn add class-transformer\\n```\\n\\n## 使用\\n\\n```ts\\nimport { plainToClass } from 'class-transformer';\\nimport { validate } from 'class-validator';\\nimport Express from 'express';\\n\\nimport Article from './model/Article';\\nimport articleRoute from './routes/articleRoute';\\n\\nconst app = Express();\\n\\napp.use('/api/article', articleRoute);\\n\\n// 这是个平面对象\\nconst article: any = {};\\n\\narticle.title = '12345';\\narticle.content = '123';\\narticle.publishTime = new Date();\\n\\nconst newArticle = plainToClass(Article, article);\\n\\nvalidate(newArticle).then((errors) => {\\n  console.log(errors);\\n});\\n\\napp.listen(3000, () => console.log('服务已开启！'));\\n```\\n\\n运行结果:\\n\\n![2.png](https://free4.yunpng.top/2025/02/27/67bfb1b1ad296.png)\\n\\n## 没这么简单\\n\\n如果，一开始给平面对象赋值时的属性的类型就不对呢？\\n\\n如下代码：\\n\\n```ts\\n// 这是个平面对象\\nconst article: any = {};\\n\\n// 类约束是的类型是字符串，这里赋值数字\\narticle.title = 123;\\narticle.content = '123';\\narticle.publishTime = new Date();\\narticle.tagList = ['123'];\\n\\nconst newArticle = plainToClass(Article, article);\\n\\nconsole.log(newArticle.title, typeof newArticle.title);\\n\\nvalidate(newArticle).then((errors) => {\\n  console.log(errors);\\n});\\n```\\n\\n运行结果：\\n\\n![3.png](https://free4.yunpng.top/2025/02/27/67bfb1ec0579f.png)\\n\\n这里可以看出，虽然数据类型对于不上，但还是验证通过了。所以，我们需要使用 class-transform 提供给我们的运行时的类型验证。\\n\\n## 使用装饰器 @Type 进行运行时的类型约束\\n\\n1. 安装reflect-metadata\\n\\n```ts\\nyarn add reflect-metadata\\n```\\n\\n2. 在入口文件`index.ts`中全局导入\\n\\n```ts\\n// 最好在第一行导入，否则可能依旧会报错\\nimport 'reflect-metadata'\\nimport Express from 'express'\\nimport articleRoute from './routes/articleRoute'\\nimport Article from './model/Article'\\nimport { validate } from 'class-validator'\\nimport { plainToClass } from 'class-transformer'\\n...\\n```\\n\\n3. 对Article类进行运行时的类型约束\\n\\n```ts\\nimport { ArrayMinSize, IsDate, IsNotEmpty } from 'class-validator'\\nimport { Type } from 'class-transformer'\\n\\nclass Article {\\n\\n  @IsNotEmpty({ message: '文章标题不可以为空' })\\n  // 运行时的类型约束\\n  @Type(() => String)\\n  public title: string\\n\\n  @IsNotEmpty({ message: '文章标签不可以为空' })\\n  @ArrayMinSize(1, { message: '文章标签至少有一个' })\\n  // 文档建议如果是字符串的数组，使用字符串约束更好，因为js其实不存在数字数组，字符串数组等\\n  @Type(() => String)\\n  // 上面虽然解决了不是字符串的数组的问题，但是如果传进来的是一个字符串呢？这就太tm难了，所以再在编译时检查一下算了吧，运行时不管了\\n  @IsArray({ message: '文章标签必须是一个数组' })\\n  public tagList: string[]\\n\\n  @IsNotEmpty({ message: '发布日期不可以为空' })\\n  @IsDate()\\n  @Type(() => Date)\\n  public publishTime: Date\\n\\n  @IsNotEmpty({ message: '文章内容不可以为空' })\\n  @Type(() => String)\\n  public content: string\\n}\\n\\nexport default Article\\n```\\n\\n4. 运行结果\\n\\n![4.png](https://free4.yunpng.top/2025/02/27/67bfb1ec05754.png)\\n\\n可以看出，已经将数字类型的 title 转为了字符串类型，同时也通过了验证。\\n\",\"wordCount\":308},{\"id\":\"805863812\",\"title\":\"async 和 await 详解\",\"date\":\"2020-10-25\",\"tags\":[\"javascript\",\"es6\"],\"fileName\":\"async 和 await 详解.md\",\"content\":\"\\n## 基本概念\\n\\nasync/await 是 Promise 的语法糖，让异步代码看起来像同步代码。\\n\\n```js\\n// Promise 方式\\nfunction getData() {\\n  return fetch('https://api.example.com/data')\\n    .then(response => response.json())\\n    .then(data => console.log(data));\\n}\\n\\n// async/await 方式\\nasync function getData() {\\n  const response = await fetch('https://api.example.com/data');\\n  const data = await response.json();\\n  console.log(data);\\n}\\n```\\n\\n## async 函数\\n\\n```js\\n// async 函数总是返回 Promise\\nasync function example() {\\n  return 'hello';  // 自动包装成 Promise\\n}\\n\\n// 等价于\\nfunction example() {\\n  return Promise.resolve('hello');\\n}\\n\\n// 使用\\nexample().then(result => console.log(result)); // 'hello'\\n```\\n\\n## await 关键字\\n\\n```js\\nasync function example() {\\n  // await 等待 Promise 完成\\n  const result1 = await promise1;\\n  const result2 = await promise2;\\n  return result1 + result2;\\n}\\n\\n// await 可以等待任何值\\nconst str = await 'hello'; // 直接返回\\nconst num = await 123; // 直接返回\\nconst p = await Promise.resolve('world'); // 等待 Promise 完成\\n```\\n\\n## 错误处理\\n\\n```js\\n// 方式1：try/catch\\nasync function example() {\\n  try {\\n    const response = await fetch('https://api.example.com/data');\\n    const data = await response.json();\\n    return data;\\n  } catch (error) {\\n    console.error('Error:', error);\\n  }\\n}\\n\\n// 方式2：链式调用\\nasync function example() {\\n  const data = await fetch('https://api.example.com/data')\\n    .then(response => response.json())\\n    .catch(error => console.error(error));\\n  return data;\\n}\\n```\\n\\n## 并行执行\\n\\n```js\\n// 串行执行 - 较慢\\nasync function serial() {\\n  const result1 = await asyncOperation1();\\n  const result2 = await asyncOperation2();\\n  return [result1, result2];\\n}\\n\\n// 并行执行 - 较快\\nasync function parallel() {\\n  // Promise.all\\n  const [result1, result2] = await Promise.all([\\n    asyncOperation1(),\\n    asyncOperation2()\\n  ]);\\n  return [result1, result2];\\n\\n  // 或者\\n  const promise1 = asyncOperation1();  // 立即开始执行\\n  const promise2 = asyncOperation2();  // 立即开始执行\\n  const result1 = await promise1;      // 等待完成\\n  const result2 = await promise2;      // 等待完成\\n}\\n```\\n\\n## 实际应用场景\\n\\n```js\\n// 1. API 请求\\nasync function fetchUserData(userId) {\\n  try {\\n    const response = await fetch(`/api/users/${userId}`);\\n    const userData = await response.json();\\n    return userData;\\n  } catch (error) {\\n    console.error('Failed to fetch user:', error);\\n    throw error;\\n  }\\n}\\n\\n// 2. 多个依赖请求\\nasync function getUserWithPosts(userId) {\\n  // 并行请求用户信息和文章\\n  const [user, posts] = await Promise.all([fetchUser(userId), fetchUserPosts(userId)]);\\n\\n  return {\\n    ...user,\\n    posts,\\n  };\\n}\\n\\n// 3. 条件请求\\nasync function conditionalFetch(id) {\\n  const data = await fetchInitialData(id);\\n\\n  if (data.needsExtra) {\\n    const extraData = await fetchExtraData(id);\\n    return { ...data, ...extraData };\\n  }\\n\\n  return data;\\n}\\n```\\n\\n## 循环中的 async/await\\n\\n```js\\n// 串行处理\\nasync function processArray(array) {\\n  for (const item of array) {\\n    await processItem(item);  // 一个接一个处理\\n  }\\n}\\n\\n// 并行处理\\nasync function processArray(array) {\\n  const promises = array.map(item => processItem(item));\\n  await Promise.all(promises);  // 同时处理所有项\\n}\\n\\n// forEach 不能正确处理 async/await\\narray.forEach(async item => {  // 错误！不会等待\\n  await processItem(item);\\n});\\n```\\n\\n## 最佳实践\\n\\n```js\\n// 1. 总是使用 try/catch 处理错误\\nasync function example() {\\n  try {\\n    const result = await riskyOperation();\\n    return result;\\n  } catch (error) {\\n    // 处理错误\\n    console.error(error);\\n    // 可以选择重新抛出\\n    throw error;\\n  }\\n}\\n\\n// 2. 合理使用并行处理\\nasync function fetchAllData() {\\n  const [users, posts, comments] = await Promise.all([\\n    fetchUsers(),\\n    fetchPosts(),\\n    fetchComments()\\n  ]);\\n  return { users, posts, comments };\\n}\\n\\n// 3. 避免无谓的 await\\nasync function example() {\\n  const promise = fetchData();  // 立即开始\\n  // 做其他事情\\n  const result = await promise; // 需要结果时才等待\\n}\\n```\\n\\n## async/await 向 promise 转换示例\\n\\n### async 函数\\n\\n```js\\n// async 函数\\nasync function foo() {\\n  return 'hello';\\n}\\n\\n// 转换为 Promise\\nfunction foo() {\\n  return Promise.resolve('hello');\\n}\\n```\\n\\n### await 表达式\\n\\n```js\\n// async/await 版本\\nasync function example() {\\n  const result = await somePromise();\\n  return result + 1;\\n}\\n\\n// 转换为 Promise 版本\\nfunction example() {\\n  return new Promise((resolve, reject) => {\\n    somePromise()\\n      .then(result => {\\n        resolve(result + 1);\\n      })\\n      .catch(reject);\\n  });\\n}\\n```\\n\\n### 多个 await 表达式\\n\\n```js\\n// async/await 版本\\nasync function getData() {\\n  const data1 = await fetch('/api/data1');\\n  const data2 = await fetch('/api/data2');\\n  return data1 + data2;\\n}\\n\\n// 转换为 Promise 版本\\nfunction getData() {\\n  return new Promise((resolve, reject) => {\\n    fetch('/api/data1')\\n      .then(data1 => {\\n        return fetch('/api/data2')\\n          .then(data2 => {\\n            resolve(data1 + data2);\\n          });\\n      })\\n      .catch(reject);\\n  });\\n}\\n```\\n\\n### try/catch\\n\\n```js\\n// async/await 版本\\nasync function example() {\\n  try {\\n    const result = await riskyOperation();\\n    return result;\\n  } catch (error) {\\n    console.error(error);\\n    return 'default';\\n  }\\n}\\n\\n// 转换为 Promise 版本\\nfunction example() {\\n  return new Promise((resolve) => {\\n    riskyOperation()\\n      .then(result => {\\n        resolve(result);\\n      })\\n      .catch(error => {\\n        console.error(error);\\n        resolve('default');\\n      });\\n  });\\n}\\n```\\n\\n### 复杂流程控制\\n\\n```js\\n// async/await 版本\\nasync function processData() {\\n  const data = await fetchData();\\n  if (data.needsExtra) {\\n    const extra = await fetchExtra();\\n    return { ...data, ...extra };\\n  }\\n  return data;\\n}\\n\\n// 转换为 Promise 版本\\nfunction processData() {\\n  return new Promise((resolve, reject) => {\\n    fetchData()\\n      .then(data => {\\n        if (data.needsExtra) {\\n          return fetchExtra()\\n            .then(extra => {\\n              resolve({ ...data, ...extra });\\n            });\\n        }\\n        resolve(data);\\n      })\\n      .catch(reject);\\n  });\\n}\\n```\\n\\n### 循环\\n\\n```js\\n// async/await 版本\\nasync function processItems(items) {\\n  const results = [];\\n  for (const item of items) {\\n    const result = await processItem(item);\\n    results.push(result);\\n  }\\n  return results;\\n}\\n\\n// 转换为 Promise 版本\\nfunction processItems(items) {\\n  return new Promise((resolve, reject) => {\\n    const results = [];\\n    let promise = Promise.resolve();\\n\\n    items.forEach(item => {\\n      promise = promise\\n        .then(() => processItem(item))\\n        .then(result => {\\n          results.push(result);\\n        });\\n    });\\n\\n    promise\\n      .then(() => resolve(results))\\n      .catch(reject);\\n  });\\n}\\n```\\n\\n### 并行操作\\n\\n```js\\n// async/await 版本\\nasync function parallel() {\\n  const [result1, result2] = await Promise.all([\\n    asyncOp1(),\\n    asyncOp2()\\n  ]);\\n  return result1 + result2;\\n}\\n\\n// 转换为 Promise 版本\\nfunction parallel() {\\n  return Promise.all([asyncOp1(), asyncOp2()])\\n    .then(([result1, result2]) => {\\n      return result1 + result2;\\n    });\\n}\\n```\\n\\n**转换的核心原则：**\\n\\n- async 函数总是返回 Promise\\n- await 表达式转换为 .then() 调用\\n- 错误处理转换为 .catch()\\n- 保持执行顺序\\n- 维护变量作用域\\n\\n这种转换通常是由 JavaScript 引擎或转译器（如 Babel）自动完成的，我们不需要手动进行这种转换。理解这个转换过程有助于我们更好地理解 async/await 的工作原理。\\n\\n## 注意事项\\n\\n1. async 函数总是返回 Promise\\n2. await 只能在 async 函数内使用\\n3. 错误会沿着调用链传播\\n4. 注意区分串行和并行操作\\n5. 小心循环中的 async/await\\n\\nasync/await 是现代 JavaScript 中处理异步操作的最佳方式，它让异步代码更容易理解和维护。合理使用 async/await 可以大大提高代码的可读性和可维护性。\\n\",\"wordCount\":303},{\"id\":\"572155432\",\"title\":\"手写一个简易版的 Promise\",\"date\":\"2020-10-21\",\"tags\":[\"javascript\",\"es6\"],\"fileName\":\"手写一个简易版的 Promise.md\",\"content\":\"\\n## 前言\\n\\nPromise 是 JavaScript 中用于处理异步操作的对象，它代表了一个异步操作的最终完成（或失败）及其结果值。\\n\\n## 用法\\n\\n### 创建 Promise\\n\\n```js\\nconst promise = new Promise((resolve, reject) => {\\n  setTimeout(() => {\\n    resolve('成功');\\n  }, 1000);\\n});\\n```\\n\\n### 使用 Promise\\n\\n```js\\npromise.then((result) => {\\n  console.log(result);\\n});\\n```\\n\\n## 实现原理\\n\\n### 基础结构和构造函数\\n\\n```js\\nclass MyPromise {\\n  constructor(fn) {\\n    // Promise 状态\\n    this.status = 'pending';\\n    // 成功值\\n    this.value = null;\\n    // 失败原因\\n    this.reason = null;\\n    // 成功回调队列\\n    this.onFulfilledCallbacks = [];\\n    // 失败回调队列\\n    this.onRejectedCallbacks = [];\\n\\n    // resolve 处理函数\\n    const resolve = (value) => {\\n      if (this.status === 'pending') {\\n        this.status = 'fulfilled';\\n        this.value = value;\\n        this.onFulfilledCallbacks.forEach((callback) => callback(value));\\n      }\\n    };\\n\\n    // reject 处理函数\\n    const reject = (reason) => {\\n      if (this.status === 'pending') {\\n        this.status = 'rejected';\\n        this.reason = reason;\\n        this.onRejectedCallbacks.forEach((callback) => callback(reason));\\n      }\\n    };\\n\\n    // 执行传入的函数\\n    try {\\n      fn(resolve, reject);\\n    } catch (error) {\\n      reject(error);\\n    }\\n  }\\n}\\n```\\n\\n关键点：\\n\\n- 维护 Promise 的三种状态：pending、fulfilled、rejected\\n- 使用回调队列存储异步操作的回调函数\\n- 状态一旦改变就不可逆\\n\\n### then 方法实现\\n\\n```js\\nthen(onFulfilled, onRejected) {\\n  // 参数校验，确保是函数\\n  onFulfilled =\\n    typeof onFulfilled === \\\"function\\\" ? onFulfilled : (value) => value;\\n  onRejected =\\n    typeof onRejected === \\\"function\\\"\\n      ? onRejected\\n      : (reason) => {\\n          throw reason;\\n        };\\n  // 返回新的 Promise 以支持链式调用\\n  const promise2 = new MyPromise((resolve, reject) => {\\n    if (this.status === \\\"fulfilled\\\") {\\n      setTimeout(() => {\\n        try {\\n          const x = onFulfilled(this.value);\\n          resolvePromise(promise2, x, resolve, reject);\\n        } catch (error) {\\n          reject(error);\\n        }\\n      });\\n    }\\n    if (this.status === \\\"rejected\\\") {\\n      setTimeout(() => {\\n        try {\\n          const x = onRejected(this.reason);\\n          resolvePromise(promise2, x, resolve, reject);\\n        } catch (error) {\\n          reject(error);\\n        }\\n      });\\n    }\\n    if (this.status === \\\"pending\\\") {\\n      this.onFulfilledCallbacks.push(() => {\\n        setTimeout(() => {\\n          try {\\n            const x = onFulfilled(this.value);\\n            resolvePromise(promise2, x, resolve, reject);\\n          } catch (error) {\\n            reject(error);\\n          }\\n        });\\n      });\\n      this.onRejectedCallbacks.push(() => {\\n        setTimeout(() => {\\n          try {\\n            const x = onRejected(this.reason);\\n            resolvePromise(promise2, x, resolve, reject);\\n          } catch (error) {\\n            reject(error);\\n          }\\n        });\\n      });\\n    }\\n  });\\n  return promise2;\\n}\\n```\\n\\n关键点：\\n\\n- 支持链式调用\\n- 使用 setTimeout 确保异步执行\\n- 处理返回值的 Promise 状态\\n\\n### resolvePromise 方法实现\\n\\n```js\\nfunction resolvePromise(promise2, x, resolve, reject) {\\n  // 防止循环引用\\n  if (promise2 === x) {\\n    return reject(new TypeError('Chaining cycle detected for promise'));\\n  }\\n\\n  // 处理返回值为 Promise 的情况\\n  if (x instanceof MyPromise) {\\n    x.then((value) => {\\n      resolvePromise(promise2, value, resolve, reject);\\n    }).catch(reject);\\n  } else {\\n    // 普通值直接 resolve\\n    resolve(x);\\n  }\\n}\\n```\\n\\n关键点：\\n\\n- 处理循环引用问题\\n- 处理返回值为 Promise 的情况\\n- 递归解析 Promise\\n\\n### 静态方法实现\\n\\n```js\\n// 创建一个已完成的 Promise\\nstatic resolve(value) {\\n  return new MyPromise(resolve => resolve(value));\\n}\\n\\n// 创建一个已拒绝的 Promise\\nstatic reject(reason) {\\n  return new MyPromise((_, reject) => reject(reason));\\n}\\n\\n// 等待所有 Promise 完成\\nstatic all(promises) {\\n  return new MyPromise((resolve, reject) => {\\n    const results = [];\\n    promises.forEach((promise, index) => {\\n      MyPromise.resolve(promise)\\n        .then(value => {\\n          results[index] = value;\\n          if (results.length === promises.length) {\\n            resolve(results);\\n          }\\n        })\\n        .catch(reject);\\n    });\\n  });\\n}\\n\\n// 返回最先完成的 Promise\\nstatic race(promises) {\\n  return new MyPromise((resolve, reject) => {\\n    promises.forEach(promise => {\\n      MyPromise.resolve(promise)\\n        .then(resolve)\\n        .catch(reject);\\n    });\\n  });\\n}\\n\\n// 返回所有 Promise 的状态和结果\\nstatic allSettled(promises) {\\n  return new MyPromise((resolve) => {\\n    const results = [];\\n    promises.forEach((promise, index) => {\\n      MyPromise.resolve(promise)\\n        .then((value) => {\\n          results[index] = { status: \\\"fulfilled\\\", value };\\n          if (results.length === promises.length) {\\n            resolve(results);\\n          }\\n        })\\n        .catch((reason) => {\\n          results[index] = { status: \\\"rejected\\\", reason };\\n          if (results.length === promises.length) {\\n            resolve(results);\\n          }\\n        });\\n    });\\n  });\\n}\\n```\\n\\n### 辅助方法实现\\n\\n```js\\n// 错误处理\\ncatch(onRejected) {\\n  return this.then(null, onRejected);\\n}\\n\\n// 无论成功失败都会执行\\nfinally(callback) {\\n  return this.then(callback, callback);\\n}\\n```\\n\\n## 完整代码\\n\\n```js\\n// 手写简版 promise\\nclass MyPromise {\\n  constructor(fn) {\\n    this.status = 'pending';\\n    this.value = null;\\n    this.reason = null;\\n    this.onFulfilledCallbacks = [];\\n    this.onRejectedCallbacks = [];\\n    const resolve = (value) => {\\n      if (this.status === 'pending') {\\n        this.status = 'fulfilled';\\n        this.value = value;\\n        this.onFulfilledCallbacks.forEach((callback) => callback(value));\\n      }\\n    };\\n    const reject = (reason) => {\\n      if (this.status === 'pending') {\\n        this.status = 'rejected';\\n        this.reason = reason;\\n        this.onRejectedCallbacks.forEach((callback) => callback(reason));\\n      }\\n    };\\n    try {\\n      fn(resolve, reject);\\n    } catch (error) {\\n      reject(error);\\n    }\\n  }\\n  then(onFulfilled, onRejected) {\\n    onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : (value) => value;\\n    onRejected =\\n      typeof onRejected === 'function'\\n        ? onRejected\\n        : (reason) => {\\n            throw reason;\\n          };\\n    const promise2 = new MyPromise((resolve, reject) => {\\n      if (this.status === 'fulfilled') {\\n        setTimeout(() => {\\n          try {\\n            const x = onFulfilled(this.value);\\n            resolvePromise(promise2, x, resolve, reject);\\n          } catch (error) {\\n            reject(error);\\n          }\\n        });\\n      }\\n      if (this.status === 'rejected') {\\n        setTimeout(() => {\\n          try {\\n            const x = onRejected(this.reason);\\n            resolvePromise(promise2, x, resolve, reject);\\n          } catch (error) {\\n            reject(error);\\n          }\\n        });\\n      }\\n      if (this.status === 'pending') {\\n        this.onFulfilledCallbacks.push(() => {\\n          setTimeout(() => {\\n            try {\\n              const x = onFulfilled(this.value);\\n              resolvePromise(promise2, x, resolve, reject);\\n            } catch (error) {\\n              reject(error);\\n            }\\n          });\\n        });\\n        this.onRejectedCallbacks.push(() => {\\n          setTimeout(() => {\\n            try {\\n              const x = onRejected(this.reason);\\n              resolvePromise(promise2, x, resolve, reject);\\n            } catch (error) {\\n              reject(error);\\n            }\\n          });\\n        });\\n      }\\n    });\\n    return promise2;\\n  }\\n  catch(onRejected) {\\n    return this.then(null, onRejected);\\n  }\\n  finally(callback) {\\n    return this.then(callback, callback);\\n  }\\n  static resolve(value) {\\n    return new MyPromise((resolve) => resolve(value));\\n  }\\n  static reject(reason) {\\n    return new MyPromise((_, reject) => reject(reason));\\n  }\\n  static all(promises) {\\n    return new MyPromise((resolve, reject) => {\\n      const results = [];\\n      promises.forEach((promise, index) => {\\n        MyPromise.resolve(promise)\\n          .then((value) => {\\n            results[index] = value;\\n            if (results.length === promises.length) {\\n              resolve(results);\\n            }\\n          })\\n          .catch(reject);\\n      });\\n    });\\n  }\\n  static race(promises) {\\n    return new MyPromise((resolve, reject) => {\\n      promises.forEach((promise) => {\\n        MyPromise.resolve(promise).then(resolve).catch(reject);\\n      });\\n    });\\n  }\\n  static allSettled(promises) {\\n    return new MyPromise((resolve) => {\\n      const results = [];\\n      promises.forEach((promise, index) => {\\n        MyPromise.resolve(promise)\\n          .then((value) => {\\n            results[index] = { status: 'fulfilled', value };\\n            if (results.length === promises.length) {\\n              resolve(results);\\n            }\\n          })\\n          .catch((reason) => {\\n            results[index] = { status: 'rejected', reason };\\n            if (results.length === promises.length) {\\n              resolve(results);\\n            }\\n          });\\n      });\\n    });\\n  }\\n}\\n\\nfunction resolvePromise(promise2, x, resolve, reject) {\\n  if (promise2 === x) {\\n    return reject(new TypeError('Chaining cycle detected for promise'));\\n  }\\n  if (x instanceof MyPromise) {\\n    x.then((value) => {\\n      resolvePromise(promise2, value, resolve, reject);\\n    }).catch(reject);\\n  } else {\\n    resolve(x);\\n  }\\n}\\n```\\n\\n## 总结\\n\\n这个实现涵盖了 Promise 的主要特性：\\n\\n- Promise 状态管理\\n- 异步操作处理\\n- 链式调用\\n- 错误处理\\n- 常用静态方法\\n\\n需要注意的是，这是一个简化版的实现，完整的 Promise/A+ 规范还包括更多的边界情况处理。但这个实现已经可以满足大多数使用场景。\\n\",\"wordCount\":274},{\"id\":\"71788929\",\"title\":\"Promise 指南\",\"date\":\"2020-10-15\",\"tags\":[\"javascript\",\"es6\"],\"fileName\":\"Promise 指南.md\",\"content\":\"\\n## Promise 是什么\\n\\nPromise 是 JavaScript 中用于处理异步操作的对象，它代表了一个异步操作的最终完成（或失败）及其结果值。\\n\\n## Promise 的状态\\n\\nPromise 有三种状态：\\n\\n```js\\n// 1. pending（进行中）\\nconst promise = new Promise((resolve, reject) => {\\n  // 异步操作尚未完成\\n});\\n\\n// 2. fulfilled（已成功）\\nconst promise = new Promise((resolve, reject) => {\\n  resolve('success');\\n});\\n\\n// 3. rejected（已失败）\\nconst promise = new Promise((resolve, reject) => {\\n  reject('error');\\n});\\n```\\n\\n特点：\\n\\n- 状态只能从 pending 转为 fulfilled 或 rejected\\n- 状态一旦改变，就不会再变\\n\\n## Promise 的基本用法\\n\\n```js\\n// 创建 Promise\\nconst promise = new Promise((resolve, reject) => {\\n  // 异步操作\\n  setTimeout(() => {\\n    if (/* 操作成功 */) {\\n      resolve('success');\\n    } else {\\n      reject('error');\\n    }\\n  }, 1000);\\n});\\n\\n// 使用 Promise\\npromise\\n  .then(result => {\\n    console.log(result); // 处理成功\\n  })\\n  .catch(error => {\\n    console.log(error);  // 处理失败\\n  })\\n  .finally(() => {\\n    console.log('完成'); // 无论成功失败\\n  });\\n```\\n\\n## Promise 的链式调用\\n\\n```js\\n// 链式调用示例\\nnew Promise((resolve, reject) => {\\n  resolve(1);\\n})\\n  .then((value) => {\\n    return value + 1; // 2\\n  })\\n  .then((value) => {\\n    return value * 2; // 4\\n  })\\n  .then((value) => {\\n    console.log(value); // 4\\n  });\\n```\\n\\n## Promise 的静态方法\\n\\n```js\\n// Promise.resolve\\nPromise.resolve('success').then((value) => {\\n  console.log(value); // 'success'\\n});\\n\\n// Promise.reject\\nPromise.reject('error').catch((error) => {\\n  console.log(error); // 'error'\\n});\\n\\n// Promise.all - 所有Promise都成功才成功\\nPromise.all([promise1, promise2, promise3]).then((results) => {\\n  console.log(results); // [result1, result2, result3]\\n});\\n\\n// Promise.race - 返回最快的Promise结果\\nPromise.race([promise1, promise2]).then((result) => {\\n  console.log('最快完成的结果:', result);\\n});\\n\\n// Promise.allSettled - 等待所有Promise完成\\nPromise.allSettled([promise1, promise2]).then((results) => {\\n  // 返回所有Promise的结果，包括成功和失败\\n});\\n```\\n\\n## 错误处理\\n\\n```js\\n// 方式1：使用 catch\\npromise\\n  .then((result) => {})\\n  .catch((error) => {\\n    console.log('捕获错误:', error);\\n  });\\n\\n// 方式2：then 的第二个参数\\npromise.then(\\n  (result) => {},\\n  (error) => {\\n    console.log('捕获错误:', error);\\n  }\\n);\\n```\\n\\n## Promise 的优势\\n\\n1. 解决回调地狱\\n\\n```js\\n// 回调地狱\\nasyncFunc1(function (result1) {\\n  asyncFunc2(result1, function (result2) {\\n    asyncFunc3(result2, function (result3) {\\n      console.log(result3);\\n    });\\n  });\\n});\\n\\n// Promise 方式\\nasyncFunc1()\\n  .then((result1) => asyncFunc2(result1))\\n  .then((result2) => asyncFunc3(result2))\\n  .then((result3) => console.log(result3));\\n```\\n\\n2. 更好的错误处理\\n3. 链式调用更清晰\\n4. 支持并行操作\\n\\n## 实际应用场景\\n\\n```js\\n// 1. 网络请求\\nfetch('https://api.example.com/data')\\n  .then((response) => response.json())\\n  .then((data) => console.log(data));\\n\\n// 2. 文件操作\\nreadFile('file.txt')\\n  .then((content) => writeFile('new.txt', content))\\n  .then(() => console.log('完成'));\\n\\n// 3. 延时操作\\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\\ndelay(1000).then(() => console.log('1秒后执行'));\\n```\\n\\n## 注意事项\\n\\n1. Promise 一旦创建就会执行\\n2. then 方法返回新的 Promise\\n3. 错误会沿着链式调用传递\\n4. Promise 状态一旦改变就不可逆\\n5. finally 不接收参数\\n\\n## 最佳实践\\n\\n```js\\n// 1. 始终使用 catch 处理错误\\n// 2. 合理使用 Promise.all 和 Promise.race\\n// 3. 避免嵌套 Promise\\n// 4. 使用 async/await 让代码更简洁\\nasync function example() {\\n  try {\\n    const result = await somePromise();\\n    return result;\\n  } catch (error) {\\n    console.error(error);\\n  }\\n}\\n```\\n\",\"wordCount\":187},{\"id\":\"688339781\",\"title\":\"Set、Map 和 WeakMap 全解\",\"date\":\"2020-09-27\",\"tags\":[\"javascript\",\"es6\"],\"fileName\":\"Set、Map 和 WeakMap 全解.md\",\"content\":\"\\n## Set\\n\\n### 前言\\n\\n- Set 是 ES6 引入的一种新的数据结构，它类似于数组，但是成员的值都是唯一的，没有重复的值。\\n- Set 本身是一个构造函数，可以接受一个数组（或具有 iterable 接口的其他数据结构）作为参数，用来初始化。\\n\\n### 基础使用\\n\\n```js\\n// 创建 Set\\nconst set = new Set();\\n\\n// 添加值\\nset.add(1);\\nset.add('text');\\nset.add({ x: 10 });\\n\\n// 链式调用\\nset.add(1).add(2).add(3);\\n\\n// 检查值是否存在\\nconsole.log(set.has(1)); // true\\n\\n// 删除值\\nset.delete(1);\\n\\n// 获取大小\\nconsole.log(set.size);\\n\\n// 清空 Set\\nset.clear();\\n```\\n\\n### 特点\\n\\n```js\\n// 1. 值的唯一性\\nconst set = new Set([1, 1, 2, 2, 3, 3]);\\nconsole.log(set); // Set(3) {1, 2, 3}\\n\\n// 2. NaN 的处理\\nconst set = new Set([NaN, NaN]);\\nconsole.log(set.size); // 1\\n\\n// 3. +0 和 -0 被视为相同\\nconst set = new Set([+0, -0]);\\nconsole.log(set.size); // 1\\n\\n// 4. 对象引用不同则视为不同值\\nconst set = new Set();\\nset.add({});\\nset.add({});\\nconsole.log(set.size); // 2\\n```\\n\\n### 常用操作\\n\\n```js\\n// 1. 数组去重\\nconst array = [1, 2, 2, 3, 3, 4];\\nconst uniqueArray = [...new Set(array)];\\nconsole.log(uniqueArray); // [1, 2, 3, 4]\\n\\n// 2. 字符串去重\\nconst str = 'hello';\\nconst uniqueStr = [...new Set(str)].join('');\\nconsole.log(uniqueStr); // 'helo'\\n\\n// 3. Set 转数组\\nconst set = new Set([1, 2, 3]);\\nconst array1 = Array.from(set);\\nconst array2 = [...set];\\n\\n// 4. 遍历操作\\nconst set = new Set(['a', 'b', 'c']);\\n\\n// forEach\\nset.forEach(value => {\\n  console.log(value);\\n});\\n\\n// for...of\\nfor (const value of set) {\\n  console.log(value);\\n}\\n```\\n\\n### 集合操作\\n\\n```js\\n// 1. 并集\\nfunction union(setA, setB) {\\n  return new Set([...setA, ...setB]);\\n}\\n\\n// 2. 交集\\nfunction intersection(setA, setB) {\\n  return new Set([...setA].filter((x) => setB.has(x)));\\n}\\n\\n// 3. 差集\\nfunction difference(setA, setB) {\\n  return new Set([...setA].filter((x) => !setB.has(x)));\\n}\\n\\n// 使用示例\\nconst setA = new Set([1, 2, 3]);\\nconst setB = new Set([2, 3, 4]);\\n\\nconsole.log(union(setA, setB)); // Set(4) {1, 2, 3, 4}\\nconsole.log(intersection(setA, setB)); // Set(2) {2, 3}\\nconsole.log(difference(setA, setB)); // Set(1) {1}\\n```\\n\\n## Map\\n\\n### 前言\\n\\nMap 是 ES6 引入的一种新的数据结构，它类似于对象，但是键值对的键可以是任意类型。\\n\\n### 基础使用\\n\\n```js\\n// 创建 Map\\nconst map = new Map();\\n\\n// 设置键值对\\nmap.set('name', 'Alice');\\nmap.set(1, 'number one');\\nmap.set({}, 'object');\\n\\n// 链式调用\\nmap.set('a', 1).set('b', 2).set('c', 3);\\n\\n// 获取值\\nconsole.log(map.get('name')); // 'Alice'\\n\\n// 检查键是否存在\\nconsole.log(map.has('name')); // true\\n\\n// 删除键值对\\nmap.delete('name');\\n\\n// 获取大小\\nconsole.log(map.size);\\n\\n// 清空 Map\\nmap.clear();\\n```\\n\\n### 特点\\n\\n```js\\n// 1. 任何类型都可以作为键\\nconst map = new Map();\\n\\n// 使用对象作为键\\nconst objKey = { id: 1 };\\nmap.set(objKey, 'object value');\\n\\n// 使用函数作为键\\nconst fnKey = function () {};\\nmap.set(fnKey, 'function value');\\n\\n// 使用 NaN 作为键\\nmap.set(NaN, 'NaN value');\\nconsole.log(map.get(NaN)); // 'NaN value'\\n\\n// 2. 键的比较使用 Same-value-zero 算法\\nmap.set(-0, 'negative zero');\\nconsole.log(map.get(+0)); // 'negative zero'\\n\\n// 3. 保持插入顺序\\nconst orderedMap = new Map([\\n  ['first', 1],\\n  ['second', 2],\\n  ['third', 3],\\n]);\\n\\n// 遍历按插入顺序进行\\nfor (const [key, value] of orderedMap) {\\n  console.log(key, value);\\n}\\n```\\n\\n## WeakMap\\n\\n### 前言\\n\\nWeakMap 和 Map 功能类似，只不过它具有弱引用的特点且只能使用对象作为键。\\n\\n### 基础使用\\n\\n```js\\n// 创建 WeakMap\\nconst weakMap = new WeakMap();\\n\\n// 只能使用对象作为键\\nconst obj = { id: 1 };\\nweakMap.set(obj, 'object data');\\n\\n// 获取值\\nconsole.log(weakMap.get(obj));\\n\\n// 检查键是否存在\\nconsole.log(weakMap.has(obj));\\n\\n// 删除键值对\\nweakMap.delete(obj);\\n```\\n\\n### 特点\\n\\n```js\\n// 1. 弱引用特性\\nlet obj = { id: 1 };\\nconst weakMap = new WeakMap();\\nweakMap.set(obj, 'data');\\n\\nobj = null; // 对象可被垃圾回收\\n// weakMap 中的键值对会自动被清除\\n\\n// 2. 不可遍历\\n// 没有 size 属性\\n// 没有 clear() 方法\\n// 不能使用 for...of\\n\\n// 3. 只接受对象作为键\\n// 这些都会报错\\nweakMap.set(1, 'value');\\nweakMap.set('key', 'value');\\nweakMap.set(true, 'value');\\n```\\n\\n## Map vs WeakMap\\n\\n### 引用区别\\n\\n```js\\n// Map：强引用\\nconst map = new Map();\\nlet obj = { id: 1 };\\nmap.set(obj, 'data');\\nobj = null; // 原对象仍然在 map 中\\n\\n// WeakMap：弱引用\\nconst weakMap = new WeakMap();\\nlet obj2 = { id: 2 };\\nweakMap.set(obj2, 'data');\\nobj2 = null; // 对象可被垃圾回收\\n```\\n\\n### 性能区别\\n\\n```js\\n// 1. 频繁增删键值对\\nconst map = new Map(); // 适合\\n\\n// 2. 存储对象关联数据，且需要自动清理\\nconst weakMap = new WeakMap(); // 适合\\n\\n// 3. 需要遍历操作\\nconst map = new Map(); // 适合\\n// WeakMap 不支持遍历\\n\\n// 4. 内存敏感的场景\\nconst weakMap = new WeakMap(); // 适合\\n```\\n\\n### 最佳实践\\n\\n```js\\n// 1. 使用 Map 的场景\\n// - 需要频繁添加/删除键值对\\n// - 需要遍历键值对\\n// - 需要获取键值对数量\\nconst userRoles = new Map();\\nuserRoles.set(user1, ['admin']);\\nuserRoles.set(user2, ['user']);\\n\\n// 2. 使用 WeakMap 的场景\\n// - 存储对象的元数据\\n// - DOM 节点相关数据\\n// - 需要自动垃圾回收\\nconst domData = new WeakMap();\\ndomData.set(element, {\\n  clickCount: 0,\\n  lastClicked: null,\\n});\\n```\\n\\n选择使用 Map 还是 WeakMap 主要考虑：\\n\\n1. 键的类型（是否只用对象）\\n2. 是否需要遍历\\n3. 内存管理需求\\n4. 是否需要获取集合大小\\n5. 是否需要清空操作\\n\",\"wordCount\":242},{\"id\":\"1760989906\",\"title\":\"对 MVC 和 MVVM 的理解\",\"date\":\"2020-09-13\",\"tags\":[\"软件架构\",\"react\",\"vue\"],\"fileName\":\"对 MVC 和 MVVM 的理解.md\",\"content\":\"\\n## MVC（Model-View-Controller）与 React\\n\\n### MVC 核心思想\\n\\n- Model（模型）：管理数据和业务逻辑（如数据获取、存储、验证）。\\n- View（视图）：负责 UI 的呈现（如 HTML、CSS）。\\n- Controller（控制器）：处理用户输入，协调 Model 和 View 的交互。\\n\\n### React 如何体现 MVC 模式\\n\\nReact 本身更侧重 View 层，但结合其他库（如 Redux、Context API）可实现类似 MVC 的架构：\\n\\n| 角色       | React 中的对应                                                                    |\\n| ---------- | --------------------------------------------------------------------------------- |\\n| Model      | 状态管理工具（如 Redux Store、Context API 的全局状态、组件内部的 useState）       |\\n| View       | React 组件（JSX 描述 UI，通过 Props 和 State 渲染）                               |\\n| Controller | 事件处理函数（如 onClick）、Redux 的 Actions/Reducers、自定义 Hooks（业务逻辑）。 |\\n\\n### React 的 MVC 数据流\\n\\n1. 用户触发事件（如点击按钮），调用 Controller 逻辑（如 Redux Action）。\\n2. Controller 更新 Model（如修改 Redux Store 的状态）。\\n3. Model 变化触发 View 更新（React 组件重新渲染）。\\n\\n示例（React + Redux）：\\n\\n```jsx\\n// Model (Redux Store)\\nconst initialState = { count: 0 };\\nfunction counterReducer(state = initialState, action) {\\n  switch (action.type) {\\n    case 'INCREMENT':\\n      return { ...state, count: state.count + 1 };\\n    default:\\n      return state;\\n  }\\n}\\n\\n// View (React Component)\\nconst Counter = ({ count, increment }) => (\\n  <div>\\n    <p>{count}</p>\\n    <button onClick={increment}>+</button>\\n  </div>\\n);\\n\\n// Controller (Redux Action)\\nconst mapDispatch = (dispatch) => ({\\n  increment: () => dispatch({ type: 'INCREMENT' }),\\n});\\nexport default connect(mapState, mapDispatch)(Counter);\\n```\\n\\n### React MVC 的特点\\n\\n- 单向数据流：数据从 Model → View → Controller → Model 循环。\\n- 职责分离：状态管理（Model）、UI 渲染（View）、逻辑处理（Controller）解耦。\\n- 灵活性：需要手动管理状态和逻辑的传递（如 Props Drilling）。\\n\\n## MVVM（Model-View-ViewModel）与 Vue\\n\\n### MVVM 核心思想\\n\\n- Model（模型）：管理数据和业务逻辑（与 MVC 的 Model 类似）。\\n- View（视图）：UI 的声明式描述（如 Vue 模板）。\\n- ViewModel（视图模型）：连接 View 和 Model 的桥梁，通过数据绑定自动同步两者。\\n\\n### Vue 如何实现 MVVM？\\n\\nVue 是典型的 MVVM 框架，其核心是 响应式系统 和 模板语法：\\n\\n| 角色      | Vue 中的对应                                           |\\n| --------- | ------------------------------------------------------ |\\n| Model     | Vue 组件的 data 属性、Pinia/Vuex 的状态                |\\n| View      | Vue 模板（.vue 文件中的 <template> 部分）              |\\n| ViewModel | Vue 实例（自动生成的响应式系统，处理模板与数据的绑定） |\\n\\n### Vue 的 MVVM 数据流\\n\\n1. View 中声明数据绑定（如 {{ count }} 或 v-model）。\\n\\n2. ViewModel 监听 Model 变化，自动更新 View。\\n\\n3. 用户操作 View（如输入框输入），ViewModel 自动更新 Model。\\n\\n示例：\\n\\n```vue\\n<template>\\n  <!-- View -->\\n  <div>\\n    <p>{{ count }}</p>\\n    <button @click=\\\"increment\\\">+</button>\\n  </div>\\n</template>\\n\\n<script>\\nexport default {\\n  // Model\\n  data() {\\n    return { count: 0 };\\n  },\\n  // ViewModel (逻辑处理)\\n  methods: {\\n    increment() {\\n      this.count++;\\n    }\\n  }\\n};\\n<\/script>\\n```\\n\\n### Vue MVVM 的特点\\n\\n- 双向数据绑定：通过 v-model 实现 View 和 Model 的自动同步。\\n- 声明式编程：模板中直接绑定数据和事件，无需手动操作 DOM。\\n- 响应式系统：基于依赖追踪的自动更新（无需手动触发渲染）。\\n\\n## MVC（React） vs MVVM（Vue）对比\\n\\n| 特性     | React MVC                           | Vue MVVM                               |\\n| -------- | ----------------------------------- | -------------------------------------- |\\n| 数据流   | 单向数据流（需手动管理状态传递）    | 双向数据绑定（自动同步 View 和 Model） |\\n| 状态管理 | 依赖外部库（如 Redux、Context API） | 内置响应式系统（data + reactive）      |\\n| UI 更新  | 通过 Virtual DOM Diff 优化渲染      | 基于依赖追踪的精准更新                 |\\n| 代码风格 | 函数式编程（Hooks + JSX）           | 声明式模板 + 选项式/组合式 API         |\\n| 适用场景 | 大型复杂应用，需高度定制化架构      | 中小型应用，快速开发，注重开发体验     |\\n\\n## 总结\\n\\nReact 的 MVC 模式\\n\\n- 强调单向数据流和职责分离，适合需要精细控制状态和逻辑的场景。\\n- 需要结合其他库实现完整的 MVC 架构。\\n\\nVue 的 MVVM 模式\\n\\n- 通过响应式系统和双向绑定简化开发，适合快速迭代和中小型项目。\\n- 内置的 ViewModel 自动处理数据与视图的同步。\\n\\n根据项目需求选择框架：\\n\\n- 选择 React：需要高度灵活性和可扩展性的大型应用。\\n- 选择 Vue：追求开发效率和简洁性的中小型应用。\\n\",\"wordCount\":844},{\"id\":\"472922652\",\"title\":\"React 工程中 SVG 的高级使用方法\",\"date\":\"2020-09-09\",\"tags\":[\"react\",\"webpack\",\"svg\",\"工程化\"],\"fileName\":\"React 工程中 SVG 的高级使用方法.md\",\"content\":\"\\n## 比较 low 的做法\\n\\n打开 create-react-app 的官方文档，它会告诉你使用 svg，将 svg 进行导入（实际导入的是 svg 的路径字符串），然后放到 img 的 src 上。这种方法我们称为将 svg 当做图片使用。\\n\\n为什么这种方式不好？\\n\\n比如：无法改变 svg 的颜色\\n\\n## 使用 svg-sprite-loader（自己配置法）\\n\\n使用 svg-sprite-loader 要在 webpack.config.js 里配置，但是我们用 create-react-app 搭建起来的项目里没有 webpack 的配置文件。\\n\\n使用 `yarn eject` 命令，可以把配置文件弄出来。运行后，发现项目下多了两个目录，其中就有 webpack.config.js，我们就可以修改它进行配置。按照官网配置即可。\\n\\n注意：一定要先进行 git commit，才能运行 eject，否则会无法成功弹出配置。\\n\\n### 步骤\\n\\n1. 安装两个 loader\\n\\n```\\nyarn add --dev svg-sprite-loader\\nyarn add --dev svgo-loader\\n```\\n\\n2. 在 webpack.config.js 中配置这两个 loader\\n\\n```js\\n{\\n  test: /\\\\.svg$/,\\n  use: [\\n    { loader: 'svg-sprite-loader', options: {} },\\n    { loader: 'svgo-loader', options: {} },\\n  ]\\n},\\n```\\n\\n3. 使用\\n\\nApp.tsx\\n\\n```tsx\\nimport x from \\\"icons/apple.svg\\\";\\n\\nconsole.log(x) // 查看浏览器dom树，可以发现多了一个svg\\n\\n// 多出来的svg如下：\\n<svg fill='red'>\\n   <use xlinkHref='#apple'/>\\n</svg>\\n```\\n\\napple 就是文件名。svg 上还可以直接加 fill 属性来改变颜色。\\n引入的 x 如果不使用，就是如果不打印，页面上的图标就看不到了。必须用一下图标才能生效。这是因为treeshaking，意思是，如果你用不上一个东西，我就把他从树上摇下来。react 发现你引入了 x，但是没使用，就会把它删了。\\n那我怎么样既能引入也不需要打印呢？\\ntreeshaking 不适用于 require，所以可以用 require导入\\n\\n4. 封装 svg 成 icon 组件\\n\\n现在每次使用 svg 都要写三句代码，还要 require 引入。避免重复，把它封装成组件。\\n\\n```tsx\\nimport React from 'react';\\n\\nconst importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\\ntry {\\n  importAll(require.context('../icons', true, /\\\\.svg$/));\\n} catch (error) {\\n  console.log(error);\\n}\\n\\ntype Props = {\\n  name: string;\\n};\\n\\nfunction Icon(props: Props) {\\n  return (\\n    <svg className=\\\"icon\\\">\\n      <use xlinkHref={'#' + props.name} />\\n    </svg>\\n  );\\n}\\n\\nexport default Icon;\\n```\\n\\n说明：\\n\\n把 require 导入也放进来。但是如果有 100 个 svg，就要写 100 次 require。所以我们选择直接导入一个目录，这个目录里存放所有的 svg。这里封装为 importAll。\\n\\n但是有报错，说找不到 `__WebpackModuleApi`，这是因为在 ts 里不支持这个的问题。去谷歌搜索解决方案。\\n安装：`yarn add --dev @types/webpack-env` 就可以解决。\\n\\n其他组件想使用 Icon，一句话引入即可 `<Icon name='chart'/>` name 属性是文件名。\\n\\nIcon 如果想改变颜色，可以直接在 css 里用 fill 改变：\\n\\n```css\\n.icon {\\n  fill: rgb(140, 177, 253);\\n}\\n```\\n\\n可是有一些svg图标是自带颜色的，在它们的文件里会通过 fill 属性指定颜色。如果是这种情况，就改不了颜色了。我们可以选择手动去它们的 svg 文件里删除 fill 属性，但是如果有很多图标，一个个删除太慢了。\\n\\nsvgo-loader 有一个功能，可以删除fill属性，只需要把需要的语句添加到配置文件的 svgo-loader 后边的选项options 里边就可以。\\nsvgo 就是 svg optimizer 优化器的意思。\\n\\n```js\\n{ loader: 'svgo-loader', options: {\\n  plugins:[\\n      {removeAttrs: {attrs:'fill'}}\\n    ]\\n  }\\n},\\n```\\n\",\"wordCount\":682},{\"id\":\"2123466195\",\"title\":\"使用 useReducer 和 Context 实现 redux 的功能\",\"date\":\"2020-07-24\",\"tags\":[\"react\",\"redux\",\"状态管理\"],\"fileName\":\"使用 useReducer 和 Context 实现 redux 的功能.md\",\"content\":\"\\n## 使用 useReducer 和 Context 实现 redux 的功能\\n\\n步骤：\\n\\n1. 将数据集中在一个 store 对象\\n2. 将所有操作集中在 reducer\\n3. 创建一个 Context\\n4. 创建对数据的读写 API\\n5. 将第4步的内容放到第 3 步的 Context 中\\n6. 用 Context.Provider 将 Context 提供给所有组件\\n7. 各个组件用 useContext 获取读写 API\\n\\n代码演示：\\n\\n```tsx\\nimport React, { Dispatch, createContext, useContext, useEffect, useReducer } from 'react';\\n\\nimport './App.css';\\n\\ninterface IPersonState {\\n  books: string[];\\n  movies: string[];\\n}\\n\\ntype IPersonAction = {\\n  type: 'getBooks' | 'getMovies';\\n  payload: string[];\\n};\\n\\nconst initialState: IPersonState = {\\n  books: [],\\n  movies: [],\\n};\\n\\nfunction reducer(state: IPersonState = initialState, action: IPersonAction) {\\n  if (action.type === 'getBooks') {\\n    return { ...state, books: action.payload };\\n  }\\n  if (action.type === 'getMovies') {\\n    return { ...state, movies: action.payload };\\n  }\\n  return state;\\n}\\n\\nexport interface IContextValue {\\n  state: IPersonState;\\n  dispatch: Dispatch<IPersonAction>;\\n}\\n\\nconst Context = createContext<IContextValue | undefined>(undefined);\\n\\nfunction Person() {\\n  const [state, dispatch] = useReducer(reducer, initialState);\\n\\n  return (\\n    <Context.Provider value={{ state, dispatch }}>\\n      <div>\\n        <Books />\\n        <Movies />\\n      </div>\\n    </Context.Provider>\\n  );\\n}\\n\\nfunction Books() {\\n  const { state, dispatch } = useContext(Context)!;\\n  useEffect(() => {\\n    fetch('http://api.kuanglinfeng.com')\\n      .then((response) => response.json())\\n      .then((data) => dispatch({ type: 'getBooks', payload: data.books }));\\n  }, []);\\n\\n  return (\\n    <div>\\n      <h1>我的书籍</h1>\\n      <ul>\\n        {state.books!.map((book) => (\\n          <li key={book}>{book}</li>\\n        ))}\\n      </ul>\\n    </div>\\n  );\\n}\\n\\nfunction Movies() {\\n  const { state, dispatch } = useContext(Context)!;\\n\\n  useEffect(() => {\\n    fetch('http://api.kuanglinfeng.com')\\n      .then((response) => response.json())\\n      .then((data) => dispatch({ type: 'getMovies', payload: data.movies }));\\n  }, []);\\n  return (\\n    <div>\\n      <h1>我的电影</h1>\\n      {state.movies.map((movie) => (\\n        <li key={movie}>{movie}</li>\\n      ))}\\n    </div>\\n  );\\n}\\n\\nfunction App() {\\n  return (\\n    <div className=\\\"App\\\">\\n      <Person />\\n    </div>\\n  );\\n}\\n\\nexport default App;\\n```\\n\\n如何对 reducer 进行拆分？\\n\\n答：可将 reducer 写成多个对象的形式，合并所有的子 reducer 时只需要 `{...reducer1, ...reducer2, ...}` 即可\\n\",\"wordCount\":121},{\"id\":\"1642119396\",\"title\":\"Icon 的所有方案\",\"date\":\"2020-07-21\",\"tags\":[\"icon\"],\"fileName\":\"Icon 的所有方案.md\",\"content\":\"\\n## icon 的各种做法\\n\\n1. img 法\\n2. background 法\\n3. background 合一法\\n4. font 法\\n5. svg-symbol 法\\n6. css 就是干法\\n\\n### img 法\\n\\n1. 搞一张图片\\n2. 使用`<img src=\\\"图片路径\\\"/>`来使用图片\\n3. 通过其它 css 属性来控制图片的大小，位置等\\n\\n优点：可以利用图片默认自动缩放的特性，通过仅设置宽度或者高度来改变图片的大小\\n\\n### background 法\\n\\n1. 搞一张图片\\n2. 利用 css 属性`background: url(./image.png)`\\n3. 通过其它 css 属性来控制图片的大小，位置等\\n\\n### background 合一法\\n\\n1. 将几张图片拼成一张图，可以用网上的 css sprites generator 工具\\n2. 利用 css 属性`width，height, overflow, background-position`来显示某一张图片\\n\\n### font 法\\n\\n使用 icon-font，字体即图标，图标即字体。常用网站：http://iconfont.cn\\n\\n注意：一般来说，字体图标的 Entity Number 一般都以`&#xe6`开头，因为这一段范围通常不表示任何字符\\n\\n- inconfont 的 HTML 形式（对应 iconfont.cn 里的 unicode 功能）\\n\\n用法：\\n\\n1. 在样式里引入@font-face\\n\\n```css\\n@font-face {\\n  font-family: 'iconfont'; /* project id 1958405 */\\n  src: url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.eot');\\n  src:\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.eot?#iefix') format('embedded-opentype'),\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.woff2') format('woff2'),\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.woff') format('woff'),\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.ttf') format('truetype'),\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.svg#iconfont') format('svg');\\n}\\n```\\n\\n2. 使用字体对应的 Entity Number（unicode）并指定 font-family\\n\\n```html\\n<div style=\\\"font-family: iconfont;\\\">&#xe600;</div>\\n```\\n\\n- inconfont 的 CSS 形式（对应 iconfont.cn 里的 Font class 功能）\\n\\n1. 在样式里引入@font-face，并使用伪类指定对应 iconfont 的 Entity Number\\n\\n```css\\n@font-face {\\n  font-family: 'iconfont'; /* project id 1958405 */\\n  src: url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.eot');\\n  src:\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.eot?#iefix') format('embedded-opentype'),\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.woff2') format('woff2'),\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.woff') format('woff'),\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.ttf') format('truetype'),\\n    url('//at.alicdn.com/t/font_1958405_gp6ql65yxke.svg#iconfont') format('svg');\\n}\\n.xxx:before {\\n  content: '\\\\e600';\\n}\\n```\\n\\n2. 指定 font-family 和伪类\\n\\n```html\\n<div class=\\\"xxx\\\" style=\\\"font-family: iconfont;\\\"></div>\\n```\\n\\n### svg-symbol 法\\n\\n这种方式是最推荐的做法。与以上方式相比有如下特点：\\n\\n1. 支持多色图标，不再受单色限制\\n2. 通过一些技巧，支持像字体那样，通过 font-size，color 来调样式\\n3. 兼容性较差，支持 ie9+即现代浏览器\\n4. 浏览器渲染 svg 的性能一般，还不如 png\\n\\n使用步骤：\\n\\n1. 从 iconfont.cn 上拷贝项目下生成的 symbol 代码\\n\\n```js\\n//at.alicdn.com/t/font_8d5l8fzk5b87iudi.js\\n```\\n\\n2. 加入通用 css 代码（引入一次就行）\\n\\n```html\\n<style type=\\\"text/css\\\">\\n  .icon {\\n    width: 1em;\\n    height: 1em;\\n    vertical-align: -0.15em;\\n    fill: currentColor;\\n    overflow: hidden;\\n  }\\n</style>\\n```\\n\\n3. 挑选相应的图标并获取类名，应用于页面\\n\\n```html\\n<svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\n  <use xlink:href=\\\"#icon-xxx\\\"></use>\\n</svg>\\n```\\n\\n### 「CSS 就是干」法\\n\\n纯 css 技巧来实现 icon。\\n\\n推荐一个网站，这个网站是一个设计师写的，全是用 css 实现的 icon。\\n\\nhttps://cssicon.space\\n\",\"wordCount\":481},{\"id\":\"816050360\",\"title\":\"bind 函数全解\",\"date\":\"2020-07-19\",\"tags\":[\"javascript\"],\"fileName\":\"bind 函数全解.md\",\"content\":\"\\n## 功能\\n\\nbind 函数是 JavaScript 中一个非常重要的函数，它可以将一个函数的上下文绑定到指定的对象上，从而改变函数执行时的上下文。bind 的传参结构为`function.bind(thisArg, arg1, arg2, ...)`，`thisArg` 表示绑定的 this 上下文，`arg1, arg2, ...`表示预设的参数。\\n\\n## 用法\\n\\n### 绑定 this\\n\\n```js\\nconst person = {\\n  name: 'Alice',\\n  greet() {\\n    console.log(`Hello, I'm ${this.name}`);\\n  },\\n};\\n\\nconst greet = person.greet;\\n// 直接调用会丢失 this 上下文\\ngreet(); // Hello, I'm undefined\\n\\nconst boundGreet = person.greet.bind(person);\\n// bind 后保持了正确的 this 指向\\nboundGreet(); // Hello, I'm Alice\\n```\\n\\n### 参数预设\\n\\n```js\\nfunction multiply(a, b) {\\n  return a * b;\\n}\\n\\n// 创建一个新函数，第一个参数固定为 2\\nconst double = multiply.bind(null, 2);\\nconsole.log(double(4)); // 8\\nconsole.log(double(5)); // 10\\n```\\n\\n### 在类/构造函数中使用\\n\\n```js\\nclass Button {\\n  constructor() {\\n    this.clicked = false;\\n    // 在事件处理中保持 this 指向\\n    this.onClick = this.onClick.bind(this);\\n  }\\n\\n  onClick() {\\n    this.clicked = true;\\n    console.log('Button clicked');\\n  }\\n}\\n```\\n\\n### 支持作为构造函数使用\\n\\n```js\\nfunction Person(name, age) {\\n  this.name = name;\\n  this.age = age;\\n}\\n\\n// 创建一个预设年龄的构造函数\\nconst CreateTeenager = Person.bind(null, 'Unknown', 16);\\nconst teen = new CreateTeenager();\\nconsole.log(teen.age); // 16\\n```\\n\\n## 实现原理\\n\\n具体代码实现：\\n\\n```js\\nFunction.prototype.myBind = function (context, ...args) {\\n  if (typeof this !== 'function') {\\n    throw new Error('Function.prototype.bind - what is trying to be bound is not callable');\\n  }\\n\\n  const self = this; // 保存原函数的引用\\n  // 改用普通函数，这样可以作为构造函数使用\\n  const fBound = function (...boundArgs) {\\n    return self.apply(\\n      // 使用 instanceof 检查是否是通过 new 调用\\n      this instanceof fBound ? this : context,\\n      [...args, ...boundArgs]\\n    );\\n  };\\n\\n  // 设置 fBound.__proto__ 指向 self，使之可以访问 self 对象上的静态方法\\n  Object.setPrototypeOf(fBound, self);\\n  // 设置 fBound.prototype 为 self.prototype 的副本，这样 fBound 的实例可以继承 self 的原型对象上的方法\\n  fBound.prototype = Object.create(self.prototype);\\n\\n  return fBound;\\n};\\n```\\n\\n代码解析：\\n\\n1. 参数检查\\n\\n```js\\nif (typeof this !== 'function') {\\n  throw new Error('Function.prototype.bind - what is trying to be bound is not callable');\\n}\\n```\\n\\n- 因为 myBind 是定义在 Function.prototype 上的方法\\n- 检查调用 myBind 的对象是否为函数\\n- 如果不是函数则抛出错误\\n\\n2. 保存原函数引用\\n\\n```js\\nconst self = this;\\n```\\n\\n- this 在这里指向原始函数\\n- 保存引用是为了在后面的函数中使用\\n\\n3. 创建绑定函数\\n\\n```js\\nconst fBound = function (...boundArgs) {\\n  // 函数体\\n};\\n```\\n\\n- 创建一个新函数作为返回值\\n- 使用剩余参数语法收集调用时传入的参数\\n\\n4. 处理 this 指向\\n\\n```js\\nthis instanceof fBound ? this : context;\\n```\\n\\n- 判断 fBound 是否被作为构造函数调用（使用 new）\\n- 如果是构造函数调用：使用新创建的实例（this）\\n- 如果是普通调用：使用传入的上下文（context）\\n\\n5. 合并参数\\n\\n```js\\n[...args, ...boundArgs];\\n```\\n\\n- args：调用 bind 时预设的参数\\n- boundArgs：调用绑定函数时传入的参数\\n- 使用扩展运算符合并两组参数\\n\\n6. 继承原型链\\n\\n```js\\nObject.setPrototypeOf(fBound, self);\\nfBound.prototype = Object.create(self.prototype);\\n```\\n\\n- 设置 fBound 函数对象的原型（**proto**）指向原函数，继承静态属性/方法\\n- 创建原函数原型的副本作为 fBound 的 prototype，继承实例方法\\n\",\"wordCount\":372},{\"id\":\"299326428\",\"title\":\"call 和 apply 函数全解\",\"date\":\"2020-07-17\",\"tags\":[\"javascript\"],\"fileName\":\"call 和 apply 函数全解.md\",\"content\":\"\\n## 功能\\n\\ncall 和 apply 函数是 JavaScript 中用于改变函数执行上下文（this 值）的函数。它们可以调用一个函数，并指定函数执行时的上下文（this 值）。他们两个的差异在于传参方式不同，call 的传参结构为`function.call(thisArg, arg1, arg2, ...)`，apply 的传参结构为`function.apply(thisArg, [argsArray])`。\\n\\n## 用法\\n\\n### 绑定函数 this\\n\\n```js\\nfunction greet(greeting) {\\n  console.log(`${greeting}, ${this.name}!`);\\n}\\n\\nconst person = { name: 'Alice' };\\ngreet.call(person, 'Hello'); // Hello, Alice!\\n```\\n\\n### 多参数\\n\\n```js\\nfunction introduce(greeting, profession) {\\n  console.log(`${greeting}, I'm ${this.name}, I'm a ${profession}`);\\n}\\n\\nconst person = { name: 'Bob' };\\nintroduce.myCall(person, 'Hi', 'developer'); // Hi, I'm Bob, I'm a developer\\n```\\n\\n## 实现原理\\n\\n具体代码实现（call）：\\n\\n```js\\nFunction.prototype.myCall = function (context, ...args) {\\n  if (typeof this !== 'function') {\\n    throw new Error('Function.prototype.call - what is trying to be bound is not callable');\\n  }\\n  context = context || window;\\n  const fn = Symbol('fn');\\n  context.fn = fn;\\n  const res = context.fn(...args);\\n  delete context.fn;\\n  return res;\\n};\\n```\\n\\n具体代码实现（apply）：\\n\\n```js\\nFunction.prototype.myApply = function (context, args) {\\n  if (typeof this !== 'function') {\\n    throw new Error('Function.prototype.apply - what is trying to be bound is not callable');\\n  }\\n  context = context || window;\\n  const fn = Symbol('fn');\\n  context.fn = fn;\\n  const res = context.fn(...args);\\n  delete context.fn;\\n  return res;\\n};\\n```\\n\\n不难看出，call 和 apply 的底层实现都是类似的：\\n\\n1. 函数临时添加为目标对象的方法\\n2. 通过对象调用这个方法（此时 this 自然指向该对象）\\n3. 调用完成后删除这个临时方法\\n\\n这种实现方式巧妙地利用了 JavaScript 中 this 的指向规则：当函数作为对象的方法调用时，this 指向该对象。\\n\\n## 注意事项\\n\\n- 在严格模式下，需要特别处理 context 为 null/undefined 的情况\\n- 在实际项目中，可能需要考虑 Symbol 的兼容性\\n- 在 Node.js 环境中需要使用 global 替代 window\\n- 需要注意属性名冲突的问题（虽然使用 Symbol 已经很好地解决了这个问题）\\n\",\"wordCount\":293},{\"id\":\"1351712202\",\"title\":\"XSS 和 CSRF 攻击详解\",\"date\":\"2020-06-03\",\"tags\":[\"前端安全\"],\"fileName\":\"XSS 和 CSRF 攻击详解.md\",\"content\":\"\\n## XSS （跨站脚本攻击）\\n\\n### 攻击原理\\n\\nXSS（Cross-Site Scripting）攻击的核心是让恶意脚本在受害者的浏览器中执行。攻击者通过注入恶意代码（通常是 JavaScript）到网页中，当其他用户访问该页面时，代码会被浏览器解析并执行，从而实现窃取用户数据、会话劫持、篡改页面内容等攻击行为。\\n\\n### 攻击类型\\n\\n- 反射型 XSS\\n\\n**原理**：恶意脚本通过 URL 参数注入，服务端未过滤直接返回给客户端。\\n\\n例如：用户点击一个精心构造的链接：\\n\\n```\\nhttps://example.com/search?query=<script>alert('XSS')<\/script>\\n```\\n\\n服务端将`query`参数直接插入到页面中，导致脚本执行\\n\\n**特点**：需要诱导用户主动点击恶意链接，常见于钓鱼攻击。\\n\\n- 存储型 XSS\\n\\n**原理**：恶意脚本被存储到服务器数据库（如评论、留言板），其他用户访问页面时触发。\\n\\n例如：攻击者在评论区提交内容：\\n\\n```html\\n<script>\\n  stealCookie(document.cookie);\\n<\/script>\\n```\\n\\n所有用户访问该页面时，脚本自动执行，窃取 Cookie。\\n\\n**特点**：危害范围广，持续时间长（数据长期存储在服务端）。\\n\\n- DOM 型 XSS\\n\\n**原理**：前端 JavaScript 动态操作 DOM 时未对用户输入转义，导致恶意脚本执行。\\n\\n例如：面通过 location.hash 获取 URL 片段并插入到 DOM 中：\\n\\n```js\\ndocument.getElementById('content').innerHTML = location.hash.substring(1);\\n```\\n\\n攻击者构造 URL：\\n\\n```\\nhttps://example.com#<img src=x onerror=alert('XSS')>\\n```\\n\\n用户访问该 URL 时，恶意脚本执行。\\n**特点**：完全在客户端触发，无需服务端参与。\\n\\n### 攻击危害\\n\\n- 窃取用户 Cookie 或会话信息（Session Hijacking）。\\n- 伪造用户操作（如转账、修改密码）。\\n- 篡改页面内容（如插入钓鱼表单）。\\n- 劫持用户浏览器（如发起 DDoS 攻击）。\\n\\n### 防御措施\\n\\n#### 输入过滤与输出编码\\n\\n- **输入过滤**：对用户输入进行严格校验（如正则表达式、白名单）。\\n\\n- **输出编码**：根据输出位置选择不同的转义规则：\\n  - **HTML 上下文**：转义 <, >, &, \\\", ' 等字符。\\n  ```js\\n  function escapeHTML(str) {\\n    return str.replace(\\n      /[&<>\\\"']/g,\\n      (c) =>\\n        ({\\n          '&': '&amp;',\\n          '<': '&lt;',\\n          '>': '&gt;',\\n          '\\\"': '&quot;',\\n          \\\"'\\\": '&#39;',\\n        })[c]\\n    );\\n  }\\n  ```\\n  - **JavaScript 上下文**：使用 JSON.stringify 或 encodeURIComponent。\\n  - **URL 上下文**：使用 encodeURIComponent 编码参数。\\n\\n#### CSP（内容安全策略）\\n\\n通过 HTTP 头限制资源加载来源：\\n\\n```http\\nContent-Security-Policy: default-src 'self'; script-src 'self' https://trusted.cdn.com;\\n```\\n\\n- 禁止内联脚本（unsafe-inline）和 eval。\\n- 仅允许加载指定域名的脚本、样式、图片等资源。\\n\\n#### 安全的 Cookie 设置\\n\\n敏感 Cookie 设置 HttpOnly（禁止 JavaScript 访问）：\\n\\n```http\\nSet-Cookie: sessionId=abc123; HttpOnly; Secure; SameSite=Lax;\\n```\\n\\n### 避免危险 API\\n\\n- 使用 textContent 替代 innerHTML。\\n- 避免直接执行用户输入的字符串（如 eval）。\\n\\n## CSRF （跨站请求伪造）\\n\\n### 攻击原理\\n\\nCSRF（Cross-Site Request Forgery）攻击的核心是利用用户的登录状态，诱导用户访问恶意页面，伪造一个合法请求（如转账、修改密码），而用户并不知情。\\n\\n**典型场景**：\\n\\n1. 用户登录银行网站 bank.com，Cookie 中保存了会话信息。\\n2. 用户访问恶意页面 evil.com，该页面自动发起一个向 bank.com/transfer 的请求：\\n\\n```js\\n<img src=\\\"https://bank.com/transfer?to=hacker&amount=1000000\\\">\\n```\\n\\n3. 浏览器自动携带 bank.com 的 Cookie，请求被服务器认为是合法的。\\n\\n### 攻击危害\\n\\n- 以用户身份执行敏感操作（如转账、删除数据）。\\n- 修改用户账户信息（如邮箱、密码）。\\n\\n### 防御措施\\n\\n#### CSRF Token\\n\\n**原理**：服务端生成随机 Token，嵌入表单或请求头，提交时验证 Token 合法性。\\n**实现步骤**：\\n\\n1. 用户访问页面时，服务端生成 Token 并存储在 Session 或 Cookie 中。\\n2. 页面表单中插入 Token：\\n\\n```html\\n<input type=\\\"hidden\\\" name=\\\"csrf_token\\\" value=\\\"随机Token\\\" />\\n```\\n\\n3. 提交表单时，服务端验证 Token 合法性。\\n   **关键点**：Token 需随机、一次性，且绑定用户会话。\\n\\n#### SameSite Cookie\\n\\n**原理**：通过 Cookie 的 SameSite 属性限制跨站请求携带 Cookie。\\n\\n```http\\nSet-Cookie: sessionId=abc123; SameSite=Lax;\\n```\\n\\n- Lax：允许部分安全请求（如导航跳转）携带 Cookie。\\n- Strict：完全禁止跨站携带 Cookie。\\n- None：允许跨站携带 Cookie（需配合 Secure）。\\n\\n#### 验证 Referer/Origin 头\\n\\n检查请求头中的 Referer 或 Origin 是否为可信域名。\\n\\n```js\\n// 服务端校验示例（Node.js）\\nif (req.headers.referer !== 'https://trusted-domain.com') {\\n  throw new Error('非法请求来源');\\n}\\n```\\n\\n**局限性**：某些浏览器会禁用 Referer，且可能被伪造。\\n\\n#### 关键操作二次验证\\n\\n对敏感操作（如支付、修改密码）要求用户输入密码或短信验证码。\\n\\n## XSS 和 CSRF 的区别\\n\\n| 区别       | XSS                      | CSRF                           |\\n| ---------- | ------------------------ | ------------------------------ |\\n| 攻击目标   | 窃取用户数据或劫持会话   | 伪造用户身份执行操作           |\\n| 依赖条件   | 需要注入恶意脚本         | 依赖用户已登录目标网站         |\\n| 攻击发起者 | 用户访问含恶意脚本的页面 | 用户访问恶意页面或点击恶意链接 |\\n| 防御核心   | 控制不可信数据的输出     | 验证请求来源和合法性           |\\n\\n## 总结\\n\\n- **XSS** 的核心是防止恶意脚本执行，需重点关注**输出编码**和 **CSP 策略**。\\n- **CSRF** 的核心是验证请求是否由用户主动发起，需依赖 **CSRF Token** 和 **SameSite Cookie**。\\n- 安全是系统工程，需前后端协作，结合多种防御手段降低风险。\\n\",\"wordCount\":1198}]"),mw=()=>{const[f,n]=Se.useState([]);return Se.useEffect(()=>{n(Md)},[]),Me.jsx(Ib,{articles:f})},xe=(f,n=1e4)=>(f=parseFloat(f+"")||0,Math.round((f+Number.EPSILON)*n)/n),Ig=function(f){if(!(f&&f instanceof Element&&f.offsetParent))return!1;const n=f.scrollHeight>f.clientHeight,r=window.getComputedStyle(f).overflowY,a=r.indexOf("hidden")!==-1,l=r.indexOf("visible")!==-1;return n&&!a&&!l},hp=function(f,n=void 0){return!(!f||f===document.body||n&&f===n)&&(Ig(f)?f:hp(f.parentElement,n))},rs=function(f){var n=new DOMParser().parseFromString(f,"text/html").body;if(n.childElementCount>1){for(var r=document.createElement("div");n.firstChild;)r.appendChild(n.firstChild);return r}return n.firstChild},Kg=f=>`${f||""}`.split(" ").filter(n=>!!n),is=(f,n,r)=>{f&&Kg(n).forEach(a=>{f.classList.toggle(a,r||!1)})};class Hc{constructor(n){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=n,this.pageX=n.pageX,this.pageY=n.pageY,this.clientX=n.clientX,this.clientY=n.clientY,this.id=self.Touch&&n instanceof Touch?n.identifier:-1,this.time=Date.now()}}const qc={passive:!1};class vw{constructor(n,{start:r=()=>!0,move:a=()=>{},end:l=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=n,this.startCallback=r,this.moveCallback=a,this.endCallback=l;for(const u of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[u]=this[u].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,qc),this.element.addEventListener("touchstart",this.onTouchStart,qc),this.element.addEventListener("touchmove",this.onMove,qc),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(n){if(!n.buttons||n.button!==0)return;const r=new Hc(n);this.currentPointers.some(a=>a.id===r.id)||this.triggerPointerStart(r,n)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(n){for(const r of Array.from(n.changedTouches||[]))this.triggerPointerStart(new Hc(r),n);window.addEventListener("blur",this.onWindowBlur)}onMove(n){const r=this.currentPointers.slice(),a="changedTouches"in n?Array.from(n.changedTouches||[]).map(u=>new Hc(u)):[new Hc(n)],l=[];for(const u of a){const p=this.currentPointers.findIndex(g=>g.id===u.id);p<0||(l.push(u),this.currentPointers[p]=u)}l.length&&this.moveCallback(n,this.currentPointers.slice(),r)}onPointerEnd(n){n.buttons>0&&n.button!==0||(this.triggerPointerEnd(n,new Hc(n)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(n){for(const r of Array.from(n.changedTouches||[]))this.triggerPointerEnd(n,new Hc(r))}triggerPointerStart(n,r){return!!this.startCallback(r,n,this.currentPointers.slice())&&(this.currentPointers.push(n),this.startPointers.push(n),!0)}triggerPointerEnd(n,r){const a=this.currentPointers.findIndex(l=>l.id===r.id);a<0||(this.currentPointers.splice(a,1),this.startPointers.splice(a,1),this.endCallback(n,r,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){const n=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:n.clientX,clientY:n.clientY}),n,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,qc),this.element.removeEventListener("touchstart",this.onTouchStart,qc),this.element.removeEventListener("touchmove",this.onMove,qc),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}function Wm(f,n){return n?Math.sqrt(Math.pow(n.clientX-f.clientX,2)+Math.pow(n.clientY-f.clientY,2)):0}function Hm(f,n){return n?{clientX:(f.clientX+n.clientX)/2,clientY:(f.clientY+n.clientY)/2}:f}const Lg=f=>typeof f=="object"&&f!==null&&f.constructor===Object&&Object.prototype.toString.call(f)==="[object Object]",vi=(f,...n)=>{const r=n.length;for(let a=0;a<r;a++){const l=n[a]||{};Object.entries(l).forEach(([u,p])=>{const g=Array.isArray(p)?[]:{};f[u]||Object.assign(f,{[u]:g}),Lg(p)?Object.assign(f[u],vi(g,p)):Array.isArray(p)?Object.assign(f,{[u]:[...p]}):Object.assign(f,{[u]:p})})}return f},kh=function(f,n){return f.split(".").reduce((r,a)=>typeof r=="object"?r[a]:void 0,n)};class gp{constructor(n={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(n);for(const r of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))r.startsWith("on")&&typeof this[r]=="function"&&(this[r]=this[r].bind(this))}setOptions(n){this.options=n?vi({},this.constructor.defaults,n):{};for(const[r,a]of Object.entries(this.option("on")||{}))this.on(r,a)}option(n,...r){let a=kh(n,this.options);return a&&typeof a=="function"&&(a=a.call(this,this,...r)),a}optionFor(n,r,a,...l){let u=kh(r,n);var p;typeof(p=u)!="string"||isNaN(p)||isNaN(parseFloat(p))||(u=parseFloat(u)),u==="true"&&(u=!0),u==="false"&&(u=!1),u&&typeof u=="function"&&(u=u.call(this,this,n,...l));let g=kh(r,this.options);return g&&typeof g=="function"?u=g.call(this,this,n,...l,u):u===void 0&&(u=g),u===void 0?a:u}cn(n){const r=this.options.classes;return r&&r[n]||""}localize(n,r=[]){n=String(n).replace(/\{\{(\w+).?(\w+)?\}\}/g,(a,l,u)=>{let p="";return u?p=this.option(`${l[0]+l.toLowerCase().substring(1)}.l10n.${u}`):l&&(p=this.option(`l10n.${l}`)),p||(p=a),p});for(let a=0;a<r.length;a++)n=n.split(r[a][0]).join(r[a][1]);return n=n.replace(/\{\{(.*?)\}\}/g,(a,l)=>l)}on(n,r){let a=[];typeof n=="string"?a=n.split(" "):Array.isArray(n)&&(a=n),this.events||(this.events=new Map),a.forEach(l=>{let u=this.events.get(l);u||(this.events.set(l,[]),u=[]),u.includes(r)||u.push(r),this.events.set(l,u)})}off(n,r){let a=[];typeof n=="string"?a=n.split(" "):Array.isArray(n)&&(a=n),a.forEach(l=>{const u=this.events.get(l);if(Array.isArray(u)){const p=u.indexOf(r);p>-1&&u.splice(p,1)}})}emit(n,...r){[...this.events.get(n)||[]].forEach(a=>a(this,...r)),n!=="*"&&this.emit("*",n,...r)}}Object.defineProperty(gp,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(gp,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});class Vg extends gp{constructor(n={}){super(n),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(n={}){const r=new Map;for(const[a,l]of Object.entries(n)){const u=this.option(a),p=this.plugins[a];p||u===!1?p&&u===!1&&(p.detach(),delete this.plugins[a]):r.set(a,new l(this,u||{}))}for(const[a,l]of r)this.plugins[a]=l,l.attach()}detachPlugins(n){n=n||Object.keys(this.plugins);for(const r of n){const a=this.plugins[r];a&&a.detach(),delete this.plugins[r]}return this.emit("detachPlugins"),this}}var Wn;(function(f){f[f.Init=0]="Init",f[f.Error=1]="Error",f[f.Ready=2]="Ready",f[f.Panning=3]="Panning",f[f.Mousemove=4]="Mousemove",f[f.Destroy=5]="Destroy"})(Wn||(Wn={}));const Is=["a","b","c","d","e","f"],Db={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},bw={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:Db},qm='<circle cx="25" cy="25" r="20"></circle>',Yg='<div class="f-spinner"><svg viewBox="0 0 50 50">'+qm+qm+"</svg></div>",mi=f=>f&&f!==null&&f instanceof Element&&"nodeType"in f,Bn=(f,n)=>{f&&Kg(n).forEach(r=>{f.classList.remove(r)})},Ve=(f,n)=>{f&&Kg(n).forEach(r=>{f.classList.add(r)})},Xf={a:1,b:0,c:0,d:1,e:0,f:0},yw=1e5,Zf=1e4,Ji="mousemove",Gm="drag",Km="content",eo="auto";let Th=null,Ch=null;class _l extends Vg{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return Ch===null&&(Ch=window.matchMedia("(hover: none)").matches),Ch}get isMobile(){return Th===null&&(Th=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),Th}get panMode(){return this.options.panMode!==Ji||this.isTouchDevice?Gm:Ji}get panOnlyZoomed(){const n=this.options.panOnlyZoomed;return n===eo?this.isTouchDevice:n}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){const{a:n,b:r}=this.current;return Math.sqrt(n*n+r*r)||1}get targetScale(){const{a:n,b:r}=this.target;return Math.sqrt(n*n+r*r)||1}get minScale(){return this.option("minScale")||1}get fullScale(){const{contentRect:n}=this;return n.fullWidth/n.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){const{containerRect:n,contentRect:r}=this,a=Math.max(n.height/r.fitHeight,n.width/r.fitWidth)||1;return Math.min(this.fullScale,a)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){const n=this.content;return!!(n&&n instanceof HTMLImageElement)&&!n.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(const n of Is){const r=n=="e"||n==="f"?1e-4:1e-5;if(Math.abs(this.target[n]-this.current[n])>r)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(n,r={},a={}){var l;if(super(r),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Wn.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Xf)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Xf)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!n)throw new Error("Container Element Not Found");this.container=n,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},_l.Plugins),a)),this.emit("attachPlugins"),this.emit("init");const u=this.content;if(u.addEventListener("load",this.onLoad),u.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){n.classList.add(this.cn("isLoading"));const p=rs(Yg);!n.contains(u)||u.parentElement instanceof HTMLPictureElement?this.spinner=n.appendChild(p):this.spinner=((l=u.parentElement)===null||l===void 0?void 0:l.insertBefore(p,u))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){const{container:n}=this,r=this.cn(Km);let a=this.option(Km)||n.querySelector(`.${r}`);if(a||(a=n.querySelector("img,picture")||n.firstElementChild,a&&Ve(a,r)),a instanceof HTMLPictureElement&&(a=a.querySelector("img")),!a)throw new Error("No content found");this.content=a}onLoad(){const{spinner:n,container:r,state:a}=this;n&&(n.remove(),this.spinner=null),this.option("spinner")&&r.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),a===Wn.Init?this.enable():this.updateMetrics()}onError(){this.state!==Wn.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=Wn.Error,this.emit("error"))}getNextScale(n){const{fullScale:r,targetScale:a,coverScale:l,maxScale:u,minScale:p}=this;let g=p;switch(n){case"toggleMax":g=a-p<.5*(u-p)?u:p;break;case"toggleCover":g=a-p<.5*(l-p)?l:p;break;case"toggleZoom":g=a-p<.5*(r-p)?r:p;break;case"iterateZoom":let b=[1,r,u].sort((_,E)=>_-E),m=b.findIndex(_=>_>a+1e-5);g=b[m]||1}return g}attachObserver(){var n;const r=()=>{const{container:a,containerRect:l}=this;return Math.abs(l.width-a.getBoundingClientRect().width)>.1||Math.abs(l.height-a.getBoundingClientRect().height)>.1};this.resizeObserver||window.ResizeObserver===void 0||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(r()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{r()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),(n=this.resizeObserver)===null||n===void 0||n.observe(this.container)}detachObserver(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()}attachEvents(){const{container:n}=this;n.addEventListener("click",this.onClick,{passive:!1,capture:!1}),n.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new vw(n,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(Ji,this.onMouseMove)}detachEvents(){var n;const{container:r}=this;r.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),r.removeEventListener("wheel",this.onWheel,{passive:!1}),(n=this.pointerTracker)===null||n===void 0||n.stop(),this.pointerTracker=null,document.removeEventListener(Ji,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();const n=this.friction,r=this.option("maxVelocity");for(const a of Is)n?(this.velocity[a]*=1-n,r&&!this.isScaling&&(this.velocity[a]=Math.max(Math.min(this.velocity[a],r),-1*r)),this.current[a]+=this.velocity[a]):this.current[a]=this.target[a];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(const n of Is)n==="e"&&this.isBouncingX||n==="f"&&this.isBouncingY||(this.velocity[n]=(1/(1-this.friction)-1)*(this.target[n]-this.current[n]))}checkBounds(n=0,r=0){const{current:a}=this,l=a.e+n,u=a.f+r,p=this.getBounds(),{x:g,y:b}=p,m=g.min,_=g.max,E=b.min,x=b.max;let k=0,R=0;return m!==1/0&&l<m?k=m-l:_!==1/0&&l>_&&(k=_-l),E!==1/0&&u<E?R=E-u:x!==1/0&&u>x&&(R=x-u),Math.abs(k)<1e-4&&(k=0),Math.abs(R)<1e-4&&(R=0),Object.assign(Object.assign({},p),{xDiff:k,yDiff:R,inBounds:!k&&!R})}clampTargetBounds(){const{target:n}=this,{x:r,y:a}=this.getBounds();r.min!==1/0&&(n.e=Math.max(n.e,r.min)),r.max!==1/0&&(n.e=Math.min(n.e,r.max)),a.min!==1/0&&(n.f=Math.max(n.f,a.min)),a.max!==1/0&&(n.f=Math.min(n.f,a.max))}calculateContentDim(n=this.current){const{content:r,contentRect:a}=this,{fitWidth:l,fitHeight:u,fullWidth:p,fullHeight:g}=a;let b=p,m=g;if(this.option("zoom")||this.angle!==0){const _=!(r instanceof HTMLImageElement)&&(window.getComputedStyle(r).maxWidth==="none"||window.getComputedStyle(r).maxHeight==="none"),E=_?p:l,x=_?g:u,k=this.getMatrix(n),R=new DOMPoint(0,0).matrixTransform(k),A=new DOMPoint(0+E,0).matrixTransform(k),M=new DOMPoint(0+E,0+x).matrixTransform(k),L=new DOMPoint(0,0+x).matrixTransform(k),q=Math.abs(M.x-R.x),K=Math.abs(M.y-R.y),Q=Math.abs(L.x-A.x),ue=Math.abs(L.y-A.y);b=Math.max(q,Q),m=Math.max(K,ue)}return{contentWidth:b,contentHeight:m}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===Ji||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);const{target:n}=this,{x:r,y:a,xDiff:l,yDiff:u}=this.checkBounds(),p=this.option("maxVelocity");let g=this.velocity.e,b=this.velocity.f;l!==0?(this.isBouncingX=!0,l*g<=0?g+=.14*l:(g=.14*l,r.min!==1/0&&(this.target.e=Math.max(n.e,r.min)),r.max!==1/0&&(this.target.e=Math.min(n.e,r.max))),p&&(g=Math.max(Math.min(g,p),-1*p))):this.isBouncingX=!1,u!==0?(this.isBouncingY=!0,u*b<=0?b+=.14*u:(b=.14*u,a.min!==1/0&&(this.target.f=Math.max(n.f,a.min)),a.max!==1/0&&(this.target.f=Math.min(n.f,a.max))),p&&(b=Math.max(Math.min(b,p),-1*p))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=g),this.isBouncingY&&(this.velocity.f=b)}enable(){const{content:n}=this,r=new DOMMatrixReadOnly(window.getComputedStyle(n).transform);for(const a of Is)this.current[a]=this.target[a]=r[a];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=Wn.Ready,this.emit("ready")}onClick(n){var r;n.type==="click"&&n.detail===0&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&((r=this.pointerTracker)===null||r===void 0||r.clear(),this.trackingPoints=[],this.startDecelAnim());const a=n.target;if(!a||n.defaultPrevented)return;if(a.hasAttribute("disabled"))return n.preventDefault(),void n.stopPropagation();if((()=>{const k=window.getSelection();return k&&k.type==="Range"})()&&!a.closest("button"))return;const l=a.closest("[data-panzoom-action]"),u=a.closest("[data-panzoom-change]"),p=l||u,g=p&&mi(p)?p.dataset:null;if(g){const k=g.panzoomChange,R=g.panzoomAction;if((k||R)&&n.preventDefault(),k){let A={};try{A=JSON.parse(k)}catch{console&&console.warn("The given data was not valid JSON")}return void this.applyChange(A)}if(R)return void(this[R]&&this[R]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return n.preventDefault(),void n.stopPropagation();if(a.closest("[data-fancybox]"))return;const b=this.content.getBoundingClientRect(),m=this.dragStart;if(m.time&&!this.canZoomOut()&&(Math.abs(b.x-m.x)>2||Math.abs(b.y-m.y)>2))return;this.dragStart.time=0;const _=k=>{this.option("zoom",n)&&k&&typeof k=="string"&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(k)&&typeof this[k]=="function"&&(n.preventDefault(),this[k]({event:n}))},E=this.option("click",n),x=this.option("dblClick",n);x?(this.clicks++,this.clicks==1&&(this.clickTimer=setTimeout(()=>{this.clicks===1?(this.emit("click",n),!n.defaultPrevented&&E&&_(E)):(this.emit("dblClick",n),n.defaultPrevented||_(x)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",n),!n.defaultPrevented&&E&&_(E))}addTrackingPoint(n){const r=this.trackingPoints.filter(a=>a.time>Date.now()-100);r.push(n),this.trackingPoints=r}onPointerDown(n,r,a){var l;if(this.option("touch",n)===!1)return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];const u=this.content.getBoundingClientRect();if(this.dragStart={x:u.x,y:u.y,top:u.top,left:u.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===Ji&&this.targetScale>1)return n.preventDefault(),n.stopPropagation(),!1;const p=n.composedPath()[0];if(!a.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(p.nodeName)||p.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;(l=window.getSelection())===null||l===void 0||l.removeAllRanges()}if(n.type==="mousedown")["A","BUTTON"].includes(p.nodeName)||n.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(r),this.emit("touchStart",n)),!0}onPointerMove(n,r,a){if(this.option("touch",n)===!1||!this.isDragging||r.length<2&&this.panOnlyZoomed&&xe(this.targetScale)<=xe(this.minScale)||(this.emit("touchMove",n),n.defaultPrevented))return;this.addTrackingPoint(r[0]);const{content:l}=this,u=Hm(a[0],a[1]),p=Hm(r[0],r[1]);let g=0,b=0;if(r.length>1){const K=l.getBoundingClientRect();g=u.clientX-K.left-.5*K.width,b=u.clientY-K.top-.5*K.height}const m=Wm(a[0],a[1]),_=Wm(r[0],r[1]);let E=m?_/m:1,x=p.clientX-u.clientX,k=p.clientY-u.clientY;this.dragOffset.x+=x,this.dragOffset.y+=k,this.dragOffset.time=Date.now()-this.dragStart.time;let R=xe(this.targetScale)===xe(this.minScale)&&this.option("lockAxis");if(R&&!this.lockedAxis)if(R==="xy"||R==="y"||n.type==="touchmove"){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void n.preventDefault();const K=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=K>45&&K<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,x=0,k=0}else this.lockedAxis=R;if(hp(n.target,this.content)&&(R="x",this.dragOffset.y=0),R&&R!=="xy"&&this.lockedAxis!==R&&xe(this.targetScale)===xe(this.minScale))return;n.cancelable&&n.preventDefault(),this.container.classList.add(this.cn("isDragging"));const A=this.checkBounds(x,k);this.option("rubberband")?(this.isInfinite!=="x"&&(A.xDiff>0&&x<0||A.xDiff<0&&x>0)&&(x*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*A.xDiff))),this.isInfinite!=="y"&&(A.yDiff>0&&k<0||A.yDiff<0&&k>0)&&(k*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*A.yDiff)))):(A.xDiff&&(x=0),A.yDiff&&(k=0));const M=this.targetScale,L=this.minScale,q=this.maxScale;M<.5*L&&(E=Math.max(E,L)),M>1.5*q&&(E=Math.min(E,q)),this.lockedAxis==="y"&&xe(M)===xe(L)&&(x=0),this.lockedAxis==="x"&&xe(M)===xe(L)&&(k=0),this.applyChange({originX:g,originY:b,panX:x,panY:k,scale:E,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(n,r,a){if(a.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(r),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),hp(n.target,this.content)&&this.lockedAxis==="y"&&(this.trackingPoints=[]),this.emit("touchEnd",n),this.isDragging=!1,this.lockedAxis=!1,this.state!==Wn.Destroy&&(n.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var n;const r=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const K of Is)this.velocity[K]=0;this.target.e=this.current.e,this.target.f=this.current.f,Bn(this.container,"is-scaling"),Bn(this.container,"is-animating"),this.isTicking=!1;const{trackingPoints:a}=this,l=a[0],u=a[a.length-1];let p=0,g=0,b=0;u&&l&&(p=u.clientX-l.clientX,g=u.clientY-l.clientY,b=u.time-l.time);const m=((n=window.visualViewport)===null||n===void 0?void 0:n.scale)||1;m!==1&&(p*=m,g*=m);let _=0,E=0,x=0,k=0,R=this.option("decelFriction");const A=this.targetScale;if(b>0){x=Math.abs(p)>3?p/(b/30):0,k=Math.abs(g)>3?g/(b/30):0;const K=this.option("maxVelocity");K&&(x=Math.max(Math.min(x,K),-1*K),k=Math.max(Math.min(k,K),-1*K))}x&&(_=x/(1/(1-R)-1)),k&&(E=k/(1/(1-R)-1)),(this.option("lockAxis")==="y"||this.option("lockAxis")==="xy"&&this.lockedAxis==="y"&&xe(A)===this.minScale)&&(_=x=0),(this.option("lockAxis")==="x"||this.option("lockAxis")==="xy"&&this.lockedAxis==="x"&&xe(A)===this.minScale)&&(E=k=0);const M=this.dragOffset.x,L=this.dragOffset.y,q=this.option("dragMinThreshold")||0;Math.abs(M)<q&&Math.abs(L)<q&&(_=E=0,x=k=0),(this.option("zoom")&&(A<this.minScale-1e-5||A>this.maxScale+1e-5)||r&&!_&&!E)&&(R=.35),this.applyChange({panX:_,panY:E,friction:R}),this.emit("decel",x,k,M,L)}onWheel(n){var r=[-n.deltaX||0,-n.deltaY||0,-n.detail||0].reduce(function(u,p){return Math.abs(p)>Math.abs(u)?p:u});const a=Math.max(-1,Math.min(1,r));if(this.emit("wheel",n,a),this.panMode===Ji||n.defaultPrevented)return;const l=this.option("wheel");l==="pan"?(n.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-n.deltaX,panY:2*-n.deltaY,bounce:!1})):l==="zoom"&&this.option("zoom")!==!1&&this.zoomWithWheel(n)}onMouseMove(n){this.panWithMouse(n)}onKeydown(n){n.key==="Escape"&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");const{current:n,target:r,content:a,contentRect:l}=this,u=Object.assign({},Xf);for(const M of Is){const L=M=="e"||M==="f"?Zf:yw;u[M]=xe(n[M],L),Math.abs(r[M]-n[M])<(M=="e"||M==="f"?.51:.001)&&(n[M]=r[M])}let{a:p,b:g,c:b,d:m,e:_,f:E}=u,x=`matrix(${p}, ${g}, ${b}, ${m}, ${_}, ${E})`,k=a.parentElement instanceof HTMLPictureElement?a.parentElement:a;if(this.option("transformParent")&&(k=k.parentElement||k),k.style.transform===x)return;k.style.transform=x;const{contentWidth:R,contentHeight:A}=this.calculateContentDim();l.width=R,l.height=A,this.emit("afterTransform")}updateMetrics(n=!1){var r;if(!this||this.state===Wn.Destroy||this.isContentLoading)return;const a=Math.max(1,((r=window.visualViewport)===null||r===void 0?void 0:r.scale)||1),{container:l,content:u}=this,p=u instanceof HTMLImageElement,g=l.getBoundingClientRect(),b=getComputedStyle(this.container);let m=g.width*a,_=g.height*a;const E=parseFloat(b.paddingTop)+parseFloat(b.paddingBottom),x=m-(parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)),k=_-E;this.containerRect={width:m,height:_,innerWidth:x,innerHeight:k};const R=parseFloat(u.dataset.width||"")||(qe=>{let ge=0;return ge=qe instanceof HTMLImageElement?qe.naturalWidth:qe instanceof SVGElement?qe.width.baseVal.value:Math.max(qe.offsetWidth,qe.scrollWidth),ge||0})(u),A=parseFloat(u.dataset.height||"")||(qe=>{let ge=0;return ge=qe instanceof HTMLImageElement?qe.naturalHeight:qe instanceof SVGElement?qe.height.baseVal.value:Math.max(qe.offsetHeight,qe.scrollHeight),ge||0})(u);let M=this.option("width",R)||eo,L=this.option("height",A)||eo;const q=M===eo,K=L===eo;typeof M!="number"&&(M=R),typeof L!="number"&&(L=A),q&&(M=R*(L/A)),K&&(L=A/(R/M));let Q=u.parentElement instanceof HTMLPictureElement?u.parentElement:u;this.option("transformParent")&&(Q=Q.parentElement||Q);const ue=Q.getAttribute("style")||"";Q.style.setProperty("transform","none","important"),p&&(Q.style.width="",Q.style.height=""),Q.offsetHeight;const _e=u.getBoundingClientRect();let he=_e.width*a,me=_e.height*a,Ge=he,je=me;he=Math.min(he,M),me=Math.min(me,L),p?{width:he,height:me}=((qe,ge,re,ee)=>{const ie=re/qe,j=ee/ge,oe=Math.min(ie,j);return{width:qe*=oe,height:ge*=oe}})(M,L,he,me):(he=Math.min(he,M),me=Math.min(me,L));let Ee=.5*(je-me),cn=.5*(Ge-he);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:_e.top-g.top+Ee,bottom:g.bottom-_e.bottom+Ee,left:_e.left-g.left+cn,right:g.right-_e.right+cn,fitWidth:he,fitHeight:me,width:he,height:me,fullWidth:M,fullHeight:L}),Q.style.cssText=ue,p&&(Q.style.width=`${he}px`,Q.style.height=`${me}px`),this.setTransform(),n!==!0&&this.emit("refresh"),this.ignoreBounds||(xe(this.targetScale)<xe(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===Wn.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){const{contentWidth:n,contentHeight:r}=this.calculateContentDim(this.target),{targetScale:a,lockedAxis:l}=this,{fitWidth:u,fitHeight:p}=this.contentRect;let g=0,b=0,m=0,_=0;const E=this.option("infinite");if(E===!0||l&&E===l)g=-1/0,m=1/0,b=-1/0,_=1/0;else{let{containerRect:x,contentRect:k}=this,R=xe(u*a,Zf),A=xe(p*a,Zf),{innerWidth:M,innerHeight:L}=x;if(x.width===R&&(M=x.width),x.width===A&&(L=x.height),n>M){m=.5*(n-M),g=-1*m;let q=.5*(k.right-k.left);g+=q,m+=q}if(u>M&&n<M&&(g-=.5*(u-M),m-=.5*(u-M)),r>L){_=.5*(r-L),b=-1*_;let q=.5*(k.bottom-k.top);b+=q,_+=q}p>L&&r<L&&(g-=.5*(p-L),m-=.5*(p-L))}return{x:{min:g,max:m},y:{min:b,max:_}}}getBounds(){const n=this.option("bounds");return n!==eo?n:this.calculateBounds()}updateControls(){const n=this,r=n.container,{panMode:a,contentRect:l,targetScale:u,minScale:p}=n;let g=p,b=n.option("click")||!1;b&&(g=n.getNextScale(b));let m=n.canZoomIn(),_=n.canZoomOut(),E=a===Gm&&!!this.option("touch"),x=_&&E;if(E&&(xe(u)<xe(p)&&!this.panOnlyZoomed&&(x=!0),(xe(l.width,1)>xe(l.fitWidth,1)||xe(l.height,1)>xe(l.fitHeight,1))&&(x=!0)),xe(l.width*u,1)<xe(l.fitWidth,1)&&(x=!1),a===Ji&&(x=!1),is(r,this.cn("isDraggable"),x),!this.option("zoom"))return;let k=m&&xe(g)>xe(u),R=!k&&!x&&_&&xe(g)<xe(u);is(r,this.cn("canZoomIn"),k),is(r,this.cn("canZoomOut"),R);for(const A of r.querySelectorAll("[data-panzoom-action]")){let M=!1,L=!1;switch(A.dataset.panzoomAction){case"zoomIn":m?M=!0:L=!0;break;case"zoomOut":_?M=!0:L=!0;break;case"toggleZoom":case"iterateZoom":m||_?M=!0:L=!0;const q=A.querySelector("g");q&&(q.style.display=m?"":"none")}M?(A.removeAttribute("disabled"),A.removeAttribute("tabindex")):L&&(A.setAttribute("disabled",""),A.setAttribute("tabindex","-1"))}}panTo({x:n=this.target.e,y:r=this.target.f,scale:a=this.targetScale,friction:l=this.option("friction"),angle:u=0,originX:p=0,originY:g=0,flipX:b=!1,flipY:m=!1,ignoreBounds:_=!1}){this.state!==Wn.Destroy&&this.applyChange({panX:n-this.target.e,panY:r-this.target.f,scale:a/this.targetScale,angle:u,originX:p,originY:g,friction:l,flipX:b,flipY:m,ignoreBounds:_})}applyChange({panX:n=0,panY:r=0,scale:a=1,angle:l=0,originX:u=-this.current.e,originY:p=-this.current.f,friction:g=this.option("friction"),flipX:b=!1,flipY:m=!1,ignoreBounds:_=!1,bounce:E=this.option("bounce")}){const x=this.state;if(x===Wn.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=g||0,this.ignoreBounds=_;const{current:k}=this,R=k.e,A=k.f,M=this.getMatrix(this.target);let L=new DOMMatrix().translate(R,A).translate(u,p).translate(n,r);if(this.option("zoom")){if(!_){const q=this.targetScale,K=this.minScale,Q=this.maxScale;q*a<K&&(a=K/q),q*a>Q&&(a=Q/q)}L=L.scale(a)}L=L.translate(-u,-p).translate(-R,-A).multiply(M),l&&(L=L.rotate(l)),b&&(L=L.scale(-1,1)),m&&(L=L.scale(1,-1));for(const q of Is)q!=="e"&&q!=="f"&&(L[q]>this.minScale+1e-5||L[q]<this.minScale-1e-5)?this.target[q]=L[q]:this.target[q]=xe(L[q],Zf);(this.targetScale<this.scale||Math.abs(a-1)>.1||this.panMode===Ji||E===!1)&&!_&&this.clampTargetBounds(),x===Wn.Init?this.animate():this.isResting||(this.state=Wn.Panning,this.requestTick())}stop(n=!1){if(this.state===Wn.Init||this.state===Wn.Destroy)return;const r=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(const a of Is)this.velocity[a]=0,n==="current"?this.current[a]=this.target[a]:n==="target"&&(this.target[a]=this.current[a]);this.setTransform(),Bn(this.container,"is-scaling"),Bn(this.container,"is-animating"),this.isTicking=!1,this.state=Wn.Ready,r&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),Ve(this.container,"is-animating"),this.isScaling&&Ve(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(n,r=this.option("mouseMoveFriction")){if(this.pmme=n,this.panMode!==Ji||!n||xe(this.targetScale)<=xe(this.minScale))return;this.emit("mouseMove",n);const{container:a,containerRect:l,contentRect:u}=this,p=l.width,g=l.height,b=a.getBoundingClientRect(),m=(n.clientX||0)-b.left,_=(n.clientY||0)-b.top;let{contentWidth:E,contentHeight:x}=this.calculateContentDim(this.target);const k=this.option("mouseMoveFactor");k>1&&(E!==p&&(E*=k),x!==g&&(x*=k));let R=.5*(E-p)-m/p*100/100*(E-p);R+=.5*(u.right-u.left);let A=.5*(x-g)-_/g*100/100*(x-g);A+=.5*(u.bottom-u.top),this.applyChange({panX:R-this.target.e,panY:A-this.target.f,friction:r})}zoomWithWheel(n){if(this.state===Wn.Destroy||this.state===Wn.Init)return;const r=Date.now();if(r-this.pwt<45)return void n.preventDefault();this.pwt=r;var a=[-n.deltaX||0,-n.deltaY||0,-n.detail||0].reduce(function(m,_){return Math.abs(_)>Math.abs(m)?_:m});const l=Math.max(-1,Math.min(1,a)),{targetScale:u,maxScale:p,minScale:g}=this;let b=u*(100+45*l)/100;xe(b)<xe(g)&&xe(u)<=xe(g)?(this.cwd+=Math.abs(l),b=g):xe(b)>xe(p)&&xe(u)>=xe(p)?(this.cwd+=Math.abs(l),b=p):(this.cwd=0,b=Math.max(Math.min(b,p),g)),this.cwd>this.option("wheelLimit")||(n.preventDefault(),xe(b)!==xe(u)&&this.zoomTo(b,{event:n}))}canZoomIn(){return this.option("zoom")&&(xe(this.contentRect.width,1)<xe(this.contentRect.fitWidth,1)||xe(this.targetScale)<xe(this.maxScale))}canZoomOut(){return this.option("zoom")&&xe(this.targetScale)>xe(this.minScale)}zoomIn(n=1.25,r){this.zoomTo(this.targetScale*n,r)}zoomOut(n=.8,r){this.zoomTo(this.targetScale*n,r)}zoomToFit(n){this.zoomTo("fit",n)}zoomToCover(n){this.zoomTo("cover",n)}zoomToFull(n){this.zoomTo("full",n)}zoomToMax(n){this.zoomTo("max",n)}toggleZoom(n){this.zoomTo(this.getNextScale("toggleZoom"),n)}toggleMax(n){this.zoomTo(this.getNextScale("toggleMax"),n)}toggleCover(n){this.zoomTo(this.getNextScale("toggleCover"),n)}iterateZoom(n){this.zoomTo("next",n)}zoomTo(n=1,{friction:r=eo,originX:a=eo,originY:l=eo,event:u}={}){if(this.isContentLoading||this.state===Wn.Destroy)return;const{targetScale:p,fullScale:g,maxScale:b,coverScale:m}=this;if(this.stop(),this.panMode===Ji&&(u=this.pmme||u),u||a===eo||l===eo){const E=this.content.getBoundingClientRect(),x=this.container.getBoundingClientRect(),k=u?u.clientX:x.left+.5*x.width,R=u?u.clientY:x.top+.5*x.height;a=k-E.left-.5*E.width,l=R-E.top-.5*E.height}let _=1;typeof n=="number"?_=n:n==="full"?_=g:n==="cover"?_=m:n==="max"?_=b:n==="fit"?_=1:n==="next"&&(_=this.getNextScale("iterateZoom")),_=_/p||1,r=r===eo?_>1?.15:.25:r,this.applyChange({scale:_,originX:a,originY:l,friction:r}),u&&this.panMode===Ji&&this.panWithMouse(u,r)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");const{containerRect:n,contentRect:r,target:a}=this;this.applyChange({panX:.5*n.width-(r.left+.5*r.fitWidth)-a.e,panY:.5*n.height-(r.top+.5*r.fitHeight)-a.f,scale:n.width/r.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");const{containerRect:n,contentRect:r,target:a}=this;this.applyChange({panX:.5*n.width-(r.left+.5*r.fitWidth)-a.e,panY:.5*n.innerHeight-(r.top+.5*r.fitHeight)-a.f,scale:n.height/r.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){const{container:n}=this,r=this.cn("inFullscreen"),a=this.cn("htmlHasFullscreen");n.classList.toggle(r);const l=n.classList.contains(r);l?(document.documentElement.classList.add(a),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(a),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(l?"enterFS":"exitFS")}getMatrix(n=this.current){const{a:r,b:a,c:l,d:u,e:p,f:g}=n;return new DOMMatrix([r,a,l,u,p,g])}reset(n){if(this.state!==Wn.Init&&this.state!==Wn.Destroy){this.stop("current");for(const r of Is)this.target[r]=Xf[r];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=n===void 0?this.option("friction"):n,this.state=Wn.Panning,this.requestTick())}}destroy(){this.stop(),this.state=Wn.Destroy,this.detachEvents(),this.detachObserver();const{container:n,content:r}=this,a=this.option("classes")||{};for(const l of Object.values(a))n.classList.remove(l+"");r&&(r.removeEventListener("load",this.onLoad),r.removeEventListener("error",this.onError)),this.detachPlugins()}}Object.defineProperty(_l,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:bw}),Object.defineProperty(_l,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});const Vm=function(f,n){let r=!0;return(...a)=>{r&&(r=!1,f(...a),setTimeout(()=>{r=!0},n))}},Ym=(f,n)=>{let r=[];return f.childNodes.forEach(a=>{a.nodeType!==Node.ELEMENT_NODE||n&&!a.matches(n)||r.push(a)}),r},_w={viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}};var It;(function(f){f[f.Init=0]="Init",f[f.Ready=1]="Ready",f[f.Destroy=2]="Destroy"})(It||(It={}));const Rh=f=>{if(typeof f=="string"||f instanceof HTMLElement)f={html:f};else{const n=f.thumb;n!==void 0&&(typeof n=="string"&&(f.thumbSrc=n),n instanceof HTMLImageElement&&(f.thumbEl=n,f.thumbElSrc=n.src,f.thumbSrc=n.src),delete f.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},f)},Ew=(f={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},f);class Co extends gp{constructor(n,r){super(r),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:n})}attach(){}detach(){}}const ww={classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2};class zb extends Co{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let n=this.list;if(!n){n=document.createElement("ul"),Ve(n,this.cn("list")),n.setAttribute("role","tablist");const r=this.instance.container;r.appendChild(n),Ve(r,this.cn("hasDots")),this.list=n}return n}refresh(){var n;const r=this.instance.pages.length,a=Math.min(2,this.option("minCount")),l=Math.max(2e3,this.option("maxCount")),u=this.option("dynamicFrom");if(r<a||r>l)return void this.cleanup();const p=typeof u=="number"&&r>5&&r>=u,g=!this.list||this.isDynamic!==p||this.list.children.length!==r;g&&this.cleanup();const b=this.build();if(is(b,this.cn("isDynamic"),!!p),g)for(let E=0;E<r;E++)b.append(this.createItem(E));let m,_=0;for(const E of[...b.children]){const x=_===this.instance.page;x&&(m=E),is(E,this.cn("isCurrent"),x),(n=E.children[0])===null||n===void 0||n.setAttribute("aria-selected",x?"true":"false");for(const k of["isBeforePrev","isPrev","isNext","isAfterNext"])Bn(E,this.cn(k));_++}if(m=m||b.firstChild,p&&m){const E=m.previousElementSibling,x=E&&E.previousElementSibling;Ve(E,this.cn("isPrev")),Ve(x,this.cn("isBeforePrev"));const k=m.nextElementSibling,R=k&&k.nextElementSibling;Ve(k,this.cn("isNext")),Ve(R,this.cn("isAfterNext"))}this.isDynamic=p}createItem(n=0){var r;const a=document.createElement("li");a.setAttribute("role","presentation");const l=rs(this.instance.localize(this.option("dotTpl"),[["%d",n+1]]).replace(/\%i/g,n+""));return a.appendChild(l),(r=a.children[0])===null||r===void 0||r.setAttribute("role","tab"),a}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,Bn(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(zb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ww});const Qf="disabled",Jf="next",Xm="prev";class Bb extends Co{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){const n=this.instance,r=n.pages.length,a=n.page;if(r<2)return void this.cleanup();this.build();let l=this.prev,u=this.next;l&&u&&(l.removeAttribute(Qf),u.removeAttribute(Qf),n.isInfinite||(a<=0&&l.setAttribute(Qf,""),a>=r-1&&u.setAttribute(Qf,"")))}addBtn(n){var r;const a=this.instance,l=document.createElement("button");l.setAttribute("tabindex","0"),l.setAttribute("title",a.localize(`{{${n.toUpperCase()}}}`)),Ve(l,this.cn("button")+" "+this.cn(n===Jf?"isNext":"isPrev"));const u=a.isRTL?n===Jf?Xm:Jf:n;var p;return l.innerHTML=a.localize(this.option(`${u}Tpl`)),l.dataset[`carousel${p=n,p?p.match("^[a-z]")?p.charAt(0).toUpperCase()+p.substring(1):p:""}`]="true",(r=this.container)===null||r===void 0||r.appendChild(l),l}build(){const n=this.instance.container,r=this.cn("container");let{container:a,prev:l,next:u}=this;a||(a=n.querySelector("."+r),this.isDom=!!a),a||(a=document.createElement("div"),Ve(a,r),n.appendChild(a)),this.container=a,u||(u=a.querySelector("[data-carousel-next]")),u||(u=this.addBtn(Jf)),this.next=u,l||(l=a.querySelector("[data-carousel-prev]")),l||(l=this.addBtn(Xm)),this.prev=l}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}Object.defineProperty(Bb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});class Fb extends Co{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(n){this.target=this.instance,this.nav=n,this.attachEvents()}addAsNavFor(n){this.nav=this.instance,this.target=n,this.attachEvents()}attachEvents(){const{nav:n,target:r}=this;n&&r&&(n.options.initialSlide=r.options.initialPage,n.state===It.Ready?this.onNavReady(n):n.on("ready",this.onNavReady),r.state===It.Ready?this.onTargetReady(r):r.on("ready",this.onTargetReady))}onNavReady(n){n.on("createSlide",this.onNavCreateSlide),n.on("Panzoom.click",this.onNavClick),n.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(n){n.on("change",this.onTargetChange),n.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(n,r,a){this.onNavTouch(n,n.panzoom,a)}onNavTouch(n,r,a){var l,u;if(Math.abs(r.dragOffset.x)>3||Math.abs(r.dragOffset.y)>3)return;const p=a.target,{nav:g,target:b}=this;if(!g||!b||!p)return;const m=p.closest("[data-index]");if(a.stopPropagation(),a.preventDefault(),!m)return;const _=parseInt(m.dataset.index||"",10)||0,E=b.getPageForSlide(_),x=g.getPageForSlide(_);g.slideTo(x),b.slideTo(E,{friction:((u=(l=this.nav)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.Sync.option("friction"))||0}),this.markSelectedSlide(_)}onNavCreateSlide(n,r){r.index===this.selectedIndex&&this.markSelectedSlide(r.index)}onTargetChange(){var n,r;const{target:a,nav:l}=this;if(!a||!l||l.state!==It.Ready||a.state!==It.Ready)return;const u=(r=(n=a.pages[a.page])===null||n===void 0?void 0:n.slides[0])===null||r===void 0?void 0:r.index,p=l.getPageForSlide(u);this.markSelectedSlide(u),l.slideTo(p,l.prevPage===null&&a.prevPage===null?{friction:0}:void 0)}markSelectedSlide(n){const r=this.nav;r&&r.state===It.Ready&&(this.selectedIndex=n,[...r.slides].map(a=>{a.el&&a.el.classList[a.index===n?"add":"remove"]("is-nav-selected")}))}attach(){const n=this;let r=n.options.target,a=n.options.nav;r?n.addAsNavFor(r):a&&n.addAsTargetFor(a)}detach(){const n=this,r=n.nav,a=n.target;r&&(r.off("ready",n.onNavReady),r.off("createSlide",n.onNavCreateSlide),r.off("Panzoom.click",n.onNavClick),r.off("Panzoom.touchEnd",n.onNavTouch)),n.nav=null,a&&(a.off("ready",n.onTargetReady),a.off("refresh",n.onTargetChange),a.off("change",n.onTargetChange)),n.target=null}}Object.defineProperty(Fb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});const Sw={Navigation:Bb,Dots:zb,Sync:Fb},ep="animationend",Zm="isSelected",np="slide";class yl extends Vg{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===It.Ready}get isInfinite(){let n=!1;const{contentDim:r,viewportDim:a,pages:l,slides:u}=this,p=u[0];return l.length>=2&&p&&r+p.dim>=a&&(n=this.option("infinite")),n}get isRTL(){return this.option("direction")==="rtl"}get isHorizontal(){return this.option("axis")==="x"}constructor(n,r={},a={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:It.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),typeof n=="string"&&(n=document.querySelector(n)),!n||!mi(n))throw new Error("No Element found");this.container=n,this.slideNext=Vm(this.slideNext.bind(this),150),this.slidePrev=Vm(this.slidePrev.bind(this),150),this.userOptions=r,this.userPlugins=a,queueMicrotask(()=>{this.processOptions()})}processOptions(){var n,r;const a=vi({},yl.defaults,this.userOptions);let l="";const u=a.breakpoints;if(u&&Lg(u))for(const[p,g]of Object.entries(u))window.matchMedia(p).matches&&Lg(g)&&(l+=p,vi(a,g));l===this.bp&&this.state!==It.Init||(this.bp=l,this.state===It.Ready&&(a.initialSlide=((r=(n=this.pages[this.page])===null||n===void 0?void 0:n.slides[0])===null||r===void 0?void 0:r.index)||0),this.state!==It.Init&&this.destroy(),super.setOptions(a),this.option("enabled")===!1?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=It.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},yl.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=It.Ready,this.emit("ready")}initLayout(){const{container:n}=this,r=this.option("classes");Ve(n,this.cn("container")),is(n,r.isLTR,!this.isRTL),is(n,r.isRTL,this.isRTL),is(n,r.isVertical,!this.isHorizontal),is(n,r.isHorizontal,this.isHorizontal);let a=this.option("viewport")||n.querySelector(`.${r.viewport}`);a||(a=document.createElement("div"),Ve(a,r.viewport),a.append(...Ym(n,`.${r.slide}`)),n.prepend(a)),a.addEventListener("scroll",this.onScroll);let l=this.option("track")||n.querySelector(`.${r.track}`);l||(l=document.createElement("div"),Ve(l,r.track),l.append(...Array.from(a.childNodes))),l.setAttribute("aria-live","polite"),a.contains(l)||a.prepend(l),this.viewport=a,this.track=l,this.emit("initLayout")}initSlides(){const{track:n}=this;if(!n)return;const r=[...this.slides],a=[];[...Ym(n,`.${this.cn(np)}`)].forEach(l=>{if(mi(l)){const u=Rh({el:l,isDom:!0,index:this.slides.length});a.push(u)}});for(let l of[...this.option("slides",[])||[],...r])a.push(Rh(l));this.slides=a;for(let l=0;l<this.slides.length;l++)this.slides[l].index=l;for(const l of a)this.emit("beforeInitSlide",l,l.index),this.emit("initSlide",l,l.index);this.emit("initSlides")}setInitialPage(){const n=this.option("initialSlide");this.page=typeof n=="number"?this.getPageForSlide(n):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){const{track:n,pages:r,isHorizontal:a}=this;if(!n||!r.length)return;let l=this.page;r[l]||(this.page=l=0);const u=(r[l].pos||0)*(this.isRTL&&a?1:-1),p=a?`${u}px`:"0",g=a?"0":`${u}px`;n.style.transform=`translate3d(${p}, ${g}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);const n=this.option("Panzoom")||{};this.panzoom=new _l(this.viewport,vi({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:r=>!(this.pages.length<2&&!r.options.infinite),bounds:()=>this.getBounds(),maxVelocity:r=>Math.abs(r.target[this.axis]-r.current[this.axis])<2*this.viewportDim?100:0},n)),this.panzoom.on("*",(r,a,...l)=>{this.emit(`Panzoom.${a}`,r,...l)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){const n=this.container;n&&(n.addEventListener("click",this.onClick,{passive:!1,capture:!1}),n.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let n=[];const{contentDim:r,viewportDim:a}=this;let l=this.option("slidesPerPage");l=(l==="auto"||r<=a)&&this.option("fill")!==!1?1/0:parseFloat(l+"");let u=0,p=0,g=0;for(const b of this.slides)(!n.length||p+b.dim-a>.05||g>=l)&&(n.push(Ew()),u=n.length-1,p=0,g=0),n[u].slides.push(b),p+=b.dim+b.gap,g++;return n}processPages(){const n=this.pages,{contentDim:r,viewportDim:a,isInfinite:l}=this,u=this.option("center"),p=this.option("fill"),g=p&&u&&r>a&&!l;if(n.forEach((_,E)=>{var x;_.index=E,_.pos=((x=_.slides[0])===null||x===void 0?void 0:x.pos)||0,_.dim=0;for(const[k,R]of _.slides.entries())_.dim+=R.dim,k<_.slides.length-1&&(_.dim+=R.gap);g&&_.pos+.5*_.dim<.5*a?_.pos=0:g&&_.pos+.5*_.dim>=r-.5*a?_.pos=r-a:u&&(_.pos+=-.5*(a-_.dim))}),n.forEach(_=>{p&&!l&&r>a&&(_.pos=Math.max(_.pos,0),_.pos=Math.min(_.pos,r-a)),_.pos=xe(_.pos,1e3),_.dim=xe(_.dim,1e3),Math.abs(_.pos)<=.1&&(_.pos=0)}),l)return n;const b=[];let m;return n.forEach(_=>{const E=Object.assign({},_);m&&E.pos===m.pos?(m.dim+=E.dim,m.slides=[...m.slides,...E.slides]):(E.index=b.length,m=E,b.push(E))}),b}getPageFromIndex(n=0){const r=this.pages.length;let a;return n=parseInt((n||0).toString())||0,a=this.isInfinite?(n%r+r)%r:Math.max(Math.min(n,r-1),0),a}getSlideMetrics(n){var r,a;const l=this.isHorizontal?"width":"height";let u=0,p=0,g=n.el;const b=!(!g||g.parentNode);if(g?u=parseFloat(g.dataset[l]||"")||0:(g=document.createElement("div"),g.style.visibility="hidden",(this.track||document.body).prepend(g)),Ve(g,this.cn(np)+" "+n.class+" "+n.customClass),u)g.style[l]=`${u}px`,g.style[l==="width"?"height":"width"]="";else{b&&(this.track||document.body).prepend(g),u=g.getBoundingClientRect()[l]*Math.max(1,((r=window.visualViewport)===null||r===void 0?void 0:r.scale)||1);let _=g[this.isHorizontal?"offsetWidth":"offsetHeight"];_-1>u&&(u=_)}const m=getComputedStyle(g);return m.boxSizing==="content-box"&&(this.isHorizontal?(u+=parseFloat(m.paddingLeft)||0,u+=parseFloat(m.paddingRight)||0):(u+=parseFloat(m.paddingTop)||0,u+=parseFloat(m.paddingBottom)||0)),p=parseFloat(m[this.isHorizontal?"marginRight":"marginBottom"])||0,b?(a=g.parentElement)===null||a===void 0||a.removeChild(g):n.el||g.remove(),{dim:xe(u,1e3),gap:xe(p,1e3)}}getBounds(){const{isInfinite:n,isRTL:r,isHorizontal:a,pages:l}=this;let u={min:0,max:0};if(n)u={min:-1/0,max:1/0};else if(l.length){const p=l[0].pos,g=l[l.length-1].pos;u=r&&a?{min:p,max:g}:{min:-1*g,max:-1*p}}return{x:a?u:{min:0,max:0},y:a?{min:0,max:0}:u}}repositionSlides(){let n,{isHorizontal:r,isRTL:a,isInfinite:l,viewport:u,viewportDim:p,contentDim:g,page:b,pages:m,slides:_,panzoom:E}=this,x=0,k=0,R=0,A=0;E?A=-1*E.current[this.axis]:m[b]&&(A=m[b].pos||0),n=r?a?"right":"left":"top",a&&r&&(A*=-1);for(const K of _){const Q=K.el;Q?(n==="top"?(Q.style.right="",Q.style.left=""):Q.style.top="",K.index!==x?Q.style[n]=k===0?"":`${xe(k,1e3)}px`:Q.style[n]="",R+=K.dim+K.gap,x++):k+=K.dim+K.gap}if(l&&R&&u){let K=getComputedStyle(u),Q="padding",ue=r?"Right":"Bottom",_e=parseFloat(K[Q+(r?"Left":"Top")]);A-=_e,p+=_e,p+=parseFloat(K[Q+ue]);for(const he of _)he.el&&(xe(he.pos)<xe(p)&&xe(he.pos+he.dim+he.gap)<xe(A)&&xe(A)>xe(g-p)&&(he.el.style[n]=`${xe(k+R,1e3)}px`),xe(he.pos+he.gap)>=xe(g-p)&&xe(he.pos)>xe(A+p)&&xe(A)<xe(p)&&(he.el.style[n]=`-${xe(R,1e3)}px`))}let M,L,q=[...this.inTransition];if(q.length>1&&(M=m[q[0]],L=m[q[1]]),M&&L){let K=0;for(const Q of _)Q.el?this.inTransition.has(Q.index)&&M.slides.indexOf(Q)<0&&(Q.el.style[n]=`${xe(K+(M.pos-L.pos),1e3)}px`):K+=Q.dim+Q.gap}}createSlideEl(n){const{track:r,slides:a}=this;if(!r||!n||n.el&&n.el.parentNode)return;const l=n.el||document.createElement("div");Ve(l,this.cn(np)),Ve(l,n.class),Ve(l,n.customClass);const u=n.html;u&&(u instanceof HTMLElement?l.appendChild(u):l.innerHTML=n.html+"");const p=[];a.forEach((_,E)=>{_.el&&p.push(E)});const g=n.index;let b=null;p.length&&(b=a[p.reduce((_,E)=>Math.abs(E-g)<Math.abs(_-g)?E:_)]);const m=b&&b.el&&b.el.parentNode?b.index<n.index?b.el.nextSibling:b.el:null;r.insertBefore(l,r.contains(m)?m:null),n.el=l,this.emit("createSlide",n)}removeSlideEl(n,r=!1){const a=n==null?void 0:n.el;if(!a||!a.parentNode)return;const l=this.cn(Zm);if(a.classList.contains(l)&&(Bn(a,l),this.emit("unselectSlide",n)),n.isDom&&!r)return a.removeAttribute("aria-hidden"),a.removeAttribute("data-index"),void(a.style.left="");this.emit("removeSlide",n);const u=new CustomEvent(ep);a.dispatchEvent(u),n.el&&(n.el.remove(),n.el=null)}transitionTo(n=0,r=this.option("transition")){var a,l,u,p;if(!r)return!1;const g=this.page,{pages:b,panzoom:m}=this;n=parseInt((n||0).toString())||0;const _=this.getPageFromIndex(n);if(!m||!b[_]||b.length<2||Math.abs((((l=(a=b[g])===null||a===void 0?void 0:a.slides[0])===null||l===void 0?void 0:l.dim)||0)-this.viewportDim)>1)return!1;let E=n>g?1:-1;this.isInfinite&&(g===0&&n===b.length-1&&(E=-1),g===b.length-1&&n===0&&(E=1));const x=b[_].pos*(this.isRTL?1:-1);if(g===_&&Math.abs(x-m.target[this.axis])<1)return!1;this.clearTransitions();const k=m.isResting;Ve(this.container,this.cn("inTransition"));const R=((u=b[g])===null||u===void 0?void 0:u.slides[0])||null,A=((p=b[_])===null||p===void 0?void 0:p.slides[0])||null;this.inTransition.add(A.index),this.createSlideEl(A);let M=R.el,L=A.el;k||r===np||(r="fadeFast",M=null);const q=this.isRTL?"next":"prev",K=this.isRTL?"prev":"next";return M&&(this.inTransition.add(R.index),R.transition=r,M.addEventListener(ep,this.onAnimationEnd),M.classList.add(`f-${r}Out`,`to-${E>0?K:q}`)),L&&(A.transition=r,L.addEventListener(ep,this.onAnimationEnd),L.classList.add(`f-${r}In`,`from-${E>0?q:K}`)),m.current[this.axis]=x,m.target[this.axis]=x,m.requestTick(),this.onChange(_),!0}manageSlideVisiblity(){const n=new Set,r=new Set,a=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(const l of this.slides)a.has(l)?n.add(l):r.add(l);for(const l of this.inTransition)n.add(this.slides[l]);for(const l of n)this.createSlideEl(l),this.lazyLoadSlide(l);for(const l of r)n.has(l)||this.removeSlideEl(l);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;const n="aria-hidden";let r=this.cn(Zm);if(r)for(const a of this.slides){const l=a.el;l&&(l.dataset.index=`${a.index}`,l.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(a)?l.removeAttribute(n):l.setAttribute(n,"true"):this.pages[this.page].slides.includes(a)?(l.classList.contains(r)||(Ve(l,r),this.emit("selectSlide",a)),l.removeAttribute(n)):(l.classList.contains(r)&&(Bn(l,r),this.emit("unselectSlide",a)),l.setAttribute(n,"true")))}}flipInfiniteTrack(){const{axis:n,isHorizontal:r,isInfinite:a,isRTL:l,viewportDim:u,contentDim:p}=this,g=this.panzoom;if(!g||!a)return;let b=g.current[n],m=g.target[n]-b,_=0,E=.5*u;l&&r?(b<-E&&(_=-1,b+=p),b>p-E&&(_=1,b-=p)):(b>E&&(_=1,b-=p),b<-p+E&&(_=-1,b+=p)),_&&(g.current[n]=b,g.target[n]=b+m)}lazyLoadImg(n,r){const a=this,l="f-fadeIn",u="is-preloading";let p=!1,g=null;const b=()=>{p||(p=!0,g&&(g.remove(),g=null),Bn(r,u),r.complete&&(Ve(r,l),setTimeout(()=>{Bn(r,l)},350)),this.option("adaptiveHeight")&&n.el&&this.pages[this.page].slides.indexOf(n)>-1&&(a.updateMetrics(),a.setViewportHeight()),this.emit("load",n))};Ve(r,u),r.src=r.dataset.lazySrcset||r.dataset.lazySrc||"",delete r.dataset.lazySrc,delete r.dataset.lazySrcset,r.addEventListener("error",()=>{b()}),r.addEventListener("load",()=>{b()}),setTimeout(()=>{const m=r.parentNode;m&&n.el&&(r.complete?b():p||(g=rs(Yg),m.insertBefore(g,r)))},300)}lazyLoadSlide(n){const r=n&&n.el;if(!r)return;const a=new Set;let l=Array.from(r.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));r.dataset.lazySrc&&l.push(r),l.map(u=>{u instanceof HTMLImageElement?a.add(u):u instanceof HTMLElement&&u.dataset.lazySrc&&(u.style.backgroundImage=`url('${u.dataset.lazySrc}')`,delete u.dataset.lazySrc)});for(const u of a)this.lazyLoadImg(n,u)}onAnimationEnd(n){var r;const a=n.target,l=a?parseInt(a.dataset.index||"",10)||0:-1,u=this.slides[l],p=n.animationName;if(!a||!u||!p)return;const g=!!this.inTransition.has(l)&&u.transition;g&&p.substring(0,g.length+2)===`f-${g}`&&this.inTransition.delete(l),this.inTransition.size||this.clearTransitions(),l===this.page&&(!((r=this.panzoom)===null||r===void 0)&&r.isResting)&&this.emit("settle")}onDecel(n,r=0,a=0,l=0,u=0){if(this.option("dragFree"))return void this.setPageFromPosition();const{isRTL:p,isHorizontal:g,axis:b,pages:m}=this,_=m.length,E=Math.abs(Math.atan2(a,r)/(Math.PI/180));let x=0;if(x=E>45&&E<135?g?0:a:g?r:0,!_)return;let k=this.page,R=p&&g?1:-1;const A=n.current[b]*R;let{pageIndex:M}=this.getPageFromPosition(A);Math.abs(x)>5?(m[k].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(k=M),k=p&&g?x<0?k-1:k+1:x<0?k+1:k-1):k=l===0&&u===0?k:M,this.slideTo(k,{transition:!1,friction:n.option("decelFriction")})}onClick(n){const r=n.target,a=r&&mi(r)?r.dataset:null;let l,u;a&&(a.carouselPage!==void 0?(u="slideTo",l=a.carouselPage):a.carouselNext!==void 0?u="slideNext":a.carouselPrev!==void 0&&(u="slidePrev")),u?(n.preventDefault(),n.stopPropagation(),r&&!r.hasAttribute("disabled")&&this[u](l)):this.emit("click",n)}onSlideTo(n){const r=n.detail||0;this.slideTo(this.getPageForSlide(r),{friction:0})}onChange(n,r=0){const a=this.page;this.prevPage=a,this.page=n,this.option("adaptiveHeight")&&this.setViewportHeight(),n!==a&&(this.markSelectedSlides(),this.emit("change",n,a,r))}onRefresh(){let n=this.contentDim,r=this.viewportDim;this.updateMetrics(),this.contentDim===n&&this.viewportDim===r||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var n;(n=this.viewport)===null||n===void 0||n.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(n){this.lp!==n.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=n.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(n=null,r=null){this.destroy(),this.state=It.Init,this.prevPage=null,this.userOptions=n||this.userOptions,this.userPlugins=r||this.userPlugins,this.processOptions()}slideTo(n=0,{friction:r=this.option("friction"),transition:a=this.option("transition")}={}){if(this.state===It.Destroy)return;n=parseInt((n||0).toString())||0;const l=this.getPageFromIndex(n),{axis:u,isHorizontal:p,isRTL:g,pages:b,panzoom:m}=this,_=b.length,E=g&&p?1:-1;if(!m||!_)return;if(this.page!==l){const k=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",k,n),k.defaultPrevented)return}if(this.transitionTo(n,a))return;let x=b[l].pos;if(this.isInfinite){const k=this.contentDim,R=m.target[u]*E;_===2?x+=k*Math.floor(parseFloat(n+"")/2):x=[x,x-k,x+k].reduce(function(A,M){return Math.abs(M-R)<Math.abs(A-R)?M:A})}x*=E,Math.abs(m.target[u]-x)<1||(m.panTo({x:p?x:0,y:p?0:x,friction:r}),this.onChange(l))}slideToClosest(n){if(this.panzoom){const{pageIndex:r}=this.getPageFromPosition();this.slideTo(r,n)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),Bn(this.container,this.cn("inTransition"));const n=["to-prev","to-next","from-prev","from-next"];for(const r of this.slides){const a=r.el;if(a){a.removeEventListener(ep,this.onAnimationEnd),a.classList.remove(...n);const l=r.transition;l&&a.classList.remove(`f-${l}Out`,`f-${l}In`)}}this.manageSlideVisiblity()}addSlide(n,r){var a,l,u,p;const g=this.panzoom,b=((a=this.pages[this.page])===null||a===void 0?void 0:a.pos)||0,m=((l=this.pages[this.page])===null||l===void 0?void 0:l.dim)||0,_=this.contentDim<this.viewportDim;let E=Array.isArray(r)?r:[r];const x=[];for(const k of E)x.push(Rh(k));this.slides.splice(n,0,...x);for(let k=0;k<this.slides.length;k++)this.slides[k].index=k;for(const k of x)this.emit("beforeInitSlide",k,k.index);if(this.page>=n&&(this.page+=x.length),this.updateMetrics(),g){const k=((u=this.pages[this.page])===null||u===void 0?void 0:u.pos)||0,R=((p=this.pages[this.page])===null||p===void 0?void 0:p.dim)||0,A=this.pages.length||1,M=this.isRTL?m-R:R-m,L=this.isRTL?b-k:k-b;_&&A===1?(n<=this.page&&(g.current[this.axis]-=M,g.target[this.axis]-=M),g.panTo({[this.isHorizontal?"x":"y"]:-1*k})):L&&n<=this.page&&(g.target[this.axis]-=L,g.current[this.axis]-=L,g.requestTick())}for(const k of x)this.emit("initSlide",k,k.index)}prependSlide(n){this.addSlide(0,n)}appendSlide(n){this.addSlide(this.slides.length,n)}removeSlide(n){const r=this.slides.length;n=(n%r+r)%r;const a=this.slides[n];if(a){this.removeSlideEl(a,!0),this.slides.splice(n,1);for(let l=0;l<this.slides.length;l++)this.slides[l].index=l;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",a)}}updateMetrics(){const{panzoom:n,viewport:r,track:a,slides:l,isHorizontal:u,isInfinite:p}=this;if(!a)return;const g=u?"width":"height",b=u?"offsetWidth":"offsetHeight";if(r){let E=Math.max(r[b],xe(r.getBoundingClientRect()[g],1e3)),x=getComputedStyle(r),k="padding",R=u?"Right":"Bottom";E-=parseFloat(x[k+(u?"Left":"Top")])+parseFloat(x[k+R]),this.viewportDim=E}let m,_=0;for(const[E,x]of l.entries()){let k=0,R=0;!x.el&&m?(k=m.dim,R=m.gap):({dim:k,gap:R}=this.getSlideMetrics(x),m=x),k=xe(k,1e3),R=xe(R,1e3),x.dim=k,x.gap=R,x.pos=_,_+=k,(p||E<l.length-1)&&(_+=R)}_=xe(_,1e3),this.contentDim=_,n&&(n.contentRect[g]=_,n.contentRect[u?"fullWidth":"fullHeight"]=_),this.pages=this.createPages(),this.pages=this.processPages(),this.state===It.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(n,r=!1,a=!1){n===void 0&&(n=this.page);const l=this,u=l.panzoom,p=l.contentDim,g=l.pages[n]||0;if(!g||!u)return n>this.page?-1:1;let b=-1*u.current.e,m=xe((b-g.pos)/(1*g.dim),1e3),_=m,E=m;this.isInfinite&&a!==!0&&(_=xe((b-g.pos+p)/(1*g.dim),1e3),E=xe((b-g.pos-p)/(1*g.dim),1e3));let x=[m,_,E].reduce(function(k,R){return Math.abs(R)<Math.abs(k)?R:k});return r?x:x>1?1:x<-1?-1:x}setViewportHeight(){const{page:n,pages:r,viewport:a,isHorizontal:l}=this;if(!a||!r[n])return;let u=0;l&&this.track&&(this.track.style.height="auto",r[n].slides.forEach(p=>{p.el&&(u=Math.max(u,p.el.offsetHeight))})),a.style.height=u?`${u}px`:""}getPageForSlide(n){for(const r of this.pages)for(const a of r.slides)if(a.index===n)return r.index;return-1}getVisibleSlides(n=0){var r;const a=new Set;let{panzoom:l,contentDim:u,viewportDim:p,pages:g,page:b}=this;if(p){u=u+((r=this.slides[this.slides.length-1])===null||r===void 0?void 0:r.gap)||0;let m=0;m=l&&l.state!==Wn.Init&&l.state!==Wn.Destroy?-1*l.current[this.axis]:g[b]&&g[b].pos||0,this.isInfinite&&(m-=Math.floor(m/u)*u),this.isRTL&&this.isHorizontal&&(m*=-1);const _=m-p*n,E=m+p*(n+1),x=this.isInfinite?[-1,0,1]:[0];for(const k of this.slides)for(const R of x){const A=k.pos+R*u,M=A+k.dim+k.gap;A<E&&M>_&&a.add(k)}}return a}getPageFromPosition(n){const{viewportDim:r,contentDim:a,slides:l,pages:u,panzoom:p}=this,g=u.length,b=l.length,m=l[0],_=l[b-1],E=this.option("center");let x=0,k=0,R=0,A=n===void 0?-1*((p==null?void 0:p.target[this.axis])||0):n;E&&(A+=.5*r),this.isInfinite?(A<m.pos-.5*_.gap&&(A-=a,R=-1),A>_.pos+_.dim+.5*_.gap&&(A-=a,R=1)):A=Math.max(m.pos||0,Math.min(A,_.pos));let M=_,L=l.find(q=>{const K=q.pos-.5*M.gap,Q=q.pos+q.dim+.5*q.gap;return M=q,A>=K&&A<Q});return L||(L=_),k=this.getPageForSlide(L.index),x=k+R*g,{page:x,pageIndex:k}}setPageFromPosition(){const{pageIndex:n}=this.getPageFromPosition();this.onChange(n)}destroy(){if([It.Destroy].includes(this.state))return;this.state=It.Destroy;const{container:n,viewport:r,track:a,slides:l,panzoom:u}=this,p=this.option("classes");n.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),n.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),u&&(u.destroy(),this.panzoom=null),l&&l.forEach(b=>{this.removeSlideEl(b)}),this.detachPlugins(),r&&(r.removeEventListener("scroll",this.onScroll),r.offsetParent&&a&&a.offsetParent&&r.replaceWith(...a.childNodes));for(const[b,m]of Object.entries(p))b!=="container"&&m&&n.classList.remove(m);this.track=null,this.viewport=null,this.page=0,this.slides=[];const g=this.events.get("ready");this.events=new Map,g&&this.events.set("ready",g)}}Object.defineProperty(yl,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:_l}),Object.defineProperty(yl,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:_w}),Object.defineProperty(yl,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Sw});const Ub=function(f){if(!mi(f))return 0;const n=window.scrollY,r=window.innerHeight,a=n+r,l=f.getBoundingClientRect(),u=l.y+n,p=l.height,g=u+p;if(n>g||a<u)return 0;if(n<u&&a>g||u<n&&g>a)return 100;let b=p;u<n&&(b-=n-u),g>a&&(b-=g-a);const m=b/r*100;return Math.round(m)},kd=!(typeof window>"u"||!window.document||!window.document.createElement);let Ah;const Mh=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),Qm=f=>{if(f&&kd){Ah===void 0&&document.createElement("div").focus({get preventScroll(){return Ah=!0,!1}});try{if(Ah)f.focus({preventScroll:!0});else{const n=window.scrollY||document.body.scrollTop,r=window.scrollX||document.body.scrollLeft;f.focus(),document.body.scrollTo({top:n,left:r,behavior:"auto"})}}catch{}}},$b=()=>{const f=document;let n,r="",a="",l="";return f.fullscreenEnabled?(r="requestFullscreen",a="exitFullscreen",l="fullscreenElement"):f.webkitFullscreenEnabled&&(r="webkitRequestFullscreen",a="webkitExitFullscreen",l="webkitFullscreenElement"),r&&(n={request:function(u=f.documentElement){return r==="webkitRequestFullscreen"?u[r](Element.ALLOW_KEYBOARD_INPUT):u[r]()},exit:function(){return f[l]&&f[a]()},isFullscreen:function(){return f[l]}}),n},Dg={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},Db),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:`<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">
    <div class="fancybox__backdrop"></div>
    <div class="fancybox__carousel"></div>
    <div class="fancybox__footer"></div>
  </div>`},trapFocus:!0,wheel:"zoom"};var ir,Tr;(function(f){f[f.Init=0]="Init",f[f.Ready=1]="Ready",f[f.Closing=2]="Closing",f[f.CustomClosing=3]="CustomClosing",f[f.Destroy=4]="Destroy"})(ir||(ir={})),function(f){f[f.Loading=0]="Loading",f[f.Opening=1]="Opening",f[f.Ready=2]="Ready",f[f.Closing=3]="Closing"}(Tr||(Tr={}));let Jm="",xd=!1,tp=!1,vl=null;const jb=()=>{let f="",n="";const r=xn.getInstance();if(r){const a=r.carousel,l=r.getSlide();if(a&&l){let u=l.slug||void 0,p=l.triggerEl||void 0;n=u||r.option("slug")||"",!n&&p&&p.dataset&&(n=p.dataset.fancybox||""),n&&n!=="true"&&(f="#"+n+(!u&&a.slides.length>1?"-"+(l.index+1):""))}}return{hash:f,slug:n,index:1}},mp=()=>{const f=new URL(document.URL).hash,n=f.slice(1).split("-"),r=n[n.length-1],a=r&&/^\+?\d+$/.test(r)&&parseInt(n.pop()||"1",10)||1;return{hash:f,slug:n.join("-"),index:a}},Wb=()=>{const{slug:f,index:n}=mp();if(!f)return;let r=document.querySelector(`[data-slug="${f}"]`);if(r&&r.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),xn.getInstance())return;const a=document.querySelectorAll(`[data-fancybox="${f}"]`);a.length&&(r=a[n-1],r&&r.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},Hb=()=>{if(xn.defaults.Hash===!1)return;const f=xn.getInstance();if((f==null?void 0:f.options.Hash)===!1)return;const{slug:n,index:r}=mp(),{slug:a}=jb();f&&(n===a?f.jumpTo(r-1):(xd=!0,f.close())),Wb()},qb=()=>{vl&&clearTimeout(vl),queueMicrotask(()=>{Hb()})},ev=()=>{window.addEventListener("hashchange",qb,!1),setTimeout(()=>{Hb()},500)};kd&&(/complete|interactive|loaded/.test(document.readyState)?ev():document.addEventListener("DOMContentLoaded",ev));const rp="is-zooming-in";class Gb extends Co{onCreateSlide(n,r,a){const l=this.instance.optionFor(a,"src")||"";a.el&&a.type==="image"&&typeof l=="string"&&this.setImage(a,l)}onRemoveSlide(n,r,a){a.panzoom&&a.panzoom.destroy(),a.panzoom=void 0,a.imageEl=void 0}onChange(n,r,a,l){Bn(this.instance.container,rp);for(const u of r.slides){const p=u.panzoom;p&&u.index!==a&&p.reset(.35)}}onClose(){var n;const r=this.instance,a=r.container,l=r.getSlide();if(!a||!a.parentElement||!l)return;const{el:u,contentEl:p,panzoom:g,thumbElSrc:b}=l;if(!u||!b||!p||!g||g.isContentLoading||g.state===Wn.Init||g.state===Wn.Destroy)return;g.updateMetrics();let m=this.getZoomInfo(l);if(!m)return;this.instance.state=ir.CustomClosing,a.classList.remove(rp),a.classList.add("is-zooming-out"),p.style.backgroundImage=`url('${b}')`;const _=a.getBoundingClientRect();(((n=window.visualViewport)===null||n===void 0?void 0:n.scale)||1)===1&&Object.assign(a.style,{position:"absolute",top:`${a.offsetTop+window.scrollY}px`,left:`${a.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${_.width}px`,height:`${_.height}px`,overflow:"hidden"});const{x:E,y:x,scale:k,opacity:R}=m;if(R){const A=((M,L,q,K)=>{const Q=L-M,ue=K-q;return _e=>q+((_e-M)/Q*ue||0)})(g.scale,k,1,0);g.on("afterTransform",()=>{p.style.opacity=A(g.scale)+""})}g.on("endAnimation",()=>{r.destroy()}),g.target.a=k,g.target.b=0,g.target.c=0,g.target.d=k,g.panTo({x:E,y:x,scale:k,friction:R?.2:.33,ignoreBounds:!0}),g.isResting&&r.destroy()}setImage(n,r){const a=this.instance;n.src=r,this.process(n,r).then(l=>{const{contentEl:u,imageEl:p,thumbElSrc:g,el:b}=n;if(a.isClosing()||!u||!p)return;u.offsetHeight;const m=!!a.isOpeningSlide(n)&&this.getZoomInfo(n);if(this.option("protected")&&b){b.addEventListener("contextmenu",x=>{x.preventDefault()});const E=document.createElement("div");Ve(E,"fancybox-protected"),u.appendChild(E)}if(g&&m){const E=l.contentRect,x=Math.max(E.fullWidth,E.fullHeight);let k=null;!m.opacity&&x>1200&&(k=document.createElement("img"),Ve(k,"fancybox-ghost"),k.src=g,u.appendChild(k));const R=()=>{k&&(Ve(k,"f-fadeFastOut"),setTimeout(()=>{k&&(k.remove(),k=null)},200))};(_=g,new Promise((A,M)=>{const L=new Image;L.onload=A,L.onerror=M,L.src=_})).then(()=>{a.hideLoading(n),n.state=Tr.Opening,this.instance.emit("reveal",n),this.zoomIn(n).then(()=>{R(),this.instance.done(n)},()=>{}),k&&setTimeout(()=>{R()},x>2500?800:200)},()=>{a.hideLoading(n),a.revealContent(n)})}else{const E=this.optionFor(n,"initialSize"),x=this.optionFor(n,"zoom"),k={event:a.prevMouseMoveEvent||a.options.event,friction:x?.12:0};let R=a.optionFor(n,"showClass")||void 0,A=!0;a.isOpeningSlide(n)&&(E==="full"?l.zoomToFull(k):E==="cover"?l.zoomToCover(k):E==="max"?l.zoomToMax(k):A=!1,l.stop("current")),A&&R&&(R=l.isDragging?"f-fadeIn":""),a.hideLoading(n),a.revealContent(n,R)}var _},()=>{a.setError(n,"{{IMAGE_ERROR}}")})}process(n,r){return new Promise((a,l)=>{var u;const p=this.instance,g=n.el;p.clearContent(n),p.showLoading(n);let b=this.optionFor(n,"content");if(typeof b=="string"&&(b=rs(b)),!b||!mi(b)){if(b=document.createElement("img"),b instanceof HTMLImageElement){let m="",_=n.caption;m=typeof _=="string"&&_?_.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${n.index+1} of ${((u=p.carousel)===null||u===void 0?void 0:u.pages.length)||1}`,b.src=r||"",b.alt=m,b.draggable=!1,n.srcset&&b.setAttribute("srcset",n.srcset),this.instance.isOpeningSlide(n)&&(b.fetchPriority="high")}n.sizes&&b.setAttribute("sizes",n.sizes)}Ve(b,"fancybox-image"),n.imageEl=b,p.setContent(n,b,!1),n.panzoom=new _l(g,vi({transformParent:!0},this.option("Panzoom")||{},{content:b,width:(m,_)=>p.optionFor(n,"width","auto",_)||"auto",height:(m,_)=>p.optionFor(n,"height","auto",_)||"auto",wheel:()=>{const m=p.option("wheel");return(m==="zoom"||m=="pan")&&m},click:(m,_)=>{var E,x;if(p.isCompact||p.isClosing()||n.index!==((E=p.getSlide())===null||E===void 0?void 0:E.index))return!1;if(_){const R=_.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(R.nodeName))return!1}let k=!_||_.target&&((x=n.contentEl)===null||x===void 0?void 0:x.contains(_.target));return p.option(k?"contentClick":"backdropClick")||!1},dblClick:()=>p.isCompact?"toggleZoom":p.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:m=>{a(m)},error:()=>{l()},destroy:()=>{l()}}}))})}zoomIn(n){return new Promise((r,a)=>{const l=this.instance,u=l.container,{panzoom:p,contentEl:g,el:b}=n;p&&p.updateMetrics();const m=this.getZoomInfo(n);if(!(m&&b&&g&&p&&u))return void a();const{x:_,y:E,scale:x,opacity:k}=m,R=()=>{n.state!==Tr.Closing&&(k&&(g.style.opacity=Math.max(Math.min(1,1-(1-p.scale)/(1-x)),0)+""),p.scale>=1&&p.scale>p.targetScale-.1&&r(p))},A=q=>{(q.scale<.99||q.scale>1.01)&&!q.isDragging||(Bn(u,rp),g.style.opacity="",q.off("endAnimation",A),q.off("touchStart",A),q.off("afterTransform",R),r(q))};p.on("endAnimation",A),p.on("touchStart",A),p.on("afterTransform",R),p.on(["error","destroy"],()=>{a()}),p.panTo({x:_,y:E,scale:x,friction:0,ignoreBounds:!0}),p.stop("current");const M={event:p.panMode==="mousemove"?l.prevMouseMoveEvent||l.options.event:void 0},L=this.optionFor(n,"initialSize");Ve(u,rp),l.hideLoading(n),L==="full"?p.zoomToFull(M):L==="cover"?p.zoomToCover(M):L==="max"?p.zoomToMax(M):p.reset(.172)})}getZoomInfo(n){const{el:r,imageEl:a,thumbEl:l,panzoom:u}=n,p=this.instance,g=p.container;if(!r||!a||!l||!u||Ub(l)<3||!this.optionFor(n,"zoom")||!g||p.state===ir.Destroy||getComputedStyle(g).getPropertyValue("--f-images-zoom")==="0")return!1;const b=window.visualViewport||null;if((b?b.scale:1)!==1)return!1;let{top:m,left:_,width:E,height:x}=l.getBoundingClientRect(),{top:k,left:R,fitWidth:A,fitHeight:M}=u.contentRect;if(!(E&&x&&A&&M))return!1;const L=u.container.getBoundingClientRect();R+=L.left,k+=L.top;const q=-1*(R+.5*A-(_+.5*E)),K=-1*(k+.5*M-(m+.5*x)),Q=E/A;let ue=this.option("zoomOpacity")||!1;return ue==="auto"&&(ue=Math.abs(E/x-A/M)>.1),{x:q,y:K,scale:Q,opacity:ue}}attach(){const n=this,r=n.instance;r.on("Carousel.change",n.onChange),r.on("Carousel.createSlide",n.onCreateSlide),r.on("Carousel.removeSlide",n.onRemoveSlide),r.on("close",n.onClose)}detach(){const n=this,r=n.instance;r.off("Carousel.change",n.onChange),r.off("Carousel.createSlide",n.onCreateSlide),r.off("Carousel.removeSlide",n.onRemoveSlide),r.off("close",n.onClose)}}Object.defineProperty(Gb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),typeof SuppressedError=="function"&&SuppressedError;const Nh="html",nv="image",Oh="map",Ls="youtube",fl="vimeo",hd="html5video",tv=(f,n={})=>{const r=new URL(f),a=new URLSearchParams(r.search),l=new URLSearchParams;for(const[g,b]of[...a,...Object.entries(n)]){let m=b+"";if(g==="t"){let _=m.match(/((\d*)m)?(\d*)s?/);_&&l.set("start",60*parseInt(_[2]||"0")+parseInt(_[3]||"0")+"")}else l.set(g,m)}let u=l+"",p=f.match(/#t=((.*)?\d+s)/);return p&&(u+=`#t=${p[1]}`),u},xw={ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},kw=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"];class Kb extends Co{onBeforeInitSlide(n,r,a){this.processType(a)}onCreateSlide(n,r,a){this.setContent(a)}onClearContent(n,r){r.xhr&&(r.xhr.abort(),r.xhr=null);const a=r.iframeEl;a&&(a.onload=a.onerror=null,a.src="//about:blank",r.iframeEl=null);const l=r.contentEl,u=r.placeholderEl;if(r.type==="inline"&&l&&u)l.classList.remove("fancybox__content"),getComputedStyle(l).getPropertyValue("display")!=="none"&&(l.style.display="none"),setTimeout(()=>{u&&(l&&u.parentNode&&u.parentNode.insertBefore(l,u),u.remove())},0),r.contentEl=void 0,r.placeholderEl=void 0;else for(;r.el&&r.el.firstChild;)r.el.removeChild(r.el.firstChild)}onSelectSlide(n,r,a){a.state===Tr.Ready&&this.playVideo()}onUnselectSlide(n,r,a){var l,u;if(a.type===hd){try{(u=(l=a.el)===null||l===void 0?void 0:l.querySelector("video"))===null||u===void 0||u.pause()}catch{}return}let p;a.type===fl?p={method:"pause",value:"true"}:a.type===Ls&&(p={event:"command",func:"pauseVideo"}),p&&a.iframeEl&&a.iframeEl.contentWindow&&a.iframeEl.contentWindow.postMessage(JSON.stringify(p),"*"),a.poller&&clearTimeout(a.poller)}onDone(n,r){n.isCurrentSlide(r)&&!n.isClosing()&&this.playVideo()}onRefresh(n,r){r.slides.forEach(a=>{a.el&&(this.resizeIframe(a),this.setAspectRatio(a))})}onMessage(n){try{let r=JSON.parse(n.data);if(n.origin==="https://player.vimeo.com"){if(r.event==="ready")for(let a of Array.from(document.getElementsByClassName("fancybox__iframe")))a instanceof HTMLIFrameElement&&a.contentWindow===n.source&&(a.dataset.ready="true")}else if(n.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&r.event==="onReady"){const a=document.getElementById(r.id);a&&(a.dataset.ready="true")}}catch{}}loadAjaxContent(n){const r=this.instance.optionFor(n,"src")||"";this.instance.showLoading(n);const a=this.instance,l=new XMLHttpRequest;a.showLoading(n),l.onreadystatechange=function(){l.readyState===XMLHttpRequest.DONE&&a.state===ir.Ready&&(a.hideLoading(n),l.status===200?a.setContent(n,l.responseText):a.setError(n,l.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};const u=n.ajax||null;l.open(u?"POST":"GET",r+""),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.send(u),n.xhr=l}setInlineContent(n){let r=null;if(mi(n.src))r=n.src;else if(typeof n.src=="string"){const a=n.src.split("#",2).pop();r=a?document.getElementById(a):null}if(r){if(n.type==="clone"||r.closest(".fancybox__slide")){r=r.cloneNode(!0);const a=r.dataset.animationName;a&&(r.classList.remove(a),delete r.dataset.animationName);let l=r.getAttribute("id");l=l?`${l}--clone`:`clone-${this.instance.id}-${n.index}`,r.setAttribute("id",l)}else if(r.parentNode){const a=document.createElement("div");a.classList.add("fancybox-placeholder"),r.parentNode.insertBefore(a,r),n.placeholderEl=a}this.instance.setContent(n,r)}else this.instance.setError(n,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(n){const{src:r,el:a}=n;if(!r||typeof r!="string"||!a)return;a.classList.add("is-loading");const l=this.instance,u=document.createElement("iframe");u.className="fancybox__iframe",u.setAttribute("id",`fancybox__iframe_${l.id}_${n.index}`);for(const[g,b]of Object.entries(this.optionFor(n,"iframeAttr")||{}))u.setAttribute(g,b);u.onerror=()=>{l.setError(n,"{{IFRAME_ERROR}}")},n.iframeEl=u;const p=this.optionFor(n,"preload");if(n.type!=="iframe"||p===!1)return u.setAttribute("src",n.src+""),l.setContent(n,u,!1),this.resizeIframe(n),void l.revealContent(n);l.showLoading(n),u.onload=()=>{if(!u.src.length)return;const g=u.dataset.ready!=="true";u.dataset.ready="true",this.resizeIframe(n),g?l.revealContent(n):l.hideLoading(n)},u.setAttribute("src",r),l.setContent(n,u,!1)}resizeIframe(n){const{type:r,iframeEl:a}=n;if(r===Ls||r===fl)return;const l=a==null?void 0:a.parentElement;if(!a||!l)return;let u=n.autoSize;u===void 0&&(u=this.optionFor(n,"autoSize"));let p=n.width||0,g=n.height||0;p&&g&&(u=!1);const b=l&&l.style;if(n.preload!==!1&&u!==!1&&b)try{const m=window.getComputedStyle(l),_=parseFloat(m.paddingLeft)+parseFloat(m.paddingRight),E=parseFloat(m.paddingTop)+parseFloat(m.paddingBottom),x=a.contentWindow;if(x){const k=x.document,R=k.getElementsByTagName(Nh)[0],A=k.body;b.width="",A.style.overflow="hidden",p=p||R.scrollWidth+_,b.width=`${p}px`,A.style.overflow="",b.flex="0 0 auto",b.height=`${A.scrollHeight}px`,g=R.scrollHeight+E}}catch{}if(p||g){const m={flex:"0 1 auto",width:"",height:""};p&&p!=="auto"&&(m.width=`${p}px`),g&&g!=="auto"&&(m.height=`${g}px`),Object.assign(b,m)}}playVideo(){const n=this.instance.getSlide();if(!n)return;const{el:r}=n;if(!r||!r.offsetParent||!this.optionFor(n,"videoAutoplay"))return;if(n.type===hd)try{const l=r.querySelector("video");if(l){const u=l.play();u!==void 0&&u.then(()=>{}).catch(p=>{l.muted=!0,l.play()})}}catch{}if(n.type!==Ls&&n.type!==fl)return;const a=()=>{if(n.iframeEl&&n.iframeEl.contentWindow){let l;if(n.iframeEl.dataset.ready==="true")return l=n.type===Ls?{event:"command",func:"playVideo"}:{method:"play",value:"true"},l&&n.iframeEl.contentWindow.postMessage(JSON.stringify(l),"*"),void(n.poller=void 0);n.type===Ls&&(l={event:"listening",id:n.iframeEl.getAttribute("id")},n.iframeEl.contentWindow.postMessage(JSON.stringify(l),"*"))}n.poller=setTimeout(a,250)};a()}processType(n){if(n.html)return n.type=Nh,n.src=n.html,void(n.html="");const r=this.instance.optionFor(n,"src","");if(!r||typeof r!="string")return;let a=n.type,l=null;if(l=r.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){const u=this.optionFor(n,Ls),{nocookie:p}=u,g=function(E,x){var k={};for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&x.indexOf(R)<0&&(k[R]=E[R]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function"){var A=0;for(R=Object.getOwnPropertySymbols(E);A<R.length;A++)x.indexOf(R[A])<0&&Object.prototype.propertyIsEnumerable.call(E,R[A])&&(k[R[A]]=E[R[A]])}return k}(u,["nocookie"]),b=`www.youtube${p?"-nocookie":""}.com`,m=tv(r,g),_=encodeURIComponent(l[2]);n.videoId=_,n.src=`https://${b}/embed/${_}?${m}`,n.thumbSrc=n.thumbSrc||`https://i.ytimg.com/vi/${_}/mqdefault.jpg`,a=Ls}else if(l=r.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){const u=tv(r,this.optionFor(n,fl)),p=encodeURIComponent(l[1]),g=l[4]||"";n.videoId=p,n.src=`https://player.vimeo.com/video/${p}?${g?`h=${g}${u?"&":""}`:""}${u}`,a=fl}if(!a&&n.triggerEl){const u=n.triggerEl.dataset.type;kw.includes(u)&&(a=u)}a||typeof r=="string"&&(r.charAt(0)==="#"?a="inline":(l=r.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(a=hd,n.videoFormat=n.videoFormat||"video/"+(l[1]==="ogv"?"ogg":l[1])):r.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?a=nv:r.match(/\.(pdf)((\?|#).*)?$/i)&&(a="pdf")),(l=r.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(n.src=`https://maps.google.${l[1]}/?ll=${(l[2]?l[2]+"&z="+Math.floor(parseFloat(l[3]))+(l[4]?l[4].replace(/^\//,"&"):""):l[4]+"").replace(/\?/,"&")}&output=${l[4]&&l[4].indexOf("layer=c")>0?"svembed":"embed"}`,a=Oh):(l=r.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(n.src=`https://maps.google.${l[1]}/maps?q=${l[2].replace("query=","q=").replace("api=1","")}&output=embed`,a=Oh),a=a||this.instance.option("defaultType"),n.type=a,a===nv&&(n.thumbSrc=n.thumbSrc||n.src)}setContent(n){const r=this.instance.optionFor(n,"src")||"";if(n&&n.type&&r){switch(n.type){case Nh:this.instance.setContent(n,r);break;case hd:const a=this.option("videoTpl");a&&this.instance.setContent(n,a.replace(/\{\{src\}\}/gi,r+"").replace(/\{\{format\}\}/gi,this.optionFor(n,"videoFormat")||"").replace(/\{\{poster\}\}/gi,n.poster||n.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(n);break;case"ajax":this.loadAjaxContent(n);break;case"pdf":case Oh:case Ls:case fl:n.preload=!1;case"iframe":this.setIframeContent(n)}this.setAspectRatio(n)}}setAspectRatio(n){const r=n.contentEl;if(!(n.el&&r&&n.type&&[Ls,fl,hd].includes(n.type)))return;let a,l=n.width||"auto",u=n.height||"auto";if(l==="auto"||u==="auto"){a=this.optionFor(n,"videoRatio");const m=(a+"").match(/(\d+)\s*\/\s?(\d+)/);a=m&&m.length>2?parseFloat(m[1])/parseFloat(m[2]):parseFloat(a+"")}else l&&u&&(a=l/u);if(!a)return;r.style.aspectRatio="",r.style.width="",r.style.height="",r.offsetHeight;const p=r.getBoundingClientRect(),g=p.width||1,b=p.height||1;r.style.aspectRatio=a+"",a<g/b?(u=u==="auto"?b:Math.min(b,u),r.style.width="auto",r.style.height=`${u}px`):(l=l==="auto"?g:Math.min(g,l),r.style.width=`${l}px`,r.style.height="auto")}attach(){const n=this,r=n.instance;r.on("Carousel.beforeInitSlide",n.onBeforeInitSlide),r.on("Carousel.createSlide",n.onCreateSlide),r.on("Carousel.selectSlide",n.onSelectSlide),r.on("Carousel.unselectSlide",n.onUnselectSlide),r.on("Carousel.Panzoom.refresh",n.onRefresh),r.on("done",n.onDone),r.on("clearContent",n.onClearContent),window.addEventListener("message",n.onMessage)}detach(){const n=this,r=n.instance;r.off("Carousel.beforeInitSlide",n.onBeforeInitSlide),r.off("Carousel.createSlide",n.onCreateSlide),r.off("Carousel.selectSlide",n.onSelectSlide),r.off("Carousel.unselectSlide",n.onUnselectSlide),r.off("Carousel.Panzoom.refresh",n.onRefresh),r.off("done",n.onDone),r.off("clearContent",n.onClearContent),window.removeEventListener("message",n.onMessage)}}Object.defineProperty(Kb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:xw});const ip="play",op="pause",gd="ready";class Vb extends Co{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:gd}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==gd}onReady(n){this.option("autoStart")&&(n.isInfinite||n.page<n.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){document.visibilityState==="visible"?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var n;this.inHover=!1,!((n=this.instance.panzoom)===null||n===void 0)&&n.isResting&&this.resume()}onTimerEnd(){const n=this.instance;this.state==="play"&&(n.isInfinite||n.page!==n.pages.length-1?n.slideNext():n.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var n;if(!this.option("showProgress"))return null;this.removeProgressBar();const r=this.instance,a=((n=r.pages[r.page])===null||n===void 0?void 0:n.slides)||[];let l=this.option("progressParentEl");if(l||(l=(a.length===1?a[0].el:null)||r.viewport),!l)return null;const u=document.createElement("div");return Ve(u,"f-progress"),l.prepend(u),this.progressBar=u,u.offsetHeight,u}set(){const n=this,r=n.instance;if(r.pages.length<2||n.timer)return;const a=n.option("timeout");n.state=ip,Ve(r.container,"has-autoplay");let l=n.createProgressBar();l&&(l.style.transitionDuration=`${a}ms`,l.style.transform="scaleX(1)"),n.timer=setTimeout(()=>{n.timer=null,n.inHover||n.onTimerEnd()},a),n.emit("set")}clear(){const n=this;n.timer&&(clearTimeout(n.timer),n.timer=null),n.removeProgressBar()}start(){const n=this;if(n.set(),n.state!==gd){if(n.option("pauseOnHover")){const r=n.instance.container;r.addEventListener("mouseenter",n.onMouseEnter,!1),r.addEventListener("mouseleave",n.onMouseLeave,!1)}document.addEventListener("visibilitychange",n.onVisibilityChange,!1),n.emit("start")}}stop(){const n=this,r=n.state,a=n.instance.container;n.clear(),n.state=gd,a.removeEventListener("mouseenter",n.onMouseEnter,!1),a.removeEventListener("mouseleave",n.onMouseLeave,!1),document.removeEventListener("visibilitychange",n.onVisibilityChange,!1),Bn(a,"has-autoplay"),r!==gd&&n.emit("stop")}pause(){const n=this;n.state===ip&&(n.state=op,n.clear(),n.emit(op))}resume(){const n=this,r=n.instance;if(r.isInfinite||r.page!==r.pages.length-1)if(n.state!==ip){if(n.state===op&&!n.inHover){const a=new Event("resume",{bubbles:!0,cancelable:!0});n.emit("resume",a),a.defaultPrevented||n.set()}}else n.set();else n.stop()}toggle(){this.state===ip||this.state===op?this.stop():this.start()}attach(){const n=this,r=n.instance;r.on("ready",n.onReady),r.on("Panzoom.startAnimation",n.onChange),r.on("Panzoom.endAnimation",n.onSettle),r.on("Panzoom.touchMove",n.onChange)}detach(){const n=this,r=n.instance;r.off("ready",n.onReady),r.off("Panzoom.startAnimation",n.onChange),r.off("Panzoom.endAnimation",n.onSettle),r.off("Panzoom.touchMove",n.onChange),n.stop()}}Object.defineProperty(Vb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});class Yb extends Co{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(n){const r=n.carousel;if(!r)return;const a=n.container;a&&(r.options.Autoplay=vi({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{n.emit("startSlideshow")},set:l=>{var u;a.classList.add("has-slideshow"),((u=n.getSlide())===null||u===void 0?void 0:u.state)!==Tr.Ready&&l.pause()},stop:()=>{a.classList.remove("has-slideshow"),n.isCompact||n.endIdle(),n.emit("endSlideshow")},resume:(l,u)=>{var p,g,b;!u||!u.cancelable||((p=n.getSlide())===null||p===void 0?void 0:p.state)===Tr.Ready&&(!((b=(g=n.carousel)===null||g===void 0?void 0:g.panzoom)===null||b===void 0)&&b.isResting)||u.preventDefault()}}}),r.attachPlugins({Autoplay:Vb}),this.ref=r.plugins.Autoplay)}onReady(n){const r=n.carousel,a=this.ref;a&&r&&this.option("playOnStart")&&(r.isInfinite||r.page<r.pages.length-1)&&a.start()}onDone(n,r){const a=this.ref,l=n.carousel;if(!a||!l)return;const u=r.panzoom;u&&u.on("startAnimation",()=>{n.isCurrentSlide(r)&&a.stop()}),n.isCurrentSlide(r)&&a.resume()}onKeydown(n,r){var a;const l=this.ref;l&&r===this.option("key")&&((a=document.activeElement)===null||a===void 0?void 0:a.nodeName)!=="BUTTON"&&l.toggle()}attach(){const n=this,r=n.instance;r.on("Carousel.init",n.onPrepare),r.on("Carousel.ready",n.onReady),r.on("done",n.onDone),r.on("keydown",n.onKeydown)}detach(){const n=this,r=n.instance;r.off("Carousel.init",n.onPrepare),r.off("Carousel.ready",n.onReady),r.off("done",n.onDone),r.off("keydown",n.onKeydown)}}Object.defineProperty(Yb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:f=>{var n;return((n=f.instance.container)===null||n===void 0?void 0:n.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||f.instance.container},timeout:3e3}});const Xb={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};var Ds;(function(f){f[f.Init=0]="Init",f[f.Ready=1]="Ready",f[f.Hidden=2]="Hidden"})(Ds||(Ds={}));const rv="isResting",sp="thumbWidth",Gc="thumbHeight",ns="thumbClipWidth";let Zb=class extends Co{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ds.Init})}get isModern(){return this.type==="modern"}onInitSlide(f,n){const r=n.el?n.el.dataset:void 0;r&&(n.thumbSrc=r.thumbSrc||n.thumbSrc||"",n[ns]=parseFloat(r[ns]||"")||n[ns]||0,n[Gc]=parseFloat(r.thumbHeight||"")||n[Gc]||0),this.addSlide(n)}onInitSlides(){this.build()}onChange(){var f;if(!this.isModern)return;const n=this.container,r=this.instance,a=r.panzoom,l=this.carousel,u=l?l.panzoom:null,p=r.page;if(a&&l&&u){if(a.isDragging){Bn(n,this.cn(rv));let g=((f=l.pages[p])===null||f===void 0?void 0:f.pos)||0;g+=r.getProgress(p)*(this[ns]+this.thumbGap);let b=u.getBounds();-1*g>b.x.min&&-1*g<b.x.max&&u.panTo({x:-1*g,friction:.12})}else is(n,this.cn(rv),a.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(const f of this.instance.slides||[])this.resizeModernSlide(f);this.shiftModern()}isDisabled(){const f=this.option("minCount")||0;if(f){const r=this.instance;let a=0;for(const l of r.slides||[])l.thumbSrc&&a++;if(a<f)return!0}const n=this.option("type");return["modern","classic"].indexOf(n)<0}getThumb(f){const n=this.option("thumbTpl")||"";return{html:this.instance.localize(n,[["%i",f.index],["%d",f.index+1],["%s",f.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(f){const n=this.carousel;n&&n.addSlide(f.index,this.getThumb(f))}getSlides(){const f=[];for(const n of this.instance.slides||[])f.push(this.getThumb(n));return f}resizeModernSlide(f){this.isModern&&(f[sp]=f[ns]&&f[Gc]?Math.round(this[Gc]*(f[ns]/f[Gc])):this[sp])}updateProps(){const f=this.container;if(!f)return;const n=r=>parseFloat(getComputedStyle(f).getPropertyValue("--f-thumb-"+r))||0;this.thumbGap=n("gap"),this.thumbExtraGap=n("extra-gap"),this[sp]=n("width")||40,this[ns]=n("clip-width")||40,this[Gc]=n("height")||40}build(){const f=this;if(f.state!==Ds.Init)return;if(f.isDisabled())return void f.emit("disabled");const n=f.instance,r=n.container,a=f.getSlides(),l=f.option("type");f.type=l;const u=f.option("parentEl"),p=f.cn("container"),g=f.cn("track");let b=u==null?void 0:u.querySelector("."+p);b||(b=document.createElement("div"),Ve(b,p),u?u.appendChild(b):r.after(b)),Ve(b,`is-${l}`),Ve(r,f.cn("hasThumbs")),f.container=b,f.updateProps();let m=b.querySelector("."+g);m||(m=document.createElement("div"),Ve(m,f.cn("track")),b.appendChild(m)),f.track=m;const _=vi({},{track:m,infinite:!1,center:!0,fill:l==="classic",dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},f.option("Carousel")||{},{Sync:{target:n},slides:a}),E=new n.constructor(b,_);E.on("createSlide",(x,k)=>{f.setProps(k.index),f.emit("createSlide",k,k.el)}),E.on("ready",()=>{f.shiftModern(),f.emit("ready")}),E.on("refresh",()=>{f.shiftModern()}),E.on("Panzoom.click",(x,k,R)=>{f.onClick(R)}),f.carousel=E,f.state=Ds.Ready}onClick(f){f.preventDefault(),f.stopPropagation();const n=this.instance,{pages:r,page:a}=n,l=A=>{if(A){const M=A.closest("[data-carousel-index]");if(M)return[parseInt(M.dataset.carouselIndex||"",10)||0,M]}return[-1,void 0]},u=(A,M)=>{const L=document.elementFromPoint(A,M);return L?l(L):[-1,void 0]};let[p,g]=l(f.target);if(p>-1)return;const b=this[ns],m=f.clientX,_=f.clientY;let[E,x]=u(m-b,_),[k,R]=u(m+b,_);x&&R?(p=Math.abs(m-x.getBoundingClientRect().right)<Math.abs(m-R.getBoundingClientRect().left)?E:k,p===a&&(p=p===E?k:E)):x?p=E:R&&(p=k),p>-1&&r[p]&&n.slideTo(p)}getShift(f){var n;const r=this,{instance:a}=r,l=r.carousel;if(!a||!l)return 0;const u=r[sp],p=r[ns],g=r.thumbGap,b=r.thumbExtraGap;if(!(!((n=l.slides[f])===null||n===void 0)&&n.el))return 0;const m=.5*(u-p),_=a.pages.length-1;let E=a.getProgress(0),x=a.getProgress(_),k=a.getProgress(f,!1,!0),R=0,A=m+b+g;const M=E<0&&E>-1,L=x>0&&x<1;return f===0?(R=A*Math.abs(E),L&&E===1&&(R-=A*Math.abs(x))):f===_?(R=A*Math.abs(x)*-1,M&&x===-1&&(R+=A*Math.abs(E))):M||L?(R=-1*A,R+=A*Math.abs(E),R+=A*(1-Math.abs(x))):R=A*k,R}setProps(f){var n;const r=this;if(!r.isModern)return;const{instance:a}=r,l=r.carousel;if(a&&l){const u=(n=l.slides[f])===null||n===void 0?void 0:n.el;if(u&&u.childNodes.length){let p=xe(1-Math.abs(a.getProgress(f))),g=xe(r.getShift(f));u.style.setProperty("--progress",p?p+"":""),u.style.setProperty("--shift",g+"")}}}shiftModern(){const f=this;if(!f.isModern)return;const{instance:n,track:r}=f,a=n.panzoom,l=f.carousel;if(!(n&&r&&a&&l)||a.state===Wn.Init||a.state===Wn.Destroy)return;for(const p of n.slides)f.setProps(p.index);let u=(f[ns]+f.thumbGap)*(l.slides.length||0);r.style.setProperty("--width",u+"")}cleanup(){const f=this;f.carousel&&f.carousel.destroy(),f.carousel=null,f.container&&f.container.remove(),f.container=null,f.track&&f.track.remove(),f.track=null,f.state=Ds.Init,Bn(f.instance.container,f.cn("hasThumbs"))}attach(){const f=this,n=f.instance;n.on("initSlide",f.onInitSlide),n.state===It.Init?n.on("initSlides",f.onInitSlides):f.onInitSlides(),n.on(["change","Panzoom.afterTransform"],f.onChange),n.on("Panzoom.refresh",f.onRefresh)}detach(){const f=this,n=f.instance;n.off("initSlide",f.onInitSlide),n.off("initSlides",f.onInitSlides),n.off(["change","Panzoom.afterTransform"],f.onChange),n.off("Panzoom.refresh",f.onRefresh),f.cleanup()}};Object.defineProperty(Zb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Xb});const Tw=Object.assign(Object.assign({},Xb),{key:"t",showOnStart:!0,parentEl:null}),iv="is-masked",ov="aria-hidden";class Qb extends Co{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){const n=this.ref;return n&&!n.isDisabled()}get isHidden(){return this.hidden}onClick(n,r){r.stopPropagation()}onCreateSlide(n,r){var a,l,u;const p=((u=(l=(a=this.instance)===null||a===void 0?void 0:a.carousel)===null||l===void 0?void 0:l.slides[r.index])===null||u===void 0?void 0:u.type)||"",g=r.el;if(g&&p){let b=`for-${p}`;["video","youtube","vimeo","html5video"].includes(p)&&(b+=" for-video"),Ve(g,b)}}onInit(){var n;const r=this,a=r.instance,l=a.carousel;if(r.ref||!l)return;const u=r.option("parentEl")||a.footer||a.container;if(!u)return;const p=vi({},r.options,{parentEl:u,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:a.option("Carousel.friction")||0}},on:{ready:g=>{const b=g.container;b&&this.hidden&&(r.refresh(),b.style.transition="none",r.hide(),b.offsetHeight,queueMicrotask(()=>{b.style.transition="",r.show()}))}}});p.Carousel=p.Carousel||{},p.Carousel.on=vi(((n=r.options.Carousel)===null||n===void 0?void 0:n.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),l.options.Thumbs=p,l.attachPlugins({Thumbs:Zb}),r.ref=l.plugins.Thumbs,r.option("showOnStart")||(r.ref.state=Ds.Hidden,r.hidden=!0)}onResize(){var n;const r=(n=this.ref)===null||n===void 0?void 0:n.container;r&&(r.style.maxHeight="")}onKeydown(n,r){const a=this.option("key");a&&a===r&&this.toggle()}toggle(){const n=this.ref;if(n&&!n.isDisabled())return n.state===Ds.Hidden?(n.state=Ds.Init,void n.build()):void(this.hidden?this.show():this.hide())}show(){const n=this.ref;if(!n||n.isDisabled())return;const r=n.container;r&&(this.refresh(),r.offsetHeight,r.removeAttribute(ov),r.classList.remove(iv),this.hidden=!1)}hide(){const n=this.ref,r=n&&n.container;r&&(this.refresh(),r.offsetHeight,r.classList.add(iv),r.setAttribute(ov,"true")),this.hidden=!0}refresh(){const n=this.ref;if(!n||!n.state)return;const r=n.container,a=(r==null?void 0:r.firstChild)||null;r&&a&&a.childNodes.length&&(r.style.maxHeight=`${a.getBoundingClientRect().height}px`)}attach(){const n=this,r=n.instance;r.state===ir.Init?r.on("Carousel.init",n.onInit):n.onInit(),r.on("resize",n.onResize),r.on("keydown",n.onKeydown)}detach(){var n;const r=this,a=r.instance;a.off("Carousel.init",r.onInit),a.off("resize",r.onResize),a.off("keydown",r.onKeydown),(n=a.carousel)===null||n===void 0||n.detachPlugins(["Thumbs"]),r.ref=null}}Object.defineProperty(Qb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Tw});const Ph={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};var bl;(function(f){f[f.Init=0]="Init",f[f.Ready=1]="Ready",f[f.Disabled=2]="Disabled"})(bl||(bl={}));const Cw={absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null},Rw={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},sv="has-toolbar",Ih="fancybox__toolbar";class Jb extends Co{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:bl.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(n){var r;if(!n.carousel)return;let a=this.option("display"),l=this.option("absolute"),u=this.option("enabled");if(u==="auto"){const m=this.instance.carousel;let _=0;if(m)for(const E of m.slides)(E.panzoom||E.type==="image")&&_++;_||(u=!1)}u||(a=void 0);let p=0;const g={left:[],middle:[],right:[]};if(a)for(const m of["left","middle","right"])for(const _ of a[m]){const E=this.createEl(_);E&&((r=g[m])===null||r===void 0||r.push(E),p++)}let b=null;if(p&&(b=this.createContainer()),b){for(const[m,_]of Object.entries(g)){const E=document.createElement("div");Ve(E,Ih+"__column is-"+m);for(const x of _)E.appendChild(x);l!=="auto"||m!=="middle"||_.length||(l=!0),b.appendChild(E)}l===!0&&Ve(b,"is-absolute"),this.state=bl.Ready,this.onRefresh()}else this.state=bl.Disabled}onClick(n){var r,a;const l=this.instance,u=l.getSlide(),p=u==null?void 0:u.panzoom,g=n.target,b=g&&mi(g)?g.dataset:null;if(!b)return;if(b.fancyboxToggleThumbs!==void 0)return n.preventDefault(),n.stopPropagation(),void((r=l.plugins.Thumbs)===null||r===void 0||r.toggle());if(b.fancyboxToggleFullscreen!==void 0)return n.preventDefault(),n.stopPropagation(),void this.instance.toggleFullscreen();if(b.fancyboxToggleSlideshow!==void 0){n.preventDefault(),n.stopPropagation();const E=(a=l.carousel)===null||a===void 0?void 0:a.plugins.Autoplay;let x=E.isActive;return p&&p.panMode==="mousemove"&&!x&&p.reset(),void(x?E.stop():E.start())}const m=b.panzoomAction,_=b.panzoomChange;if((_||m)&&(n.preventDefault(),n.stopPropagation()),_){let E={};try{E=JSON.parse(_)}catch{}p&&p.applyChange(E)}else m&&p&&p[m]&&p[m]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;const n=this.container;if(!n)return;const r=this.instance.getSlide();if(!r||r.state!==Tr.Ready)return;const a=r&&!r.error&&r.panzoom;for(const p of n.querySelectorAll("[data-panzoom-action]"))a?(p.removeAttribute("disabled"),p.removeAttribute("tabindex")):(p.setAttribute("disabled",""),p.setAttribute("tabindex","-1"));let l=a&&a.canZoomIn(),u=a&&a.canZoomOut();for(const p of n.querySelectorAll('[data-panzoom-action="zoomIn"]'))l?(p.removeAttribute("disabled"),p.removeAttribute("tabindex")):(p.setAttribute("disabled",""),p.setAttribute("tabindex","-1"));for(const p of n.querySelectorAll('[data-panzoom-action="zoomOut"]'))u?(p.removeAttribute("disabled"),p.removeAttribute("tabindex")):(p.setAttribute("disabled",""),p.setAttribute("tabindex","-1"));for(const p of n.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){u||l?(p.removeAttribute("disabled"),p.removeAttribute("tabindex")):(p.setAttribute("disabled",""),p.setAttribute("tabindex","-1"));const g=p.querySelector("g");g&&(g.style.display=l?"":"none")}}onDone(n,r){var a;(a=r.panzoom)===null||a===void 0||a.on("afterTransform",()=>{this.instance.isCurrentSlide(r)&&this.onRefresh()}),this.instance.isCurrentSlide(r)&&this.onRefresh()}createContainer(){const n=this.instance.container;if(!n)return null;const r=this.option("parentEl")||n;let a=r.querySelector("."+Ih);return a||(a=document.createElement("div"),Ve(a,Ih),r.prepend(a)),a.addEventListener("click",this.onClick,{passive:!1,capture:!0}),n&&Ve(n,sv),this.container=a,a}createEl(n){const r=this.instance,a=r.carousel;if(!a||n==="toggleFS"||n==="fullscreen"&&!$b())return null;let l=null;const u=a.slides.length||0;let p=0,g=0;for(const m of a.slides)(m.panzoom||m.type==="image")&&p++,(m.type==="image"||m.downloadSrc)&&g++;if(u<2&&["infobar","prev","next"].includes(n))return l;if(Ph[n]!==void 0&&!p||n==="download"&&!g)return null;if(n==="thumbs"){const m=r.plugins.Thumbs;if(!m||!m.isEnabled)return null}if(n==="slideshow"&&(!a.plugins.Autoplay||u<2))return null;if(Ph[n]!==void 0){const m=Ph[n];l=document.createElement("button"),l.setAttribute("title",this.instance.localize(`{{${n.toUpperCase()}}}`)),Ve(l,"f-button"),m.action&&(l.dataset.panzoomAction=m.action),m.change&&(l.dataset.panzoomChange=JSON.stringify(m.change)),l.appendChild(rs(this.instance.localize(m.icon)))}else{const m=(this.option("items")||[])[n];m&&(l=rs(this.instance.localize(m.tpl)),typeof m.click=="function"&&l.addEventListener("click",_=>{_.preventDefault(),_.stopPropagation(),typeof m.click=="function"&&m.click.call(this,this,_)}))}const b=l==null?void 0:l.querySelector("svg");if(b)for(const[m,_]of Object.entries(Rw))b.getAttribute(m)||b.setAttribute(m,String(_));return l}removeContainer(){const n=this.container;n&&n.remove(),this.container=null,this.state=bl.Disabled;const r=this.instance.container;r&&Bn(r,sv)}attach(){const n=this,r=n.instance;r.on("Carousel.initSlides",n.onReady),r.on("done",n.onDone),r.on(["reveal","Carousel.change"],n.onChange),n.onReady(n.instance)}detach(){const n=this,r=n.instance;r.off("Carousel.initSlides",n.onReady),r.off("done",n.onDone),r.off(["reveal","Carousel.change"],n.onChange),n.removeContainer()}}Object.defineProperty(Jb,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Cw});const Aw={Hash:class extends Co{onReady(){xd=!1}onChange(f){vl&&clearTimeout(vl);const{hash:n}=jb(),{hash:r}=mp(),a=f.isOpeningSlide(f.getSlide());a&&(Jm=r===n?"":r),n&&n!==r&&(vl=setTimeout(()=>{try{if(f.state===ir.Ready){let l="replaceState";a&&!tp&&(l="pushState",tp=!0),window.history[l]({},document.title,window.location.pathname+window.location.search+n)}}catch{}},300))}onClose(f){if(vl&&clearTimeout(vl),!xd&&tp)return tp=!1,xd=!1,void window.history.back();if(!xd)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(Jm||""))}catch{}}attach(){const f=this.instance;f.on("ready",this.onReady),f.on(["Carousel.ready","Carousel.change"],this.onChange),f.on("close",this.onClose)}detach(){const f=this.instance;f.off("ready",this.onReady),f.off(["Carousel.ready","Carousel.change"],this.onChange),f.off("close",this.onClose)}static parseURL(){return mp()}static startFromUrl(){Wb()}static destroy(){window.removeEventListener("hashchange",qb,!1)}},Html:Kb,Images:Gb,Slideshow:Yb,Thumbs:Qb,Toolbar:Jb},av="with-fancybox",Lh="hide-scrollbar",lv="--fancybox-scrollbar-compensate",cv="--fancybox-body-margin",Dh="aria-hidden",zh="is-using-tab",Bh="is-animated",uv="is-compact",dv="is-loading",Fh="is-opening",ap="has-caption",Kc="disabled",pl="tabindex",fv="download",Uh="href",Vc="src",Ea=f=>typeof f=="string",pv=function(){var f=window.getSelection();return!!f&&f.type==="Range"};let no,to=null,hl=null,hv=0,gv=0,mv=0,vv=0;const Yc=new Map;let Mw=0;class xn extends Vg{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(n=[],r={},a={}){super(r),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:ir.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),no||(no=$b()),this.id=r.id||++Mw,Yc.set(this.id,this),this.userSlides=n,this.userPlugins=a,queueMicrotask(()=>{this.init()})}init(){if(this.state===ir.Destroy)return;this.state=ir.Init,this.attachPlugins(Object.assign(Object.assign({},xn.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),this.option("hideScrollbar")===!0&&(()=>{if(!kd)return;const r=document,a=r.body,l=r.documentElement;if(a.classList.contains(Lh))return;let u=window.innerWidth-l.getBoundingClientRect().width;const p=parseFloat(window.getComputedStyle(a).marginRight);u<0&&(u=0),l.style.setProperty(lv,`${u}px`),p&&a.style.setProperty(cv,`${p}px`),a.classList.add(Lh)})(),this.initLayout(),this.scale();const n=()=>{this.initCarousel(this.userSlides),this.state=ir.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(Dh,"false")},16)};this.option("Fullscreen.autoStart")&&no&&!no.isFullscreen()?no.request().then(()=>{this.startedFs=!0,n()}).catch(()=>n()):n()}initLayout(){var n,r;const a=this.option("parentEl")||document.body,l=rs(this.localize(this.option("tpl.main")||""));if(l){if(l.setAttribute("id",`fancybox-${this.id}`),l.setAttribute("aria-label",this.localize("{{MODAL}}")),l.classList.toggle(uv,this.isCompact),Ve(l,this.option("mainClass")||""),Ve(l,Fh),this.container=l,this.footer=l.querySelector(".fancybox__footer"),a.appendChild(l),Ve(document.documentElement,av),to&&hl||(to=document.createElement("span"),Ve(to,"fancybox-focus-guard"),to.setAttribute(pl,"0"),to.setAttribute(Dh,"true"),to.setAttribute("aria-label","Focus guard"),hl=to.cloneNode(),(n=l.parentElement)===null||n===void 0||n.insertBefore(to,l),(r=l.parentElement)===null||r===void 0||r.append(hl)),l.addEventListener("mousedown",u=>{hv=u.pageX,gv=u.pageY,Bn(l,zh)}),this.option("closeExisting"))for(const u of Yc.values())u.id!==this.id&&u.close();else this.option("animated")&&(Ve(l,Bh),setTimeout(()=>{this.isClosing()||Bn(l,Bh)},350));this.emit("initLayout")}}initCarousel(n){const r=this.container;if(!r)return;const a=r.querySelector(".fancybox__carousel");if(!a)return;const l=this.carousel=new yl(a,vi({},{slides:n,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));l.on("*",(u,p,...g)=>{this.emit(`Carousel.${p}`,u,...g)}),l.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(u,p,g)=>{this.clearContent(g),g.state=void 0}),l.on("Panzoom.touchStart",()=>{var u,p;this.isCompact||this.endIdle(),!((u=document.activeElement)===null||u===void 0)&&u.closest(".f-thumbs")&&((p=this.container)===null||p===void 0||p.focus())}),l.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(l.on("Panzoom.afterTransform",(u,p)=>{const g=this.getSlide();if(g&&Ig(g.el))return;const b=this.container;if(b){const m=Math.abs(p.current.f),_=m<1?"":Math.max(.5,Math.min(1,1-m/p.contentRect.fitHeight*1.5));b.style.setProperty("--fancybox-ts",_?"0s":""),b.style.setProperty("--fancybox-opacity",_+"")}}),l.on("Panzoom.touchEnd",(u,p,g)=>{var b;const m=this.getSlide();if(m&&Ig(m.el)||p.isMobile&&document.activeElement&&["TEXTAREA","INPUT"].indexOf((b=document.activeElement)===null||b===void 0?void 0:b.nodeName)!==-1)return;const _=Math.abs(p.dragOffset.y);p.lockedAxis==="y"&&(_>=200||_>=50&&p.dragOffset.time<300)&&(g&&g.cancelable&&g.preventDefault(),this.close(g,"f-throwOut"+(p.current.f<0?"Up":"Down")))})),l.on("change",u=>{var p;let g=(p=this.getSlide())===null||p===void 0?void 0:p.triggerEl;if(g){const b=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:u.page});g.dispatchEvent(b)}}),l.on(["refresh","change"],u=>{const p=this.container;if(!p)return;for(const m of p.querySelectorAll("[data-fancybox-current-index]"))m.innerHTML=u.page+1;for(const m of p.querySelectorAll("[data-fancybox-count]"))m.innerHTML=u.pages.length;if(!u.isInfinite){for(const m of p.querySelectorAll("[data-fancybox-next]"))u.page<u.pages.length-1?(m.removeAttribute(Kc),m.removeAttribute(pl)):(m.setAttribute(Kc,""),m.setAttribute(pl,"-1"));for(const m of p.querySelectorAll("[data-fancybox-prev]"))u.page>0?(m.removeAttribute(Kc),m.removeAttribute(pl)):(m.setAttribute(Kc,""),m.setAttribute(pl,"-1"))}const g=this.getSlide();if(!g)return;let b=g.downloadSrc||"";b||g.type!=="image"||g.error||!Ea(g[Vc])||(b=g[Vc]);for(const m of p.querySelectorAll("[data-fancybox-download]")){const _=g.downloadFilename;b?(m.removeAttribute(Kc),m.removeAttribute(pl),m.setAttribute(Uh,b),m.setAttribute(fv,_||b),m.setAttribute("target","_blank")):(m.setAttribute(Kc,""),m.setAttribute(pl,"-1"),m.removeAttribute(Uh),m.removeAttribute(fv))}}),this.emit("initCarousel")}attachEvents(){const n=this,r=n.container;if(!r)return;r.addEventListener("click",n.onClick,{passive:!1,capture:!1}),r.addEventListener("wheel",n.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",n.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",n.onVisibilityChange,!1),document.addEventListener("mousemove",n.onMousemove),n.option("trapFocus")&&document.addEventListener("focus",n.onFocus,!0),window.addEventListener("resize",n.onResize);const a=window.visualViewport;a&&(a.addEventListener("scroll",n.onResize),a.addEventListener("resize",n.onResize))}detachEvents(){const n=this,r=n.container;if(!r)return;document.removeEventListener("keydown",n.onKeydown,{passive:!1,capture:!0}),r.removeEventListener("wheel",n.onWheel,{passive:!1,capture:!1}),r.removeEventListener("click",n.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",n.onMousemove),window.removeEventListener("resize",n.onResize);const a=window.visualViewport;a&&(a.removeEventListener("resize",n.onResize),a.removeEventListener("scroll",n.onResize)),document.removeEventListener("visibilitychange",n.onVisibilityChange,!1),document.removeEventListener("focus",n.onFocus,!0)}scale(){const n=this.container;if(!n)return;const r=window.visualViewport,a=Math.max(1,(r==null?void 0:r.scale)||1);let l="",u="",p="";if(r&&a>1){let g=`${r.offsetLeft}px`,b=`${r.offsetTop}px`;l=r.width*a+"px",u=r.height*a+"px",p=`translate3d(${g}, ${b}, 0) scale(${1/a})`}n.style.transform=p,n.style.width=l,n.style.height=u}onClick(n){var r;const{container:a,isCompact:l}=this;if(!a||this.isClosing())return;!l&&this.option("idle")&&this.resetIdle();const u=n.composedPath()[0];if(u.closest(".fancybox-spinner")||u.closest("[data-fancybox-close]"))return n.preventDefault(),void this.close(n);if(u.closest("[data-fancybox-prev]"))return n.preventDefault(),void this.prev();if(u.closest("[data-fancybox-next]"))return n.preventDefault(),void this.next();if(n.type==="click"&&n.detail===0||Math.abs(n.pageX-hv)>30||Math.abs(n.pageY-gv)>30)return;const p=document.activeElement;if(pv()&&p&&a.contains(p))return;if(l&&((r=this.getSlide())===null||r===void 0?void 0:r.type)==="image")return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",n),n.defaultPrevented)return;let g=!1;if(u.closest(".fancybox__content")){if(p){if(p.closest("[contenteditable]"))return;u.matches(Mh)||p.blur()}if(pv())return;g=this.option("contentClick")}else u.closest(".fancybox__carousel")&&!u.matches(Mh)&&(g=this.option("backdropClick"));g==="close"?(n.preventDefault(),this.close(n)):g==="next"?(n.preventDefault(),this.next()):g==="prev"&&(n.preventDefault(),this.prev())}onWheel(n){const r=n.target;let a=this.option("wheel",n);r.closest(".fancybox__thumbs")&&(a="slide");const l=a==="slide",u=[-n.deltaX||0,-n.deltaY||0,-n.detail||0].reduce(function(b,m){return Math.abs(m)>Math.abs(b)?m:b}),p=Math.max(-1,Math.min(1,u)),g=Date.now();this.pwt&&g-this.pwt<300?l&&n.preventDefault():(this.pwt=g,this.emit("wheel",n,p),n.defaultPrevented||(a==="close"?(n.preventDefault(),this.close(n)):a==="slide"&&(hp(r)||(n.preventDefault(),this[p>0?"prev":"next"]()))))}onScroll(){window.scrollTo(mv,vv)}onKeydown(n){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();const r=n.key,a=this.option("keyboard");if(!a)return;const l=n.composedPath()[0],u=document.activeElement&&document.activeElement.classList,p=u&&u.contains("f-button")||l.dataset.carouselPage||l.dataset.carouselIndex;if(r!=="Escape"&&!p&&mi(l)&&(l.isContentEditable||["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(l.nodeName)!==-1)||(n.key==="Tab"?Ve(this.container,zh):Bn(this.container,zh),n.ctrlKey||n.altKey||n.shiftKey))return;this.emit("keydown",r,n);const g=a[r];g&&typeof this[g]=="function"&&(n.preventDefault(),this[g]())}onResize(){const n=this.container;if(!n)return;const r=this.isCompact;n.classList.toggle(uv,r),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(n){this.isTopmost()&&this.checkFocus(n)}onMousemove(n){this.prevMouseMoveEvent=n,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){document.visibilityState==="visible"?this.checkFocus():this.endIdle()}manageCloseBtn(n){const r=this.optionFor(n,"closeButton")||!1;if(r==="auto"){const l=this.plugins.Toolbar;if(l&&l.state===bl.Ready)return}if(!r||!n.contentEl||n.closeBtnEl)return;const a=this.option("tpl.closeButton");if(a){const l=rs(this.localize(a));n.closeBtnEl=n.contentEl.appendChild(l),n.el&&Ve(n.el,"has-close-btn")}}manageCaption(n=void 0){var r,a;const l="fancybox__caption",u=this.container;if(!u)return;Bn(u,ap);const p=this.isCompact||this.option("commonCaption"),g=!p;if(this.caption&&this.stop(this.caption),g&&this.caption&&(this.caption.remove(),this.caption=null),p&&!this.caption)for(const E of((r=this.carousel)===null||r===void 0?void 0:r.slides)||[])E.captionEl&&(E.captionEl.remove(),E.captionEl=void 0,Bn(E.el,ap),(a=E.el)===null||a===void 0||a.removeAttribute("aria-labelledby"));if(n||(n=this.getSlide()),!n||p&&!this.isCurrentSlide(n))return;const b=n.el;let m=this.optionFor(n,"caption","");if(!m)return void(p&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let _=null;if(g){if(_=n.captionEl||null,b&&!_){const E=l+`_${this.id}_${n.index}`;_=document.createElement("div"),Ve(_,l),_.setAttribute("id",E),n.captionEl=b.appendChild(_),Ve(b,ap),b.setAttribute("aria-labelledby",E)}}else _=this.caption,_||(_=u.querySelector("."+l)),!_&&(_=document.createElement("div"),_.dataset.fancyboxCaption="",Ve(_,l),(this.footer||u).prepend(_)),Ve(u,ap),this.caption=_;_&&(_.innerHTML="",Ea(m)||typeof m=="number"?_.innerHTML=m+"":m instanceof HTMLElement&&_.appendChild(m))}checkFocus(n){this.focus(n)}focus(n){var r;if(this.ignoreFocusChange)return;const a=document.activeElement||null,l=(n==null?void 0:n.target)||null,u=this.container,p=(r=this.carousel)===null||r===void 0?void 0:r.viewport;if(!u||!p||!n&&a&&u.contains(a))return;const g=this.getSlide(),b=g&&g.state===Tr.Ready?g.el:null;if(!b||b.contains(a)||u===a)return;n&&n.cancelable&&n.preventDefault(),this.ignoreFocusChange=!0;const m=Array.from(u.querySelectorAll(Mh));let _=[],E=null;for(let k of m){const R=!k.offsetParent||!!k.closest('[aria-hidden="true"]'),A=b&&b.contains(k),M=!p.contains(k);if(k===u||(A||M)&&!R){_.push(k);const L=k.dataset.origTabindex;L!==void 0&&L&&(k.tabIndex=parseFloat(L)),k.removeAttribute("data-orig-tabindex"),!k.hasAttribute("autoFocus")&&E||(E=k)}else{const L=k.dataset.origTabindex===void 0?k.getAttribute("tabindex")||"":k.dataset.origTabindex;L&&(k.dataset.origTabindex=L),k.tabIndex=-1}}let x=null;n?(!l||_.indexOf(l)<0)&&(x=E||u,_.length&&(a===hl?x=_[0]:this.lastFocus!==u&&a!==to||(x=_[_.length-1]))):x=g&&g.type==="image"?u:E||u,x&&Qm(x),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){const n=this.carousel;n&&n.pages.length>1&&n.slideNext()}prev(){const n=this.carousel;n&&n.pages.length>1&&n.slidePrev()}jumpTo(...n){this.carousel&&this.carousel.slideTo(...n)}isTopmost(){var n;return((n=xn.getInstance())===null||n===void 0?void 0:n.id)==this.id}animate(n=null,r="",a){if(!n||!r)return void(a&&a());this.stop(n);const l=u=>{u.target===n&&n.dataset.animationName&&(n.removeEventListener("animationend",l),delete n.dataset.animationName,a&&a(),Bn(n,r))};n.dataset.animationName=r,n.addEventListener("animationend",l),Ve(n,r)}stop(n){n&&n.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:n}))}setContent(n,r="",a=!0){if(this.isClosing())return;const l=n.el;if(!l)return;let u=null;if(mi(r)?u=r:(u=rs(r+""),mi(u)||(u=document.createElement("div"),u.innerHTML=r+"")),["img","picture","iframe","video","audio"].includes(u.nodeName.toLowerCase())){const p=document.createElement("div");p.appendChild(u),u=p}mi(u)&&n.filter&&!n.error&&(u=u.querySelector(n.filter)),u&&mi(u)?(Ve(u,"fancybox__content"),n.id&&u.setAttribute("id",n.id),l.classList.add(`has-${n.error?"error":n.type||"unknown"}`),l.prepend(u),u.style.display==="none"&&(u.style.display=""),getComputedStyle(u).getPropertyValue("display")==="none"&&(u.style.display=n.display||this.option("defaultDisplay")||"flex"),n.contentEl=u,a&&this.revealContent(n),this.manageCloseBtn(n),this.manageCaption(n)):this.setError(n,"{{ELEMENT_NOT_FOUND}}")}revealContent(n,r){const a=n.el,l=n.contentEl;a&&l&&(this.emit("reveal",n),this.hideLoading(n),n.state=Tr.Opening,(r=this.isOpeningSlide(n)?r===void 0?this.optionFor(n,"showClass"):r:"f-fadeIn")?this.animate(l,r,()=>{this.done(n)}):this.done(n))}done(n){this.isClosing()||(n.state=Tr.Ready,this.emit("done",n),Ve(n.el,"is-done"),this.isCurrentSlide(n)&&this.option("autoFocus")&&queueMicrotask(()=>{var r;(r=n.panzoom)===null||r===void 0||r.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(n)&&(Bn(this.container,Fh),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(n){const r=this.getSlide();return!(!n||!r)&&r.index===n.index}isOpeningSlide(n){var r,a;return((r=this.carousel)===null||r===void 0?void 0:r.prevPage)===null&&n&&n.index===((a=this.getSlide())===null||a===void 0?void 0:a.index)}showLoading(n){n.state=Tr.Loading;const r=n.el;r&&(Ve(r,dv),this.emit("loading",n),n.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!n.spinnerEl&&n.state===Tr.Loading){let a=rs(Yg);Ve(a,"fancybox-spinner"),n.spinnerEl=a,r.prepend(a),this.animate(a,"f-fadeIn")}},250))}hideLoading(n){const r=n.el;if(!r)return;const a=n.spinnerEl;this.isClosing()?a==null||a.remove():(Bn(r,dv),a&&this.animate(a,"f-fadeOut",()=>{a.remove()}),n.state===Tr.Loading&&(this.emit("loaded",n),n.state=Tr.Ready))}setError(n,r){if(this.isClosing())return;const a=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",a,n),a.defaultPrevented)return;n.error=r,this.hideLoading(n),this.clearContent(n);const l=document.createElement("div");l.classList.add("fancybox-error"),l.innerHTML=this.localize(r||"<p>{{ERROR}}</p>"),this.setContent(n,l)}clearContent(n){if(n.state===void 0)return;this.emit("clearContent",n),n.contentEl&&(n.contentEl.remove(),n.contentEl=void 0);const r=n.el;r&&(Bn(r,"has-error"),Bn(r,"has-unknown"),Bn(r,`has-${n.type||"unknown"}`)),n.closeBtnEl&&n.closeBtnEl.remove(),n.closeBtnEl=void 0,n.captionEl&&n.captionEl.remove(),n.captionEl=void 0,n.spinnerEl&&n.spinnerEl.remove(),n.spinnerEl=void 0}getSlide(){var n;const r=this.carousel;return((n=r==null?void 0:r.pages[r==null?void 0:r.page])===null||n===void 0?void 0:n.slides[0])||void 0}close(n,r){if(this.isClosing())return;const a=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",a,n),a.defaultPrevented)return;n&&n.cancelable&&(n.preventDefault(),n.stopPropagation());const l=()=>{this.proceedClose(n,r)};this.startedFs&&no&&no.isFullscreen()?Promise.resolve(no.exit()).then(()=>l()):l()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(n=!1){const r=()=>{this.clearIdle(),this.idle=!0,Ve(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(n)r();else{const a=this.option("idle");a&&(this.idleTimer=setTimeout(r,a))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,Bn(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){no&&(no.isFullscreen()?no.exit():no.request().then(()=>{this.startedFs=!0}))}isClosing(){return[ir.Closing,ir.CustomClosing,ir.Destroy].includes(this.state)}proceedClose(n,r){var a,l;this.state=ir.Closing,this.clearIdle(),this.detachEvents();const u=this.container,p=this.carousel,g=this.getSlide(),b=g&&this.option("placeFocusBack")?g.triggerEl||this.option("triggerEl"):null;if(b&&(Ub(b)?Qm(b):b.focus()),u&&(Bn(u,Fh),Ve(u,"is-closing"),u.setAttribute(Dh,"true"),this.option("animated")&&Ve(u,Bh),u.style.pointerEvents="none"),p){p.clearTransitions(),(a=p.panzoom)===null||a===void 0||a.destroy(),(l=p.plugins.Navigation)===null||l===void 0||l.detach();for(const m of p.slides){m.state=Tr.Closing,this.hideLoading(m);const _=m.contentEl;_&&this.stop(_);const E=m==null?void 0:m.panzoom;E&&(E.stop(),E.detachEvents(),E.detachObserver()),this.isCurrentSlide(m)||p.emit("removeSlide",m)}}mv=window.scrollX,vv=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",n),this.state!==ir.CustomClosing?(r===void 0&&g&&(r=this.optionFor(g,"hideClass")),r&&g?(this.animate(g.contentEl,r,()=>{p&&p.emit("removeSlide",g)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var n;if(this.state===ir.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=ir.Destroy,(n=this.carousel)===null||n===void 0||n.destroy();const r=this.container;r&&r.remove(),Yc.delete(this.id);const a=xn.getInstance();a?a.focus():(to&&(to.remove(),to=null),hl&&(hl.remove(),hl=null),Bn(document.documentElement,av),(()=>{if(!kd)return;const l=document,u=l.body;u.classList.remove(Lh),u.style.setProperty(cv,""),l.documentElement.style.setProperty(lv,"")})(),this.emit("destroy"))}static bind(n,r,a){if(!kd)return;let l,u="",p={};if(n===void 0?l=document.body:Ea(n)?(l=document.body,u=n,typeof r=="object"&&(p=r||{})):(l=n,Ea(r)&&(u=r),typeof a=="object"&&(p=a||{})),!l||!mi(l))return;u=u||"[data-fancybox]";const g=xn.openers.get(l)||new Map;g.set(u,p),xn.openers.set(l,g),g.size===1&&l.addEventListener("click",xn.fromEvent)}static unbind(n,r){let a,l="";if(Ea(n)?(a=document.body,l=n):(a=n,Ea(r)&&(l=r)),!a)return;const u=xn.openers.get(a);u&&l&&u.delete(l),l&&u||(xn.openers.delete(a),a.removeEventListener("click",xn.fromEvent))}static destroy(){let n;for(;n=xn.getInstance();)n.destroy();for(const r of xn.openers.keys())r.removeEventListener("click",xn.fromEvent);xn.openers=new Map}static fromEvent(n){if(n.defaultPrevented||n.button&&n.button!==0||n.ctrlKey||n.metaKey||n.shiftKey)return;let r=n.composedPath()[0];const a=r.closest("[data-fancybox-trigger]");if(a){const R=a.dataset.fancyboxTrigger||"",A=document.querySelectorAll(`[data-fancybox="${R}"]`),M=parseInt(a.dataset.fancyboxIndex||"",10)||0;r=A[M]||r}if(!(r&&r instanceof Element))return;let l,u,p,g;if([...xn.openers].reverse().find(([R,A])=>!(!R.contains(r)||![...A].reverse().find(([M,L])=>{let q=r.closest(M);return!!q&&(l=R,u=M,p=q,g=L,!0)}))),!l||!u||!p)return;g=g||{},n.preventDefault(),r=p;let b=[],m=vi({},Dg,g);m.event=n,m.triggerEl=r,m.delegate=a;const _=m.groupAll,E=m.groupAttr,x=E&&r?r.getAttribute(`${E}`):"";if((!r||x||_)&&(b=[].slice.call(l.querySelectorAll(u))),r&&!_&&(b=x?b.filter(R=>R.getAttribute(`${E}`)===x):[r]),!b.length)return;const k=xn.getInstance();return k&&k.options.triggerEl&&b.indexOf(k.options.triggerEl)>-1?void 0:(r&&(m.startIndex=b.indexOf(r)),xn.fromNodes(b,m))}static fromSelector(n,r,a){let l=null,u="",p={};if(Ea(n)?(l=document.body,u=n,typeof r=="object"&&(p=r||{})):n instanceof HTMLElement&&Ea(r)&&(l=n,u=r,typeof a=="object"&&(p=a||{})),!l||!u)return!1;const g=xn.openers.get(l);return!!g&&(p=vi({},g.get(u)||{},p),!!p&&xn.fromNodes(Array.from(l.querySelectorAll(u)),p))}static fromNodes(n,r){r=vi({},Dg,r||{});const a=[];for(const l of n){const u=l.dataset||{},p=u[Vc]||l.getAttribute(Uh)||l.getAttribute("currentSrc")||l.getAttribute(Vc)||void 0;let g;const b=r.delegate;let m;b&&a.length===r.startIndex&&(g=b instanceof HTMLImageElement?b:b.querySelector("img:not([aria-hidden])")),g||(g=l instanceof HTMLImageElement?l:l.querySelector("img:not([aria-hidden])")),g&&(m=g.currentSrc||g[Vc]||void 0,!m&&g.dataset&&(m=g.dataset.lazySrc||g.dataset[Vc]||void 0));const _={src:p,triggerEl:l,thumbEl:g,thumbElSrc:m,thumbSrc:m};for(const E in u){let x=u[E]+"";x=x!=="false"&&(x==="true"||x),_[E]=x}a.push(_)}return new xn(a,r)}static getInstance(n){return n?Yc.get(n):Array.from(Yc.values()).reverse().find(r=>!r.isClosing()&&r)||null}static getSlide(){var n;return((n=xn.getInstance())===null||n===void 0?void 0:n.getSlide())||null}static show(n=[],r={}){return new xn(n,r)}static next(){const n=xn.getInstance();n&&n.next()}static prev(){const n=xn.getInstance();n&&n.prev()}static close(n=!0,...r){if(n)for(const a of Yc.values())a.close(...r);else{const a=xn.getInstance();a&&a.close(...r)}}}Object.defineProperty(xn,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(xn,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Dg}),Object.defineProperty(xn,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Aw}),Object.defineProperty(xn,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:ey,setPrototypeOf:bv,isFrozen:Nw,getPrototypeOf:Ow,getOwnPropertyDescriptor:Pw}=Object;let{freeze:Vr,seal:oo,create:ny}=Object,{apply:zg,construct:Bg}=typeof Reflect<"u"&&Reflect;Vr||(Vr=function(n){return n});oo||(oo=function(n){return n});zg||(zg=function(n,r,a){return n.apply(r,a)});Bg||(Bg=function(n,r){return new n(...r)});const lp=Yr(Array.prototype.forEach),Iw=Yr(Array.prototype.lastIndexOf),yv=Yr(Array.prototype.pop),md=Yr(Array.prototype.push),Lw=Yr(Array.prototype.splice),fp=Yr(String.prototype.toLowerCase),$h=Yr(String.prototype.toString),_v=Yr(String.prototype.match),vd=Yr(String.prototype.replace),Dw=Yr(String.prototype.indexOf),zw=Yr(String.prototype.trim),To=Yr(Object.prototype.hasOwnProperty),Gr=Yr(RegExp.prototype.test),bd=Bw(TypeError);function Yr(f){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return zg(f,n,a)}}function Bw(f){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Bg(f,r)}}function Sn(f,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fp;bv&&bv(f,null);let a=n.length;for(;a--;){let l=n[a];if(typeof l=="string"){const u=r(l);u!==l&&(Nw(n)||(n[a]=u),l=u)}f[l]=!0}return f}function Fw(f){for(let n=0;n<f.length;n++)To(f,n)||(f[n]=null);return f}function ml(f){const n=ny(null);for(const[r,a]of ey(f))To(f,r)&&(Array.isArray(a)?n[r]=Fw(a):a&&typeof a=="object"&&a.constructor===Object?n[r]=ml(a):n[r]=a);return n}function yd(f,n){for(;f!==null;){const a=Pw(f,n);if(a){if(a.get)return Yr(a.get);if(typeof a.value=="function")return Yr(a.value)}f=Ow(f)}function r(){return null}return r}const Ev=Vr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),jh=Vr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Wh=Vr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Uw=Vr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Hh=Vr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$w=Vr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wv=Vr(["#text"]),Sv=Vr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qh=Vr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xv=Vr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),cp=Vr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jw=oo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ww=oo(/<%[\w\W]*|[\w\W]*%>/gm),Hw=oo(/\$\{[\w\W]*/gm),qw=oo(/^data-[\-\w.\u00B7-\uFFFF]+$/),Gw=oo(/^aria-[\-\w]+$/),ty=oo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kw=oo(/^(?:\w+script|data):/i),Vw=oo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ry=oo(/^html$/i),Yw=oo(/^[a-z][.\w]*(-[.\w]+)+$/i);var kv=Object.freeze({__proto__:null,ARIA_ATTR:Gw,ATTR_WHITESPACE:Vw,CUSTOM_ELEMENT:Yw,DATA_ATTR:qw,DOCTYPE_NAME:ry,ERB_EXPR:Ww,IS_ALLOWED_URI:ty,IS_SCRIPT_OR_DATA:Kw,MUSTACHE_EXPR:jw,TMPLIT_EXPR:Hw});const _d={element:1,text:3,progressingInstruction:7,comment:8,document:9},Xw=function(){return typeof window>"u"?null:window},Zw=function(n,r){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let a=null;const l="data-tt-policy-suffix";r&&r.hasAttribute(l)&&(a=r.getAttribute(l));const u="dompurify"+(a?"#"+a:"");try{return n.createPolicy(u,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}},Tv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function iy(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xw();const n=Ue=>iy(Ue);if(n.version="3.2.5",n.removed=[],!f||!f.document||f.document.nodeType!==_d.document||!f.Element)return n.isSupported=!1,n;let{document:r}=f;const a=r,l=a.currentScript,{DocumentFragment:u,HTMLTemplateElement:p,Node:g,Element:b,NodeFilter:m,NamedNodeMap:_=f.NamedNodeMap||f.MozNamedAttrMap,HTMLFormElement:E,DOMParser:x,trustedTypes:k}=f,R=b.prototype,A=yd(R,"cloneNode"),M=yd(R,"remove"),L=yd(R,"nextSibling"),q=yd(R,"childNodes"),K=yd(R,"parentNode");if(typeof p=="function"){const Ue=r.createElement("template");Ue.content&&Ue.content.ownerDocument&&(r=Ue.content.ownerDocument)}let Q,ue="";const{implementation:_e,createNodeIterator:he,createDocumentFragment:me,getElementsByTagName:Ge}=r,{importNode:je}=a;let Ee=Tv();n.isSupported=typeof ey=="function"&&typeof K=="function"&&_e&&_e.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:cn,ERB_EXPR:qe,TMPLIT_EXPR:ge,DATA_ATTR:re,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:ie,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:oe}=kv;let{IS_ALLOWED_URI:J}=kv,P=null;const X=Sn({},[...Ev,...jh,...Wh,...Hh,...wv]);let be=null;const Ne=Sn({},[...Sv,...qh,...xv,...cp]);let ye=Object.seal(ny(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),We=null,Be=null,Ie=!0,Ke=!0,en=!1,_n=!0,Rn=!1,qn=!0,Gn=!1,hr=!1,Xr=!1,it=!1,Cr=!1,Zr=!1,Dt=!0,Yn=!1;const Rr="user-content-";let gr=!0,Rt=!1,pt={},et=null;const zt=Sn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Bt=null;const Qr=Sn({},["audio","video","img","source","image","track"]);let Ft=null;const mr=Sn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ar="http://www.w3.org/1998/Math/MathML",Mr="http://www.w3.org/2000/svg",St="http://www.w3.org/1999/xhtml";let vr=St,Nr=!1,Or=null;const bi=Sn({},[Ar,Mr,St],$h);let Pr=Sn({},["mi","mo","mn","ms","mtext"]),gn=Sn({},["annotation-xml"]);const Gt=Sn({},["title","style","font","a","script"]);let ct=null;const Ir=["application/xhtml+xml","text/html"],I="text/html";let Y=null,ve=null;const nn=r.createElement("form"),Fn=function(B){return B instanceof RegExp||B instanceof Function},Un=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ve&&ve===B)){if((!B||typeof B!="object")&&(B={}),B=ml(B),ct=Ir.indexOf(B.PARSER_MEDIA_TYPE)===-1?I:B.PARSER_MEDIA_TYPE,Y=ct==="application/xhtml+xml"?$h:fp,P=To(B,"ALLOWED_TAGS")?Sn({},B.ALLOWED_TAGS,Y):X,be=To(B,"ALLOWED_ATTR")?Sn({},B.ALLOWED_ATTR,Y):Ne,Or=To(B,"ALLOWED_NAMESPACES")?Sn({},B.ALLOWED_NAMESPACES,$h):bi,Ft=To(B,"ADD_URI_SAFE_ATTR")?Sn(ml(mr),B.ADD_URI_SAFE_ATTR,Y):mr,Bt=To(B,"ADD_DATA_URI_TAGS")?Sn(ml(Qr),B.ADD_DATA_URI_TAGS,Y):Qr,et=To(B,"FORBID_CONTENTS")?Sn({},B.FORBID_CONTENTS,Y):zt,We=To(B,"FORBID_TAGS")?Sn({},B.FORBID_TAGS,Y):{},Be=To(B,"FORBID_ATTR")?Sn({},B.FORBID_ATTR,Y):{},pt=To(B,"USE_PROFILES")?B.USE_PROFILES:!1,Ie=B.ALLOW_ARIA_ATTR!==!1,Ke=B.ALLOW_DATA_ATTR!==!1,en=B.ALLOW_UNKNOWN_PROTOCOLS||!1,_n=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Rn=B.SAFE_FOR_TEMPLATES||!1,qn=B.SAFE_FOR_XML!==!1,Gn=B.WHOLE_DOCUMENT||!1,it=B.RETURN_DOM||!1,Cr=B.RETURN_DOM_FRAGMENT||!1,Zr=B.RETURN_TRUSTED_TYPE||!1,Xr=B.FORCE_BODY||!1,Dt=B.SANITIZE_DOM!==!1,Yn=B.SANITIZE_NAMED_PROPS||!1,gr=B.KEEP_CONTENT!==!1,Rt=B.IN_PLACE||!1,J=B.ALLOWED_URI_REGEXP||ty,vr=B.NAMESPACE||St,Pr=B.MATHML_TEXT_INTEGRATION_POINTS||Pr,gn=B.HTML_INTEGRATION_POINTS||gn,ye=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&Fn(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ye.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&Fn(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ye.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ye.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rn&&(Ke=!1),Cr&&(it=!0),pt&&(P=Sn({},wv),be=[],pt.html===!0&&(Sn(P,Ev),Sn(be,Sv)),pt.svg===!0&&(Sn(P,jh),Sn(be,qh),Sn(be,cp)),pt.svgFilters===!0&&(Sn(P,Wh),Sn(be,qh),Sn(be,cp)),pt.mathMl===!0&&(Sn(P,Hh),Sn(be,xv),Sn(be,cp))),B.ADD_TAGS&&(P===X&&(P=ml(P)),Sn(P,B.ADD_TAGS,Y)),B.ADD_ATTR&&(be===Ne&&(be=ml(be)),Sn(be,B.ADD_ATTR,Y)),B.ADD_URI_SAFE_ATTR&&Sn(Ft,B.ADD_URI_SAFE_ATTR,Y),B.FORBID_CONTENTS&&(et===zt&&(et=ml(et)),Sn(et,B.FORBID_CONTENTS,Y)),gr&&(P["#text"]=!0),Gn&&Sn(P,["html","head","body"]),P.table&&(Sn(P,["tbody"]),delete We.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw bd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw bd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=B.TRUSTED_TYPES_POLICY,ue=Q.createHTML("")}else Q===void 0&&(Q=Zw(k,l)),Q!==null&&typeof ue=="string"&&(ue=Q.createHTML(""));Vr&&Vr(B),ve=B}},Oe=Sn({},[...jh,...Wh,...Uw]),ke=Sn({},[...Hh,...$w]),Ye=function(B){let de=K(B);(!de||!de.tagName)&&(de={namespaceURI:vr,tagName:"template"});const Ce=fp(B.tagName),An=fp(de.tagName);return Or[B.namespaceURI]?B.namespaceURI===Mr?de.namespaceURI===St?Ce==="svg":de.namespaceURI===Ar?Ce==="svg"&&(An==="annotation-xml"||Pr[An]):!!Oe[Ce]:B.namespaceURI===Ar?de.namespaceURI===St?Ce==="math":de.namespaceURI===Mr?Ce==="math"&&gn[An]:!!ke[Ce]:B.namespaceURI===St?de.namespaceURI===Mr&&!gn[An]||de.namespaceURI===Ar&&!Pr[An]?!1:!ke[Ce]&&(Gt[Ce]||!Oe[Ce]):!!(ct==="application/xhtml+xml"&&Or[B.namespaceURI]):!1},kn=function(B){md(n.removed,{element:B});try{K(B).removeChild(B)}catch{M(B)}},Pn=function(B,de){try{md(n.removed,{attribute:de.getAttributeNode(B),from:de})}catch{md(n.removed,{attribute:null,from:de})}if(de.removeAttribute(B),B==="is")if(it||Cr)try{kn(de)}catch{}else try{de.setAttribute(B,"")}catch{}},Lr=function(B){let de=null,Ce=null;if(Xr)B="<remove></remove>"+B;else{const ln=_v(B,/^[\r\n\t ]+/);Ce=ln&&ln[0]}ct==="application/xhtml+xml"&&vr===St&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");const An=Q?Q.createHTML(B):B;if(vr===St)try{de=new x().parseFromString(An,ct)}catch{}if(!de||!de.documentElement){de=_e.createDocument(vr,"template",null);try{de.documentElement.innerHTML=Nr?ue:An}catch{}}const ht=de.body||de.documentElement;return B&&Ce&&ht.insertBefore(r.createTextNode(Ce),ht.childNodes[0]||null),vr===St?Ge.call(de,Gn?"html":"body")[0]:Gn?de.documentElement:ht},yi=function(B){return he.call(B.ownerDocument||B,B,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},_i=function(B){return B instanceof E&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof _)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},zs=function(B){return typeof g=="function"&&B instanceof g};function or(Ue,B,de){lp(Ue,Ce=>{Ce.call(n,B,de,ve)})}const Bs=function(B){let de=null;if(or(Ee.beforeSanitizeElements,B,null),_i(B))return kn(B),!0;const Ce=Y(B.nodeName);if(or(Ee.uponSanitizeElement,B,{tagName:Ce,allowedTags:P}),B.hasChildNodes()&&!zs(B.firstElementChild)&&Gr(/<[/\w!]/g,B.innerHTML)&&Gr(/<[/\w!]/g,B.textContent)||B.nodeType===_d.progressingInstruction||qn&&B.nodeType===_d.comment&&Gr(/<[/\w]/g,B.data))return kn(B),!0;if(!P[Ce]||We[Ce]){if(!We[Ce]&&Ro(Ce)&&(ye.tagNameCheck instanceof RegExp&&Gr(ye.tagNameCheck,Ce)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(Ce)))return!1;if(gr&&!et[Ce]){const An=K(B)||B.parentNode,ht=q(B)||B.childNodes;if(ht&&An){const ln=ht.length;for(let At=ln-1;At>=0;--At){const Kt=A(ht[At],!0);Kt.__removalCount=(B.__removalCount||0)+1,An.insertBefore(Kt,L(B))}}}return kn(B),!0}return B instanceof b&&!Ye(B)||(Ce==="noscript"||Ce==="noembed"||Ce==="noframes")&&Gr(/<\/no(script|embed|frames)/i,B.innerHTML)?(kn(B),!0):(Rn&&B.nodeType===_d.text&&(de=B.textContent,lp([cn,qe,ge],An=>{de=vd(de,An," ")}),B.textContent!==de&&(md(n.removed,{element:B.cloneNode()}),B.textContent=de)),or(Ee.afterSanitizeElements,B,null),!1)},Jr=function(B,de,Ce){if(Dt&&(de==="id"||de==="name")&&(Ce in r||Ce in nn))return!1;if(!(Ke&&!Be[de]&&Gr(re,de))){if(!(Ie&&Gr(ee,de))){if(!be[de]||Be[de]){if(!(Ro(B)&&(ye.tagNameCheck instanceof RegExp&&Gr(ye.tagNameCheck,B)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(B))&&(ye.attributeNameCheck instanceof RegExp&&Gr(ye.attributeNameCheck,de)||ye.attributeNameCheck instanceof Function&&ye.attributeNameCheck(de))||de==="is"&&ye.allowCustomizedBuiltInElements&&(ye.tagNameCheck instanceof RegExp&&Gr(ye.tagNameCheck,Ce)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(Ce))))return!1}else if(!Ft[de]){if(!Gr(J,vd(Ce,j,""))){if(!((de==="src"||de==="xlink:href"||de==="href")&&B!=="script"&&Dw(Ce,"data:")===0&&Bt[B])){if(!(en&&!Gr(ie,vd(Ce,j,"")))){if(Ce)return!1}}}}}}return!0},Ro=function(B){return B!=="annotation-xml"&&_v(B,oe)},Ao=function(B){or(Ee.beforeSanitizeAttributes,B,null);const{attributes:de}=B;if(!de||_i(B))return;const Ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be,forceKeepAttr:void 0};let An=de.length;for(;An--;){const ht=de[An],{name:ln,namespaceURI:At,value:Kt}=ht,Dr=Y(ln);let ot=ln==="value"?Kt:zw(Kt);if(Ce.attrName=Dr,Ce.attrValue=ot,Ce.keepAttr=!0,Ce.forceKeepAttr=void 0,or(Ee.uponSanitizeAttribute,B,Ce),ot=Ce.attrValue,Yn&&(Dr==="id"||Dr==="name")&&(Pn(ln,B),ot=Rr+ot),qn&&Gr(/((--!?|])>)|<\/(style|title)/i,ot)){Pn(ln,B);continue}if(Ce.forceKeepAttr||(Pn(ln,B),!Ce.keepAttr))continue;if(!_n&&Gr(/\/>/i,ot)){Pn(ln,B);continue}Rn&&lp([cn,qe,ge],Fe=>{ot=vd(ot,Fe," ")});const fe=Y(B.nodeName);if(Jr(fe,Dr,ot)){if(Q&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!At)switch(k.getAttributeType(fe,Dr)){case"TrustedHTML":{ot=Q.createHTML(ot);break}case"TrustedScriptURL":{ot=Q.createScriptURL(ot);break}}try{At?B.setAttributeNS(At,ln,ot):B.setAttribute(ln,ot),_i(B)?kn(B):yv(n.removed)}catch{}}}or(Ee.afterSanitizeAttributes,B,null)},Mo=function Ue(B){let de=null;const Ce=yi(B);for(or(Ee.beforeSanitizeShadowDOM,B,null);de=Ce.nextNode();)or(Ee.uponSanitizeShadowNode,de,null),Bs(de),Ao(de),de.content instanceof u&&Ue(de.content);or(Ee.afterSanitizeShadowDOM,B,null)};return n.sanitize=function(Ue){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=null,Ce=null,An=null,ht=null;if(Nr=!Ue,Nr&&(Ue="<!-->"),typeof Ue!="string"&&!zs(Ue))if(typeof Ue.toString=="function"){if(Ue=Ue.toString(),typeof Ue!="string")throw bd("dirty is not a string, aborting")}else throw bd("toString is not a function");if(!n.isSupported)return Ue;if(hr||Un(B),n.removed=[],typeof Ue=="string"&&(Rt=!1),Rt){if(Ue.nodeName){const Kt=Y(Ue.nodeName);if(!P[Kt]||We[Kt])throw bd("root node is forbidden and cannot be sanitized in-place")}}else if(Ue instanceof g)de=Lr("<!---->"),Ce=de.ownerDocument.importNode(Ue,!0),Ce.nodeType===_d.element&&Ce.nodeName==="BODY"||Ce.nodeName==="HTML"?de=Ce:de.appendChild(Ce);else{if(!it&&!Rn&&!Gn&&Ue.indexOf("<")===-1)return Q&&Zr?Q.createHTML(Ue):Ue;if(de=Lr(Ue),!de)return it?null:Zr?ue:""}de&&Xr&&kn(de.firstChild);const ln=yi(Rt?Ue:de);for(;An=ln.nextNode();)Bs(An),Ao(An),An.content instanceof u&&Mo(An.content);if(Rt)return Ue;if(it){if(Cr)for(ht=me.call(de.ownerDocument);de.firstChild;)ht.appendChild(de.firstChild);else ht=de;return(be.shadowroot||be.shadowrootmode)&&(ht=je.call(a,ht,!0)),ht}let At=Gn?de.outerHTML:de.innerHTML;return Gn&&P["!doctype"]&&de.ownerDocument&&de.ownerDocument.doctype&&de.ownerDocument.doctype.name&&Gr(ry,de.ownerDocument.doctype.name)&&(At="<!DOCTYPE "+de.ownerDocument.doctype.name+`>
`+At),Rn&&lp([cn,qe,ge],Kt=>{At=vd(At,Kt," ")}),Q&&Zr?Q.createHTML(At):At},n.setConfig=function(){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Un(Ue),hr=!0},n.clearConfig=function(){ve=null,hr=!1},n.isValidAttribute=function(Ue,B,de){ve||Un({});const Ce=Y(Ue),An=Y(B);return Jr(Ce,An,de)},n.addHook=function(Ue,B){typeof B=="function"&&md(Ee[Ue],B)},n.removeHook=function(Ue,B){if(B!==void 0){const de=Iw(Ee[Ue],B);return de===-1?void 0:Lw(Ee[Ue],de,1)[0]}return yv(Ee[Ue])},n.removeHooks=function(Ue){Ee[Ue]=[]},n.removeAllHooks=function(){Ee=Tv()},n}var Qw=iy();function Xg(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let xl=Xg();function oy(f){xl=f}const Td={exec:()=>null};function Hn(f,n=""){let r=typeof f=="string"?f:f.source;const a={replace:(l,u)=>{let p=typeof u=="string"?u:u.source;return p=p.replace(Kr.caret,"$1"),r=r.replace(l,p),a},getRegex:()=>new RegExp(r,n)};return a}const Kr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:f=>new RegExp(`^( {0,3}${f})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:f=>new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:f=>new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:f=>new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:f=>new RegExp(`^ {0,${Math.min(3,f-1)}}#`),htmlBeginRegex:f=>new RegExp(`^ {0,${Math.min(3,f-1)}}<(?:[a-z].*>|!--)`,"i")},Jw=/^(?:[ \t]*(?:\n|$))+/,eS=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,nS=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Od=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,tS=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Zg=/(?:[*+-]|\d{1,9}[.)])/,sy=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ay=Hn(sy).replace(/bull/g,Zg).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),rS=Hn(sy).replace(/bull/g,Zg).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Qg=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,iS=/^[^\n]+/,Jg=/(?!\s*\])(?:\\.|[^\[\]\\])+/,oS=Hn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Jg).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),sS=Hn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Zg).getRegex(),wp="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",em=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,aS=Hn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",em).replace("tag",wp).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ly=Hn(Qg).replace("hr",Od).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wp).getRegex(),lS=Hn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ly).getRegex(),nm={blockquote:lS,code:eS,def:oS,fences:nS,heading:tS,hr:Od,html:aS,lheading:ay,list:sS,newline:Jw,paragraph:ly,table:Td,text:iS},Cv=Hn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Od).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wp).getRegex(),cS={...nm,lheading:rS,table:Cv,paragraph:Hn(Qg).replace("hr",Od).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Cv).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wp).getRegex()},uS={...nm,html:Hn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",em).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Td,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Hn(Qg).replace("hr",Od).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ay).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},dS=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,fS=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,cy=/^( {2,}|\\)\n(?!\s*$)/,pS=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Sp=/[\p{P}\p{S}]/u,tm=/[\s\p{P}\p{S}]/u,uy=/[^\s\p{P}\p{S}]/u,hS=Hn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,tm).getRegex(),dy=/(?!~)[\p{P}\p{S}]/u,gS=/(?!~)[\s\p{P}\p{S}]/u,mS=/(?:[^\s\p{P}\p{S}]|~)/u,vS=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,fy=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,bS=Hn(fy,"u").replace(/punct/g,Sp).getRegex(),yS=Hn(fy,"u").replace(/punct/g,dy).getRegex(),py="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",_S=Hn(py,"gu").replace(/notPunctSpace/g,uy).replace(/punctSpace/g,tm).replace(/punct/g,Sp).getRegex(),ES=Hn(py,"gu").replace(/notPunctSpace/g,mS).replace(/punctSpace/g,gS).replace(/punct/g,dy).getRegex(),wS=Hn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,uy).replace(/punctSpace/g,tm).replace(/punct/g,Sp).getRegex(),SS=Hn(/\\(punct)/,"gu").replace(/punct/g,Sp).getRegex(),xS=Hn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),kS=Hn(em).replace("(?:-->|$)","-->").getRegex(),TS=Hn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",kS).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),vp=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,CS=Hn(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",vp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),hy=Hn(/^!?\[(label)\]\[(ref)\]/).replace("label",vp).replace("ref",Jg).getRegex(),gy=Hn(/^!?\[(ref)\](?:\[\])?/).replace("ref",Jg).getRegex(),RS=Hn("reflink|nolink(?!\\()","g").replace("reflink",hy).replace("nolink",gy).getRegex(),rm={_backpedal:Td,anyPunctuation:SS,autolink:xS,blockSkip:vS,br:cy,code:fS,del:Td,emStrongLDelim:bS,emStrongRDelimAst:_S,emStrongRDelimUnd:wS,escape:dS,link:CS,nolink:gy,punctuation:hS,reflink:hy,reflinkSearch:RS,tag:TS,text:pS,url:Td},AS={...rm,link:Hn(/^!?\[(label)\]\((.*?)\)/).replace("label",vp).getRegex(),reflink:Hn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vp).getRegex()},Fg={...rm,emStrongRDelimAst:ES,emStrongLDelim:yS,url:Hn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},MS={...Fg,br:Hn(cy).replace("{2,}","*").getRegex(),text:Hn(Fg.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},up={normal:nm,gfm:cS,pedantic:uS},Ed={normal:rm,gfm:Fg,breaks:MS,pedantic:AS},NS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Rv=f=>NS[f];function ts(f,n){if(n){if(Kr.escapeTest.test(f))return f.replace(Kr.escapeReplace,Rv)}else if(Kr.escapeTestNoEncode.test(f))return f.replace(Kr.escapeReplaceNoEncode,Rv);return f}function Av(f){try{f=encodeURI(f).replace(Kr.percentDecode,"%")}catch{return null}return f}function Mv(f,n){var u;const r=f.replace(Kr.findPipe,(p,g,b)=>{let m=!1,_=g;for(;--_>=0&&b[_]==="\\";)m=!m;return m?"|":" |"}),a=r.split(Kr.splitPipe);let l=0;if(a[0].trim()||a.shift(),a.length>0&&!((u=a.at(-1))!=null&&u.trim())&&a.pop(),n)if(a.length>n)a.splice(n);else for(;a.length<n;)a.push("");for(;l<a.length;l++)a[l]=a[l].trim().replace(Kr.slashPipe,"|");return a}function wd(f,n,r){const a=f.length;if(a===0)return"";let l=0;for(;l<a&&f.charAt(a-l-1)===n;)l++;return f.slice(0,a-l)}function OS(f,n){if(f.indexOf(n[1])===-1)return-1;let r=0;for(let a=0;a<f.length;a++)if(f[a]==="\\")a++;else if(f[a]===n[0])r++;else if(f[a]===n[1]&&(r--,r<0))return a;return-1}function Nv(f,n,r,a,l){const u=n.href,p=n.title||null,g=f[1].replace(l.other.outputLinkReplace,"$1");if(f[0].charAt(0)!=="!"){a.state.inLink=!0;const b={type:"link",raw:r,href:u,title:p,text:g,tokens:a.inlineTokens(g)};return a.state.inLink=!1,b}return{type:"image",raw:r,href:u,title:p,text:g}}function PS(f,n,r){const a=f.match(r.other.indentCodeCompensation);if(a===null)return n;const l=a[1];return n.split(`
`).map(u=>{const p=u.match(r.other.beginningSpace);if(p===null)return u;const[g]=p;return g.length>=l.length?u.slice(l.length):u}).join(`
`)}class bp{constructor(n){Jn(this,"options");Jn(this,"rules");Jn(this,"lexer");this.options=n||xl}space(n){const r=this.rules.block.newline.exec(n);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(n){const r=this.rules.block.code.exec(n);if(r){const a=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?a:wd(a,`
`)}}}fences(n){const r=this.rules.block.fences.exec(n);if(r){const a=r[0],l=PS(a,r[3]||"",this.rules);return{type:"code",raw:a,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:l}}}heading(n){const r=this.rules.block.heading.exec(n);if(r){let a=r[2].trim();if(this.rules.other.endingHash.test(a)){const l=wd(a,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(a=l.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:a,tokens:this.lexer.inline(a)}}}hr(n){const r=this.rules.block.hr.exec(n);if(r)return{type:"hr",raw:wd(r[0],`
`)}}blockquote(n){const r=this.rules.block.blockquote.exec(n);if(r){let a=wd(r[0],`
`).split(`
`),l="",u="";const p=[];for(;a.length>0;){let g=!1;const b=[];let m;for(m=0;m<a.length;m++)if(this.rules.other.blockquoteStart.test(a[m]))b.push(a[m]),g=!0;else if(!g)b.push(a[m]);else break;a=a.slice(m);const _=b.join(`
`),E=_.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${_}`:_,u=u?`${u}
${E}`:E;const x=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(E,p,!0),this.lexer.state.top=x,a.length===0)break;const k=p.at(-1);if((k==null?void 0:k.type)==="code")break;if((k==null?void 0:k.type)==="blockquote"){const R=k,A=R.raw+`
`+a.join(`
`),M=this.blockquote(A);p[p.length-1]=M,l=l.substring(0,l.length-R.raw.length)+M.raw,u=u.substring(0,u.length-R.text.length)+M.text;break}else if((k==null?void 0:k.type)==="list"){const R=k,A=R.raw+`
`+a.join(`
`),M=this.list(A);p[p.length-1]=M,l=l.substring(0,l.length-k.raw.length)+M.raw,u=u.substring(0,u.length-R.raw.length)+M.raw,a=A.substring(p.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:p,text:u}}}list(n){let r=this.rules.block.list.exec(n);if(r){let a=r[1].trim();const l=a.length>1,u={type:"list",raw:"",ordered:l,start:l?+a.slice(0,-1):"",loose:!1,items:[]};a=l?`\\d{1,9}\\${a.slice(-1)}`:`\\${a}`,this.options.pedantic&&(a=l?a:"[*+-]");const p=this.rules.other.listItemRegex(a);let g=!1;for(;n;){let m=!1,_="",E="";if(!(r=p.exec(n))||this.rules.block.hr.test(n))break;_=r[0],n=n.substring(_.length);let x=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,q=>" ".repeat(3*q.length)),k=n.split(`
`,1)[0],R=!x.trim(),A=0;if(this.options.pedantic?(A=2,E=x.trimStart()):R?A=r[1].length+1:(A=r[2].search(this.rules.other.nonSpaceChar),A=A>4?1:A,E=x.slice(A),A+=r[1].length),R&&this.rules.other.blankLine.test(k)&&(_+=k+`
`,n=n.substring(k.length+1),m=!0),!m){const q=this.rules.other.nextBulletRegex(A),K=this.rules.other.hrRegex(A),Q=this.rules.other.fencesBeginRegex(A),ue=this.rules.other.headingBeginRegex(A),_e=this.rules.other.htmlBeginRegex(A);for(;n;){const he=n.split(`
`,1)[0];let me;if(k=he,this.options.pedantic?(k=k.replace(this.rules.other.listReplaceNesting,"  "),me=k):me=k.replace(this.rules.other.tabCharGlobal,"    "),Q.test(k)||ue.test(k)||_e.test(k)||q.test(k)||K.test(k))break;if(me.search(this.rules.other.nonSpaceChar)>=A||!k.trim())E+=`
`+me.slice(A);else{if(R||x.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Q.test(x)||ue.test(x)||K.test(x))break;E+=`
`+k}!R&&!k.trim()&&(R=!0),_+=he+`
`,n=n.substring(he.length+1),x=me.slice(A)}}u.loose||(g?u.loose=!0:this.rules.other.doubleBlankLine.test(_)&&(g=!0));let M=null,L;this.options.gfm&&(M=this.rules.other.listIsTask.exec(E),M&&(L=M[0]!=="[ ] ",E=E.replace(this.rules.other.listReplaceTask,""))),u.items.push({type:"list_item",raw:_,task:!!M,checked:L,loose:!1,text:E,tokens:[]}),u.raw+=_}const b=u.items.at(-1);if(b)b.raw=b.raw.trimEnd(),b.text=b.text.trimEnd();else return;u.raw=u.raw.trimEnd();for(let m=0;m<u.items.length;m++)if(this.lexer.state.top=!1,u.items[m].tokens=this.lexer.blockTokens(u.items[m].text,[]),!u.loose){const _=u.items[m].tokens.filter(x=>x.type==="space"),E=_.length>0&&_.some(x=>this.rules.other.anyLine.test(x.raw));u.loose=E}if(u.loose)for(let m=0;m<u.items.length;m++)u.items[m].loose=!0;return u}}html(n){const r=this.rules.block.html.exec(n);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(n){const r=this.rules.block.def.exec(n);if(r){const a=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:a,raw:r[0],href:l,title:u}}}table(n){var g;const r=this.rules.block.table.exec(n);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;const a=Mv(r[1]),l=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),u=(g=r[3])!=null&&g.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],p={type:"table",raw:r[0],header:[],align:[],rows:[]};if(a.length===l.length){for(const b of l)this.rules.other.tableAlignRight.test(b)?p.align.push("right"):this.rules.other.tableAlignCenter.test(b)?p.align.push("center"):this.rules.other.tableAlignLeft.test(b)?p.align.push("left"):p.align.push(null);for(let b=0;b<a.length;b++)p.header.push({text:a[b],tokens:this.lexer.inline(a[b]),header:!0,align:p.align[b]});for(const b of u)p.rows.push(Mv(b,p.header.length).map((m,_)=>({text:m,tokens:this.lexer.inline(m),header:!1,align:p.align[_]})));return p}}lheading(n){const r=this.rules.block.lheading.exec(n);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(n){const r=this.rules.block.paragraph.exec(n);if(r){const a=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:a,tokens:this.lexer.inline(a)}}}text(n){const r=this.rules.block.text.exec(n);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(n){const r=this.rules.inline.escape.exec(n);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(n){const r=this.rules.inline.tag.exec(n);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(n){const r=this.rules.inline.link.exec(n);if(r){const a=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(a)){if(!this.rules.other.endAngleBracket.test(a))return;const p=wd(a.slice(0,-1),"\\");if((a.length-p.length)%2===0)return}else{const p=OS(r[2],"()");if(p>-1){const b=(r[0].indexOf("!")===0?5:4)+r[1].length+p;r[2]=r[2].substring(0,p),r[0]=r[0].substring(0,b).trim(),r[3]=""}}let l=r[2],u="";if(this.options.pedantic){const p=this.rules.other.pedanticHrefTitle.exec(l);p&&(l=p[1],u=p[3])}else u=r[3]?r[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(a)?l=l.slice(1):l=l.slice(1,-1)),Nv(r,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:u&&u.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(n,r){let a;if((a=this.rules.inline.reflink.exec(n))||(a=this.rules.inline.nolink.exec(n))){const l=(a[2]||a[1]).replace(this.rules.other.multipleSpaceGlobal," "),u=r[l.toLowerCase()];if(!u){const p=a[0].charAt(0);return{type:"text",raw:p,text:p}}return Nv(a,u,a[0],this.lexer,this.rules)}}emStrong(n,r,a=""){let l=this.rules.inline.emStrongLDelim.exec(n);if(!l||l[3]&&a.match(this.rules.other.unicodeAlphaNumeric))return;if(!(l[1]||l[2]||"")||!a||this.rules.inline.punctuation.exec(a)){const p=[...l[0]].length-1;let g,b,m=p,_=0;const E=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(E.lastIndex=0,r=r.slice(-1*n.length+p);(l=E.exec(r))!=null;){if(g=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!g)continue;if(b=[...g].length,l[3]||l[4]){m+=b;continue}else if((l[5]||l[6])&&p%3&&!((p+b)%3)){_+=b;continue}if(m-=b,m>0)continue;b=Math.min(b,b+m+_);const x=[...l[0]][0].length,k=n.slice(0,p+l.index+x+b);if(Math.min(p,b)%2){const A=k.slice(1,-1);return{type:"em",raw:k,text:A,tokens:this.lexer.inlineTokens(A)}}const R=k.slice(2,-2);return{type:"strong",raw:k,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(n){const r=this.rules.inline.code.exec(n);if(r){let a=r[2].replace(this.rules.other.newLineCharGlobal," ");const l=this.rules.other.nonSpaceChar.test(a),u=this.rules.other.startingSpaceChar.test(a)&&this.rules.other.endingSpaceChar.test(a);return l&&u&&(a=a.substring(1,a.length-1)),{type:"codespan",raw:r[0],text:a}}}br(n){const r=this.rules.inline.br.exec(n);if(r)return{type:"br",raw:r[0]}}del(n){const r=this.rules.inline.del.exec(n);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(n){const r=this.rules.inline.autolink.exec(n);if(r){let a,l;return r[2]==="@"?(a=r[1],l="mailto:"+a):(a=r[1],l=a),{type:"link",raw:r[0],text:a,href:l,tokens:[{type:"text",raw:a,text:a}]}}}url(n){var a;let r;if(r=this.rules.inline.url.exec(n)){let l,u;if(r[2]==="@")l=r[0],u="mailto:"+l;else{let p;do p=r[0],r[0]=((a=this.rules.inline._backpedal.exec(r[0]))==null?void 0:a[0])??"";while(p!==r[0]);l=r[0],r[1]==="www."?u="http://"+r[0]:u=r[0]}return{type:"link",raw:r[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(n){const r=this.rules.inline.text.exec(n);if(r){const a=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:a}}}}class ro{constructor(n){Jn(this,"tokens");Jn(this,"options");Jn(this,"state");Jn(this,"tokenizer");Jn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=n||xl,this.options.tokenizer=this.options.tokenizer||new bp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:Kr,block:up.normal,inline:Ed.normal};this.options.pedantic?(r.block=up.pedantic,r.inline=Ed.pedantic):this.options.gfm&&(r.block=up.gfm,this.options.breaks?r.inline=Ed.breaks:r.inline=Ed.gfm),this.tokenizer.rules=r}static get rules(){return{block:up,inline:Ed}}static lex(n,r){return new ro(r).lex(n)}static lexInline(n,r){return new ro(r).inlineTokens(n)}lex(n){n=n.replace(Kr.carriageReturn,`
`),this.blockTokens(n,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const a=this.inlineQueue[r];this.inlineTokens(a.src,a.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(n,r=[],a=!1){var l,u,p;for(this.options.pedantic&&(n=n.replace(Kr.tabCharGlobal,"    ").replace(Kr.spaceLine,""));n;){let g;if((u=(l=this.options.extensions)==null?void 0:l.block)!=null&&u.some(m=>(g=m.call({lexer:this},n,r))?(n=n.substring(g.raw.length),r.push(g),!0):!1))continue;if(g=this.tokenizer.space(n)){n=n.substring(g.raw.length);const m=r.at(-1);g.raw.length===1&&m!==void 0?m.raw+=`
`:r.push(g);continue}if(g=this.tokenizer.code(n)){n=n.substring(g.raw.length);const m=r.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=`
`+g.raw,m.text+=`
`+g.text,this.inlineQueue.at(-1).src=m.text):r.push(g);continue}if(g=this.tokenizer.fences(n)){n=n.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.heading(n)){n=n.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.hr(n)){n=n.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.blockquote(n)){n=n.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.list(n)){n=n.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.html(n)){n=n.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.def(n)){n=n.substring(g.raw.length);const m=r.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=`
`+g.raw,m.text+=`
`+g.raw,this.inlineQueue.at(-1).src=m.text):this.tokens.links[g.tag]||(this.tokens.links[g.tag]={href:g.href,title:g.title});continue}if(g=this.tokenizer.table(n)){n=n.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.lheading(n)){n=n.substring(g.raw.length),r.push(g);continue}let b=n;if((p=this.options.extensions)!=null&&p.startBlock){let m=1/0;const _=n.slice(1);let E;this.options.extensions.startBlock.forEach(x=>{E=x.call({lexer:this},_),typeof E=="number"&&E>=0&&(m=Math.min(m,E))}),m<1/0&&m>=0&&(b=n.substring(0,m+1))}if(this.state.top&&(g=this.tokenizer.paragraph(b))){const m=r.at(-1);a&&(m==null?void 0:m.type)==="paragraph"?(m.raw+=`
`+g.raw,m.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):r.push(g),a=b.length!==n.length,n=n.substring(g.raw.length);continue}if(g=this.tokenizer.text(n)){n=n.substring(g.raw.length);const m=r.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=`
`+g.raw,m.text+=`
`+g.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):r.push(g);continue}if(n){const m="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return this.state.top=!0,r}inline(n,r=[]){return this.inlineQueue.push({src:n,tokens:r}),r}inlineTokens(n,r=[]){var g,b,m;let a=n,l=null;if(this.tokens.links){const _=Object.keys(this.tokens.links);if(_.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)_.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,l.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(l=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let u=!1,p="";for(;n;){u||(p=""),u=!1;let _;if((b=(g=this.options.extensions)==null?void 0:g.inline)!=null&&b.some(x=>(_=x.call({lexer:this},n,r))?(n=n.substring(_.raw.length),r.push(_),!0):!1))continue;if(_=this.tokenizer.escape(n)){n=n.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.tag(n)){n=n.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.link(n)){n=n.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(_.raw.length);const x=r.at(-1);_.type==="text"&&(x==null?void 0:x.type)==="text"?(x.raw+=_.raw,x.text+=_.text):r.push(_);continue}if(_=this.tokenizer.emStrong(n,a,p)){n=n.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.codespan(n)){n=n.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.br(n)){n=n.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.del(n)){n=n.substring(_.raw.length),r.push(_);continue}if(_=this.tokenizer.autolink(n)){n=n.substring(_.raw.length),r.push(_);continue}if(!this.state.inLink&&(_=this.tokenizer.url(n))){n=n.substring(_.raw.length),r.push(_);continue}let E=n;if((m=this.options.extensions)!=null&&m.startInline){let x=1/0;const k=n.slice(1);let R;this.options.extensions.startInline.forEach(A=>{R=A.call({lexer:this},k),typeof R=="number"&&R>=0&&(x=Math.min(x,R))}),x<1/0&&x>=0&&(E=n.substring(0,x+1))}if(_=this.tokenizer.inlineText(E)){n=n.substring(_.raw.length),_.raw.slice(-1)!=="_"&&(p=_.raw.slice(-1)),u=!0;const x=r.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=_.raw,x.text+=_.text):r.push(_);continue}if(n){const x="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return r}}class yp{constructor(n){Jn(this,"options");Jn(this,"parser");this.options=n||xl}space(n){return""}code({text:n,lang:r,escaped:a}){var p;const l=(p=(r||"").match(Kr.notSpaceStart))==null?void 0:p[0],u=n.replace(Kr.endingNewline,"")+`
`;return l?'<pre><code class="language-'+ts(l)+'">'+(a?u:ts(u,!0))+`</code></pre>
`:"<pre><code>"+(a?u:ts(u,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:r}){return`<h${r}>${this.parser.parseInline(n)}</h${r}>
`}hr(n){return`<hr>
`}list(n){const r=n.ordered,a=n.start;let l="";for(let g=0;g<n.items.length;g++){const b=n.items[g];l+=this.listitem(b)}const u=r?"ol":"ul",p=r&&a!==1?' start="'+a+'"':"";return"<"+u+p+`>
`+l+"</"+u+`>
`}listitem(n){var a;let r="";if(n.task){const l=this.checkbox({checked:!!n.checked});n.loose?((a=n.tokens[0])==null?void 0:a.type)==="paragraph"?(n.tokens[0].text=l+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=l+" "+ts(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:l+" ",text:l+" ",escaped:!0}):r+=l+" "}return r+=this.parser.parse(n.tokens,!!n.loose),`<li>${r}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let r="",a="";for(let u=0;u<n.header.length;u++)a+=this.tablecell(n.header[u]);r+=this.tablerow({text:a});let l="";for(let u=0;u<n.rows.length;u++){const p=n.rows[u];a="";for(let g=0;g<p.length;g++)a+=this.tablecell(p[g]);l+=this.tablerow({text:a})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+l+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){const r=this.parser.parseInline(n.tokens),a=n.header?"th":"td";return(n.align?`<${a} align="${n.align}">`:`<${a}>`)+r+`</${a}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${ts(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:r,tokens:a}){const l=this.parser.parseInline(a),u=Av(n);if(u===null)return l;n=u;let p='<a href="'+n+'"';return r&&(p+=' title="'+ts(r)+'"'),p+=">"+l+"</a>",p}image({href:n,title:r,text:a}){const l=Av(n);if(l===null)return ts(a);n=l;let u=`<img src="${n}" alt="${a}"`;return r&&(u+=` title="${ts(r)}"`),u+=">",u}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:ts(n.text)}}class im{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}}class io{constructor(n){Jn(this,"options");Jn(this,"renderer");Jn(this,"textRenderer");this.options=n||xl,this.options.renderer=this.options.renderer||new yp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new im}static parse(n,r){return new io(r).parse(n)}static parseInline(n,r){return new io(r).parseInline(n)}parse(n,r=!0){var l,u;let a="";for(let p=0;p<n.length;p++){const g=n[p];if((u=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&u[g.type]){const m=g,_=this.options.extensions.renderers[m.type].call({parser:this},m);if(_!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type)){a+=_||"";continue}}const b=g;switch(b.type){case"space":{a+=this.renderer.space(b);continue}case"hr":{a+=this.renderer.hr(b);continue}case"heading":{a+=this.renderer.heading(b);continue}case"code":{a+=this.renderer.code(b);continue}case"table":{a+=this.renderer.table(b);continue}case"blockquote":{a+=this.renderer.blockquote(b);continue}case"list":{a+=this.renderer.list(b);continue}case"html":{a+=this.renderer.html(b);continue}case"paragraph":{a+=this.renderer.paragraph(b);continue}case"text":{let m=b,_=this.renderer.text(m);for(;p+1<n.length&&n[p+1].type==="text";)m=n[++p],_+=`
`+this.renderer.text(m);r?a+=this.renderer.paragraph({type:"paragraph",raw:_,text:_,tokens:[{type:"text",raw:_,text:_,escaped:!0}]}):a+=_;continue}default:{const m='Token with "'+b.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return a}parseInline(n,r=this.renderer){var l,u;let a="";for(let p=0;p<n.length;p++){const g=n[p];if((u=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&u[g.type]){const m=this.options.extensions.renderers[g.type].call({parser:this},g);if(m!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type)){a+=m||"";continue}}const b=g;switch(b.type){case"escape":{a+=r.text(b);break}case"html":{a+=r.html(b);break}case"link":{a+=r.link(b);break}case"image":{a+=r.image(b);break}case"strong":{a+=r.strong(b);break}case"em":{a+=r.em(b);break}case"codespan":{a+=r.codespan(b);break}case"br":{a+=r.br(b);break}case"del":{a+=r.del(b);break}case"text":{a+=r.text(b);break}default:{const m='Token with "'+b.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return a}}class Cd{constructor(n){Jn(this,"options");Jn(this,"block");this.options=n||xl}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?ro.lex:ro.lexInline}provideParser(){return this.block?io.parse:io.parseInline}}Jn(Cd,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class IS{constructor(...n){Jn(this,"defaults",Xg());Jn(this,"options",this.setOptions);Jn(this,"parse",this.parseMarkdown(!0));Jn(this,"parseInline",this.parseMarkdown(!1));Jn(this,"Parser",io);Jn(this,"Renderer",yp);Jn(this,"TextRenderer",im);Jn(this,"Lexer",ro);Jn(this,"Tokenizer",bp);Jn(this,"Hooks",Cd);this.use(...n)}walkTokens(n,r){var l,u;let a=[];for(const p of n)switch(a=a.concat(r.call(this,p)),p.type){case"table":{const g=p;for(const b of g.header)a=a.concat(this.walkTokens(b.tokens,r));for(const b of g.rows)for(const m of b)a=a.concat(this.walkTokens(m.tokens,r));break}case"list":{const g=p;a=a.concat(this.walkTokens(g.items,r));break}default:{const g=p;(u=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&u[g.type]?this.defaults.extensions.childTokens[g.type].forEach(b=>{const m=g[b].flat(1/0);a=a.concat(this.walkTokens(m,r))}):g.tokens&&(a=a.concat(this.walkTokens(g.tokens,r)))}}return a}use(...n){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(a=>{const l={...a};if(l.async=this.defaults.async||l.async||!1,a.extensions&&(a.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const p=r.renderers[u.name];p?r.renderers[u.name]=function(...g){let b=u.renderer.apply(this,g);return b===!1&&(b=p.apply(this,g)),b}:r.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const p=r[u.level];p?p.unshift(u.tokenizer):r[u.level]=[u.tokenizer],u.start&&(u.level==="block"?r.startBlock?r.startBlock.push(u.start):r.startBlock=[u.start]:u.level==="inline"&&(r.startInline?r.startInline.push(u.start):r.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(r.childTokens[u.name]=u.childTokens)}),l.extensions=r),a.renderer){const u=this.defaults.renderer||new yp(this.defaults);for(const p in a.renderer){if(!(p in u))throw new Error(`renderer '${p}' does not exist`);if(["options","parser"].includes(p))continue;const g=p,b=a.renderer[g],m=u[g];u[g]=(..._)=>{let E=b.apply(u,_);return E===!1&&(E=m.apply(u,_)),E||""}}l.renderer=u}if(a.tokenizer){const u=this.defaults.tokenizer||new bp(this.defaults);for(const p in a.tokenizer){if(!(p in u))throw new Error(`tokenizer '${p}' does not exist`);if(["options","rules","lexer"].includes(p))continue;const g=p,b=a.tokenizer[g],m=u[g];u[g]=(..._)=>{let E=b.apply(u,_);return E===!1&&(E=m.apply(u,_)),E}}l.tokenizer=u}if(a.hooks){const u=this.defaults.hooks||new Cd;for(const p in a.hooks){if(!(p in u))throw new Error(`hook '${p}' does not exist`);if(["options","block"].includes(p))continue;const g=p,b=a.hooks[g],m=u[g];Cd.passThroughHooks.has(p)?u[g]=_=>{if(this.defaults.async)return Promise.resolve(b.call(u,_)).then(x=>m.call(u,x));const E=b.call(u,_);return m.call(u,E)}:u[g]=(..._)=>{let E=b.apply(u,_);return E===!1&&(E=m.apply(u,_)),E}}l.hooks=u}if(a.walkTokens){const u=this.defaults.walkTokens,p=a.walkTokens;l.walkTokens=function(g){let b=[];return b.push(p.call(this,g)),u&&(b=b.concat(u.call(this,g))),b}}this.defaults={...this.defaults,...l}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,r){return ro.lex(n,r??this.defaults)}parser(n,r){return io.parse(n,r??this.defaults)}parseMarkdown(n){return(a,l)=>{const u={...l},p={...this.defaults,...u},g=this.onError(!!p.silent,!!p.async);if(this.defaults.async===!0&&u.async===!1)return g(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof a>"u"||a===null)return g(new Error("marked(): input parameter is undefined or null"));if(typeof a!="string")return g(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(a)+", string expected"));p.hooks&&(p.hooks.options=p,p.hooks.block=n);const b=p.hooks?p.hooks.provideLexer():n?ro.lex:ro.lexInline,m=p.hooks?p.hooks.provideParser():n?io.parse:io.parseInline;if(p.async)return Promise.resolve(p.hooks?p.hooks.preprocess(a):a).then(_=>b(_,p)).then(_=>p.hooks?p.hooks.processAllTokens(_):_).then(_=>p.walkTokens?Promise.all(this.walkTokens(_,p.walkTokens)).then(()=>_):_).then(_=>m(_,p)).then(_=>p.hooks?p.hooks.postprocess(_):_).catch(g);try{p.hooks&&(a=p.hooks.preprocess(a));let _=b(a,p);p.hooks&&(_=p.hooks.processAllTokens(_)),p.walkTokens&&this.walkTokens(_,p.walkTokens);let E=m(_,p);return p.hooks&&(E=p.hooks.postprocess(E)),E}catch(_){return g(_)}}}onError(n,r){return a=>{if(a.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const l="<p>An error occurred:</p><pre>"+ts(a.message+"",!0)+"</pre>";return r?Promise.resolve(l):l}if(r)return Promise.reject(a);throw a}}}const El=new IS;function Ln(f,n){return El.parse(f,n)}Ln.options=Ln.setOptions=function(f){return El.setOptions(f),Ln.defaults=El.defaults,oy(Ln.defaults),Ln};Ln.getDefaults=Xg;Ln.defaults=xl;Ln.use=function(...f){return El.use(...f),Ln.defaults=El.defaults,oy(Ln.defaults),Ln};Ln.walkTokens=function(f,n){return El.walkTokens(f,n)};Ln.parseInline=El.parseInline;Ln.Parser=io;Ln.parser=io.parse;Ln.Renderer=yp;Ln.TextRenderer=im;Ln.Lexer=ro;Ln.lexer=ro.lex;Ln.Tokenizer=bp;Ln.Hooks=Cd;Ln.parse=Ln;Ln.options;Ln.setOptions;Ln.use;Ln.walkTokens;Ln.parseInline;io.parse;ro.lex;var Gh,Ov;function LS(){if(Ov)return Gh;Ov=1;function f(I){return I instanceof Map?I.clear=I.delete=I.set=function(){throw new Error("map is read-only")}:I instanceof Set&&(I.add=I.clear=I.delete=function(){throw new Error("set is read-only")}),Object.freeze(I),Object.getOwnPropertyNames(I).forEach(Y=>{const ve=I[Y],nn=typeof ve;(nn==="object"||nn==="function")&&!Object.isFrozen(ve)&&f(ve)}),I}class n{constructor(Y){Y.data===void 0&&(Y.data={}),this.data=Y.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(I){return I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function a(I,...Y){const ve=Object.create(null);for(const nn in I)ve[nn]=I[nn];return Y.forEach(function(nn){for(const Fn in nn)ve[Fn]=nn[Fn]}),ve}const l="</span>",u=I=>!!I.scope,p=(I,{prefix:Y})=>{if(I.startsWith("language:"))return I.replace("language:","language-");if(I.includes(".")){const ve=I.split(".");return[`${Y}${ve.shift()}`,...ve.map((nn,Fn)=>`${nn}${"_".repeat(Fn+1)}`)].join(" ")}return`${Y}${I}`};class g{constructor(Y,ve){this.buffer="",this.classPrefix=ve.classPrefix,Y.walk(this)}addText(Y){this.buffer+=r(Y)}openNode(Y){if(!u(Y))return;const ve=p(Y.scope,{prefix:this.classPrefix});this.span(ve)}closeNode(Y){u(Y)&&(this.buffer+=l)}value(){return this.buffer}span(Y){this.buffer+=`<span class="${Y}">`}}const b=(I={})=>{const Y={children:[]};return Object.assign(Y,I),Y};class m{constructor(){this.rootNode=b(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(Y){this.top.children.push(Y)}openNode(Y){const ve=b({scope:Y});this.add(ve),this.stack.push(ve)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(Y){return this.constructor._walk(Y,this.rootNode)}static _walk(Y,ve){return typeof ve=="string"?Y.addText(ve):ve.children&&(Y.openNode(ve),ve.children.forEach(nn=>this._walk(Y,nn)),Y.closeNode(ve)),Y}static _collapse(Y){typeof Y!="string"&&Y.children&&(Y.children.every(ve=>typeof ve=="string")?Y.children=[Y.children.join("")]:Y.children.forEach(ve=>{m._collapse(ve)}))}}class _ extends m{constructor(Y){super(),this.options=Y}addText(Y){Y!==""&&this.add(Y)}startScope(Y){this.openNode(Y)}endScope(){this.closeNode()}__addSublanguage(Y,ve){const nn=Y.root;ve&&(nn.scope=`language:${ve}`),this.add(nn)}toHTML(){return new g(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function E(I){return I?typeof I=="string"?I:I.source:null}function x(I){return A("(?=",I,")")}function k(I){return A("(?:",I,")*")}function R(I){return A("(?:",I,")?")}function A(...I){return I.map(ve=>E(ve)).join("")}function M(I){const Y=I[I.length-1];return typeof Y=="object"&&Y.constructor===Object?(I.splice(I.length-1,1),Y):{}}function L(...I){return"("+(M(I).capture?"":"?:")+I.map(nn=>E(nn)).join("|")+")"}function q(I){return new RegExp(I.toString()+"|").exec("").length-1}function K(I,Y){const ve=I&&I.exec(Y);return ve&&ve.index===0}const Q=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ue(I,{joinWith:Y}){let ve=0;return I.map(nn=>{ve+=1;const Fn=ve;let Un=E(nn),Oe="";for(;Un.length>0;){const ke=Q.exec(Un);if(!ke){Oe+=Un;break}Oe+=Un.substring(0,ke.index),Un=Un.substring(ke.index+ke[0].length),ke[0][0]==="\\"&&ke[1]?Oe+="\\"+String(Number(ke[1])+Fn):(Oe+=ke[0],ke[0]==="("&&ve++)}return Oe}).map(nn=>`(${nn})`).join(Y)}const _e=/\b\B/,he="[a-zA-Z]\\w*",me="[a-zA-Z_]\\w*",Ge="\\b\\d+(\\.\\d+)?",je="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Ee="\\b(0b[01]+)",cn="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",qe=(I={})=>{const Y=/^#![ ]*\//;return I.binary&&(I.begin=A(Y,/.*\b/,I.binary,/\b.*/)),a({scope:"meta",begin:Y,end:/$/,relevance:0,"on:begin":(ve,nn)=>{ve.index!==0&&nn.ignoreMatch()}},I)},ge={begin:"\\\\[\\s\\S]",relevance:0},re={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ge]},ee={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ge]},ie={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},j=function(I,Y,ve={}){const nn=a({scope:"comment",begin:I,end:Y,contains:[]},ve);nn.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Fn=L("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return nn.contains.push({begin:A(/[ ]+/,"(",Fn,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),nn},oe=j("//","$"),J=j("/\\*","\\*/"),P=j("#","$"),X={scope:"number",begin:Ge,relevance:0},be={scope:"number",begin:je,relevance:0},Ne={scope:"number",begin:Ee,relevance:0},ye={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[ge,{begin:/\[/,end:/\]/,relevance:0,contains:[ge]}]},We={scope:"title",begin:he,relevance:0},Be={scope:"title",begin:me,relevance:0},Ie={begin:"\\.\\s*"+me,relevance:0};var en=Object.freeze({__proto__:null,APOS_STRING_MODE:re,BACKSLASH_ESCAPE:ge,BINARY_NUMBER_MODE:Ne,BINARY_NUMBER_RE:Ee,COMMENT:j,C_BLOCK_COMMENT_MODE:J,C_LINE_COMMENT_MODE:oe,C_NUMBER_MODE:be,C_NUMBER_RE:je,END_SAME_AS_BEGIN:function(I){return Object.assign(I,{"on:begin":(Y,ve)=>{ve.data._beginMatch=Y[1]},"on:end":(Y,ve)=>{ve.data._beginMatch!==Y[1]&&ve.ignoreMatch()}})},HASH_COMMENT_MODE:P,IDENT_RE:he,MATCH_NOTHING_RE:_e,METHOD_GUARD:Ie,NUMBER_MODE:X,NUMBER_RE:Ge,PHRASAL_WORDS_MODE:ie,QUOTE_STRING_MODE:ee,REGEXP_MODE:ye,RE_STARTERS_RE:cn,SHEBANG:qe,TITLE_MODE:We,UNDERSCORE_IDENT_RE:me,UNDERSCORE_TITLE_MODE:Be});function _n(I,Y){I.input[I.index-1]==="."&&Y.ignoreMatch()}function Rn(I,Y){I.className!==void 0&&(I.scope=I.className,delete I.className)}function qn(I,Y){Y&&I.beginKeywords&&(I.begin="\\b("+I.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",I.__beforeBegin=_n,I.keywords=I.keywords||I.beginKeywords,delete I.beginKeywords,I.relevance===void 0&&(I.relevance=0))}function Gn(I,Y){Array.isArray(I.illegal)&&(I.illegal=L(...I.illegal))}function hr(I,Y){if(I.match){if(I.begin||I.end)throw new Error("begin & end are not supported with match");I.begin=I.match,delete I.match}}function Xr(I,Y){I.relevance===void 0&&(I.relevance=1)}const it=(I,Y)=>{if(!I.beforeMatch)return;if(I.starts)throw new Error("beforeMatch cannot be used with starts");const ve=Object.assign({},I);Object.keys(I).forEach(nn=>{delete I[nn]}),I.keywords=ve.keywords,I.begin=A(ve.beforeMatch,x(ve.begin)),I.starts={relevance:0,contains:[Object.assign(ve,{endsParent:!0})]},I.relevance=0,delete ve.beforeMatch},Cr=["of","and","for","in","not","or","if","then","parent","list","value"],Zr="keyword";function Dt(I,Y,ve=Zr){const nn=Object.create(null);return typeof I=="string"?Fn(ve,I.split(" ")):Array.isArray(I)?Fn(ve,I):Object.keys(I).forEach(function(Un){Object.assign(nn,Dt(I[Un],Y,Un))}),nn;function Fn(Un,Oe){Y&&(Oe=Oe.map(ke=>ke.toLowerCase())),Oe.forEach(function(ke){const Ye=ke.split("|");nn[Ye[0]]=[Un,Yn(Ye[0],Ye[1])]})}}function Yn(I,Y){return Y?Number(Y):Rr(I)?0:1}function Rr(I){return Cr.includes(I.toLowerCase())}const gr={},Rt=I=>{console.error(I)},pt=(I,...Y)=>{console.log(`WARN: ${I}`,...Y)},et=(I,Y)=>{gr[`${I}/${Y}`]||(console.log(`Deprecated as of ${I}. ${Y}`),gr[`${I}/${Y}`]=!0)},zt=new Error;function Bt(I,Y,{key:ve}){let nn=0;const Fn=I[ve],Un={},Oe={};for(let ke=1;ke<=Y.length;ke++)Oe[ke+nn]=Fn[ke],Un[ke+nn]=!0,nn+=q(Y[ke-1]);I[ve]=Oe,I[ve]._emit=Un,I[ve]._multi=!0}function Qr(I){if(Array.isArray(I.begin)){if(I.skip||I.excludeBegin||I.returnBegin)throw Rt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),zt;if(typeof I.beginScope!="object"||I.beginScope===null)throw Rt("beginScope must be object"),zt;Bt(I,I.begin,{key:"beginScope"}),I.begin=ue(I.begin,{joinWith:""})}}function Ft(I){if(Array.isArray(I.end)){if(I.skip||I.excludeEnd||I.returnEnd)throw Rt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),zt;if(typeof I.endScope!="object"||I.endScope===null)throw Rt("endScope must be object"),zt;Bt(I,I.end,{key:"endScope"}),I.end=ue(I.end,{joinWith:""})}}function mr(I){I.scope&&typeof I.scope=="object"&&I.scope!==null&&(I.beginScope=I.scope,delete I.scope)}function Ar(I){mr(I),typeof I.beginScope=="string"&&(I.beginScope={_wrap:I.beginScope}),typeof I.endScope=="string"&&(I.endScope={_wrap:I.endScope}),Qr(I),Ft(I)}function Mr(I){function Y(Oe,ke){return new RegExp(E(Oe),"m"+(I.case_insensitive?"i":"")+(I.unicodeRegex?"u":"")+(ke?"g":""))}class ve{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(ke,Ye){Ye.position=this.position++,this.matchIndexes[this.matchAt]=Ye,this.regexes.push([Ye,ke]),this.matchAt+=q(ke)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const ke=this.regexes.map(Ye=>Ye[1]);this.matcherRe=Y(ue(ke,{joinWith:"|"}),!0),this.lastIndex=0}exec(ke){this.matcherRe.lastIndex=this.lastIndex;const Ye=this.matcherRe.exec(ke);if(!Ye)return null;const kn=Ye.findIndex((Lr,yi)=>yi>0&&Lr!==void 0),Pn=this.matchIndexes[kn];return Ye.splice(0,kn),Object.assign(Ye,Pn)}}class nn{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(ke){if(this.multiRegexes[ke])return this.multiRegexes[ke];const Ye=new ve;return this.rules.slice(ke).forEach(([kn,Pn])=>Ye.addRule(kn,Pn)),Ye.compile(),this.multiRegexes[ke]=Ye,Ye}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(ke,Ye){this.rules.push([ke,Ye]),Ye.type==="begin"&&this.count++}exec(ke){const Ye=this.getMatcher(this.regexIndex);Ye.lastIndex=this.lastIndex;let kn=Ye.exec(ke);if(this.resumingScanAtSamePosition()&&!(kn&&kn.index===this.lastIndex)){const Pn=this.getMatcher(0);Pn.lastIndex=this.lastIndex+1,kn=Pn.exec(ke)}return kn&&(this.regexIndex+=kn.position+1,this.regexIndex===this.count&&this.considerAll()),kn}}function Fn(Oe){const ke=new nn;return Oe.contains.forEach(Ye=>ke.addRule(Ye.begin,{rule:Ye,type:"begin"})),Oe.terminatorEnd&&ke.addRule(Oe.terminatorEnd,{type:"end"}),Oe.illegal&&ke.addRule(Oe.illegal,{type:"illegal"}),ke}function Un(Oe,ke){const Ye=Oe;if(Oe.isCompiled)return Ye;[Rn,hr,Ar,it].forEach(Pn=>Pn(Oe,ke)),I.compilerExtensions.forEach(Pn=>Pn(Oe,ke)),Oe.__beforeBegin=null,[qn,Gn,Xr].forEach(Pn=>Pn(Oe,ke)),Oe.isCompiled=!0;let kn=null;return typeof Oe.keywords=="object"&&Oe.keywords.$pattern&&(Oe.keywords=Object.assign({},Oe.keywords),kn=Oe.keywords.$pattern,delete Oe.keywords.$pattern),kn=kn||/\w+/,Oe.keywords&&(Oe.keywords=Dt(Oe.keywords,I.case_insensitive)),Ye.keywordPatternRe=Y(kn,!0),ke&&(Oe.begin||(Oe.begin=/\B|\b/),Ye.beginRe=Y(Ye.begin),!Oe.end&&!Oe.endsWithParent&&(Oe.end=/\B|\b/),Oe.end&&(Ye.endRe=Y(Ye.end)),Ye.terminatorEnd=E(Ye.end)||"",Oe.endsWithParent&&ke.terminatorEnd&&(Ye.terminatorEnd+=(Oe.end?"|":"")+ke.terminatorEnd)),Oe.illegal&&(Ye.illegalRe=Y(Oe.illegal)),Oe.contains||(Oe.contains=[]),Oe.contains=[].concat(...Oe.contains.map(function(Pn){return vr(Pn==="self"?Oe:Pn)})),Oe.contains.forEach(function(Pn){Un(Pn,Ye)}),Oe.starts&&Un(Oe.starts,ke),Ye.matcher=Fn(Ye),Ye}if(I.compilerExtensions||(I.compilerExtensions=[]),I.contains&&I.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return I.classNameAliases=a(I.classNameAliases||{}),Un(I)}function St(I){return I?I.endsWithParent||St(I.starts):!1}function vr(I){return I.variants&&!I.cachedVariants&&(I.cachedVariants=I.variants.map(function(Y){return a(I,{variants:null},Y)})),I.cachedVariants?I.cachedVariants:St(I)?a(I,{starts:I.starts?a(I.starts):null}):Object.isFrozen(I)?a(I):I}var Nr="11.11.1";class Or extends Error{constructor(Y,ve){super(Y),this.name="HTMLInjectionError",this.html=ve}}const bi=r,Pr=a,gn=Symbol("nomatch"),Gt=7,ct=function(I){const Y=Object.create(null),ve=Object.create(null),nn=[];let Fn=!0;const Un="Could not find the language '{}', did you forget to load/include a language module?",Oe={disableAutodetect:!0,name:"Plain text",contains:[]};let ke={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:_};function Ye(fe){return ke.noHighlightRe.test(fe)}function kn(fe){let Fe=fe.className+" ";Fe+=fe.parentNode?fe.parentNode.className:"";const fn=ke.languageDetectRe.exec(Fe);if(fn){const vn=Ce(fn[1]);return vn||(pt(Un.replace("{}",fn[1])),pt("Falling back to no-highlight mode for this block.",fe)),vn?fn[1]:"no-highlight"}return Fe.split(/\s+/).find(vn=>Ye(vn)||Ce(vn))}function Pn(fe,Fe,fn){let vn="",gt="";typeof Fe=="object"?(vn=fe,fn=Fe.ignoreIllegals,gt=Fe.language):(et("10.7.0","highlight(lang, code, ...args) has been deprecated."),et("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),gt=fe,vn=Fe),fn===void 0&&(fn=!0);const st={code:vn,language:gt};Dr("before:highlight",st);const Ei=st.result?st.result:Lr(st.language,st.code,fn);return Ei.code=st.code,Dr("after:highlight",Ei),Ei}function Lr(fe,Fe,fn,vn){const gt=Object.create(null);function st(we,Le){return we.keywords[Le]}function Ei(){if(!Qe.keywords){ut.addText(Dn);return}let we=0;Qe.keywordPatternRe.lastIndex=0;let Le=Qe.keywordPatternRe.exec(Dn),tn="";for(;Le;){tn+=Dn.substring(we,Le.index);const bn=zr.case_insensitive?Le[0].toLowerCase():Le[0],dt=st(Qe,bn);if(dt){const[Mt,Qc]=dt;if(ut.addText(tn),tn="",gt[bn]=(gt[bn]||0)+1,gt[bn]<=Gt&&(Oo+=Qc),Mt.startsWith("_"))tn+=Le[0];else{const Tl=zr.classNameAliases[Mt]||Mt;Ut(Le[0],Tl)}}else tn+=Le[0];we=Qe.keywordPatternRe.lastIndex,Le=Qe.keywordPatternRe.exec(Dn)}tn+=Dn.substring(we),ut.addText(tn)}function os(){if(Dn==="")return;let we=null;if(typeof Qe.subLanguage=="string"){if(!Y[Qe.subLanguage]){ut.addText(Dn);return}we=Lr(Qe.subLanguage,Dn,!0,Us[Qe.subLanguage]),Us[Qe.subLanguage]=we._top}else we=_i(Dn,Qe.subLanguage.length?Qe.subLanguage:null);Qe.relevance>0&&(Oo+=we.relevance),ut.__addSublanguage(we._emitter,we.language)}function Vt(){Qe.subLanguage!=null?os():Ei(),Dn=""}function Ut(we,Le){we!==""&&(ut.startScope(Le),ut.addText(we),ut.endScope())}function ss(we,Le){let tn=1;const bn=Le.length-1;for(;tn<=bn;){if(!we._emit[tn]){tn++;continue}const dt=zr.classNameAliases[we[tn]]||we[tn],Mt=Le[tn];dt?Ut(Mt,dt):(Dn=Mt,Ei(),Dn=""),tn++}}function so(we,Le){return we.scope&&typeof we.scope=="string"&&ut.openNode(zr.classNameAliases[we.scope]||we.scope),we.beginScope&&(we.beginScope._wrap?(Ut(Dn,zr.classNameAliases[we.beginScope._wrap]||we.beginScope._wrap),Dn=""):we.beginScope._multi&&(ss(we.beginScope,Le),Dn="")),Qe=Object.create(we,{parent:{value:Qe}}),Qe}function Li(we,Le,tn){let bn=K(we.endRe,tn);if(bn){if(we["on:end"]){const dt=new n(we);we["on:end"](Le,dt),dt.isMatchIgnored&&(bn=!1)}if(bn){for(;we.endsParent&&we.parent;)we=we.parent;return we}}if(we.endsWithParent)return Li(we.parent,Le,tn)}function kl(we){return Qe.matcher.regexIndex===0?(Dn+=we[0],1):(ao=!0,0)}function Zc(we){const Le=we[0],tn=we.rule,bn=new n(tn),dt=[tn.__beforeBegin,tn["on:begin"]];for(const Mt of dt)if(Mt&&(Mt(we,bn),bn.isMatchIgnored))return kl(Le);return tn.skip?Dn+=Le:(tn.excludeBegin&&(Dn+=Le),Vt(),!tn.returnBegin&&!tn.excludeBegin&&(Dn=Le)),so(tn,we),tn.returnBegin?0:Le.length}function Fs(we){const Le=we[0],tn=Fe.substring(we.index),bn=Li(Qe,we,tn);if(!bn)return gn;const dt=Qe;Qe.endScope&&Qe.endScope._wrap?(Vt(),Ut(Le,Qe.endScope._wrap)):Qe.endScope&&Qe.endScope._multi?(Vt(),ss(Qe.endScope,we)):dt.skip?Dn+=Le:(dt.returnEnd||dt.excludeEnd||(Dn+=Le),Vt(),dt.excludeEnd&&(Dn=Le));do Qe.scope&&ut.closeNode(),!Qe.skip&&!Qe.subLanguage&&(Oo+=Qe.relevance),Qe=Qe.parent;while(Qe!==bn.parent);return bn.starts&&so(bn.starts,we),dt.returnEnd?0:Le.length}function ka(){const we=[];for(let Le=Qe;Le!==zr;Le=Le.parent)Le.scope&&we.unshift(Le.scope);we.forEach(Le=>ut.openNode(Le))}let Di={};function No(we,Le){const tn=Le&&Le[0];if(Dn+=we,tn==null)return Vt(),0;if(Di.type==="begin"&&Le.type==="end"&&Di.index===Le.index&&tn===""){if(Dn+=Fe.slice(Le.index,Le.index+1),!Fn){const bn=new Error(`0 width match regex (${fe})`);throw bn.languageName=fe,bn.badRule=Di.rule,bn}return 1}if(Di=Le,Le.type==="begin")return Zc(Le);if(Le.type==="illegal"&&!fn){const bn=new Error('Illegal lexeme "'+tn+'" for mode "'+(Qe.scope||"<unnamed>")+'"');throw bn.mode=Qe,bn}else if(Le.type==="end"){const bn=Fs(Le);if(bn!==gn)return bn}if(Le.type==="illegal"&&tn==="")return Dn+=`
`,1;if(Po>1e5&&Po>Le.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Dn+=tn,tn.length}const zr=Ce(fe);if(!zr)throw Rt(Un.replace("{}",fe)),new Error('Unknown language: "'+fe+'"');const as=Mr(zr);let En="",Qe=vn||as;const Us={},ut=new ke.__emitter(ke);ka();let Dn="",Oo=0,wi=0,Po=0,ao=!1;try{if(zr.__emitTokens)zr.__emitTokens(Fe,ut);else{for(Qe.matcher.considerAll();;){Po++,ao?ao=!1:Qe.matcher.considerAll(),Qe.matcher.lastIndex=wi;const we=Qe.matcher.exec(Fe);if(!we)break;const Le=Fe.substring(wi,we.index),tn=No(Le,we);wi=we.index+tn}No(Fe.substring(wi))}return ut.finalize(),En=ut.toHTML(),{language:fe,value:En,relevance:Oo,illegal:!1,_emitter:ut,_top:Qe}}catch(we){if(we.message&&we.message.includes("Illegal"))return{language:fe,value:bi(Fe),illegal:!0,relevance:0,_illegalBy:{message:we.message,index:wi,context:Fe.slice(wi-100,wi+100),mode:we.mode,resultSoFar:En},_emitter:ut};if(Fn)return{language:fe,value:bi(Fe),illegal:!1,relevance:0,errorRaised:we,_emitter:ut,_top:Qe};throw we}}function yi(fe){const Fe={value:bi(fe),illegal:!1,relevance:0,_top:Oe,_emitter:new ke.__emitter(ke)};return Fe._emitter.addText(fe),Fe}function _i(fe,Fe){Fe=Fe||ke.languages||Object.keys(Y);const fn=yi(fe),vn=Fe.filter(Ce).filter(ht).map(Vt=>Lr(Vt,fe,!1));vn.unshift(fn);const gt=vn.sort((Vt,Ut)=>{if(Vt.relevance!==Ut.relevance)return Ut.relevance-Vt.relevance;if(Vt.language&&Ut.language){if(Ce(Vt.language).supersetOf===Ut.language)return 1;if(Ce(Ut.language).supersetOf===Vt.language)return-1}return 0}),[st,Ei]=gt,os=st;return os.secondBest=Ei,os}function zs(fe,Fe,fn){const vn=Fe&&ve[Fe]||fn;fe.classList.add("hljs"),fe.classList.add(`language-${vn}`)}function or(fe){let Fe=null;const fn=kn(fe);if(Ye(fn))return;if(Dr("before:highlightElement",{el:fe,language:fn}),fe.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",fe);return}if(fe.children.length>0&&(ke.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(fe)),ke.throwUnescapedHTML))throw new Or("One of your code blocks includes unescaped HTML.",fe.innerHTML);Fe=fe;const vn=Fe.textContent,gt=fn?Pn(vn,{language:fn,ignoreIllegals:!0}):_i(vn);fe.innerHTML=gt.value,fe.dataset.highlighted="yes",zs(fe,fn,gt.language),fe.result={language:gt.language,re:gt.relevance,relevance:gt.relevance},gt.secondBest&&(fe.secondBest={language:gt.secondBest.language,relevance:gt.secondBest.relevance}),Dr("after:highlightElement",{el:fe,result:gt,text:vn})}function Bs(fe){ke=Pr(ke,fe)}const Jr=()=>{Mo(),et("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Ro(){Mo(),et("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Ao=!1;function Mo(){function fe(){Mo()}if(document.readyState==="loading"){Ao||window.addEventListener("DOMContentLoaded",fe,!1),Ao=!0;return}document.querySelectorAll(ke.cssSelector).forEach(or)}function Ue(fe,Fe){let fn=null;try{fn=Fe(I)}catch(vn){if(Rt("Language definition for '{}' could not be registered.".replace("{}",fe)),Fn)Rt(vn);else throw vn;fn=Oe}fn.name||(fn.name=fe),Y[fe]=fn,fn.rawDefinition=Fe.bind(null,I),fn.aliases&&An(fn.aliases,{languageName:fe})}function B(fe){delete Y[fe];for(const Fe of Object.keys(ve))ve[Fe]===fe&&delete ve[Fe]}function de(){return Object.keys(Y)}function Ce(fe){return fe=(fe||"").toLowerCase(),Y[fe]||Y[ve[fe]]}function An(fe,{languageName:Fe}){typeof fe=="string"&&(fe=[fe]),fe.forEach(fn=>{ve[fn.toLowerCase()]=Fe})}function ht(fe){const Fe=Ce(fe);return Fe&&!Fe.disableAutodetect}function ln(fe){fe["before:highlightBlock"]&&!fe["before:highlightElement"]&&(fe["before:highlightElement"]=Fe=>{fe["before:highlightBlock"](Object.assign({block:Fe.el},Fe))}),fe["after:highlightBlock"]&&!fe["after:highlightElement"]&&(fe["after:highlightElement"]=Fe=>{fe["after:highlightBlock"](Object.assign({block:Fe.el},Fe))})}function At(fe){ln(fe),nn.push(fe)}function Kt(fe){const Fe=nn.indexOf(fe);Fe!==-1&&nn.splice(Fe,1)}function Dr(fe,Fe){const fn=fe;nn.forEach(function(vn){vn[fn]&&vn[fn](Fe)})}function ot(fe){return et("10.7.0","highlightBlock will be removed entirely in v12.0"),et("10.7.0","Please use highlightElement now."),or(fe)}Object.assign(I,{highlight:Pn,highlightAuto:_i,highlightAll:Mo,highlightElement:or,highlightBlock:ot,configure:Bs,initHighlighting:Jr,initHighlightingOnLoad:Ro,registerLanguage:Ue,unregisterLanguage:B,listLanguages:de,getLanguage:Ce,registerAliases:An,autoDetection:ht,inherit:Pr,addPlugin:At,removePlugin:Kt}),I.debugMode=function(){Fn=!1},I.safeMode=function(){Fn=!0},I.versionString=Nr,I.regex={concat:A,lookahead:x,either:L,optional:R,anyNumberOfTimes:k};for(const fe in en)typeof en[fe]=="object"&&f(en[fe]);return Object.assign(I,en),I},Ir=ct({});return Ir.newInstance=()=>ct({}),Gh=Ir,Ir.HighlightJS=Ir,Ir.default=Ir,Gh}var Kh,Pv;function DS(){if(Pv)return Kh;Pv=1;function f(n){const r=n.regex,a=r.concat(/[\p{L}_]/u,r.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),l=/[\p{L}0-9._:-]+/u,u={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},p={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},g=n.inherit(p,{begin:/\(/,end:/\)/}),b=n.inherit(n.APOS_STRING_MODE,{className:"string"}),m=n.inherit(n.QUOTE_STRING_MODE,{className:"string"}),_={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:l,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[u]},{begin:/'/,end:/'/,contains:[u]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[p,m,b,g,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[p,g,m,b]}]}]},n.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},u,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[m]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[_],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[_],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:r.concat(/</,r.lookahead(r.concat(a,r.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:a,relevance:0,starts:_}]},{className:"tag",begin:r.concat(/<\//,r.lookahead(r.concat(a,/>/))),contains:[{className:"name",begin:a,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}return Kh=f,Kh}var Vh,Iv;function zS(){if(Iv)return Vh;Iv=1;function f(n){const r=n.regex,a={},l={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[a]}]};Object.assign(a,{className:"variable",variants:[{begin:r.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},l]});const u={className:"subst",begin:/\$\(/,end:/\)/,contains:[n.BACKSLASH_ESCAPE]},p=n.inherit(n.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),g={begin:/<<-?\s*(?=\w+)/,starts:{contains:[n.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},b={className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,a,u]};u.contains.push(b);const m={match:/\\"/},_={className:"string",begin:/'/,end:/'/},E={match:/\\'/},x={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},n.NUMBER_MODE,a]},k=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],R=n.SHEBANG({binary:`(${k.join("|")})`,relevance:10}),A={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[n.inherit(n.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},M=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],L=["true","false"],q={match:/(\/[a-z._-]+)+/},K=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],Q=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],ue=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],_e=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:M,literal:L,built_in:[...K,...Q,"set","shopt",...ue,..._e]},contains:[R,n.SHEBANG(),A,x,p,g,q,b,m,_,E,a]}}return Vh=f,Vh}var Yh,Lv;function BS(){if(Lv)return Yh;Lv=1;function f(n){const r=n.regex,a=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),l="decltype\\(auto\\)",u="[a-zA-Z_]\\w*::",g="("+l+"|"+r.optional(u)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",b={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},_={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},E={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},x={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(_,{className:"string"}),{className:"string",begin:/<.*?>/},a,n.C_BLOCK_COMMENT_MODE]},k={className:"title",begin:r.optional(u)+n.IDENT_RE,relevance:0},R=r.optional(u)+n.IDENT_RE+"\\s*\\(",L={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},q=[x,b,a,n.C_BLOCK_COMMENT_MODE,E,_],K={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:L,contains:q.concat([{begin:/\(/,end:/\)/,keywords:L,contains:q.concat(["self"]),relevance:0}]),relevance:0},Q={begin:"("+g+"[\\*&\\s]+)+"+R,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:L,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:l,keywords:L,relevance:0},{begin:R,returnBegin:!0,contains:[n.inherit(k,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:L,relevance:0,contains:[a,n.C_BLOCK_COMMENT_MODE,_,E,b,{begin:/\(/,end:/\)/,keywords:L,relevance:0,contains:["self",a,n.C_BLOCK_COMMENT_MODE,_,E,b]}]},b,a,n.C_BLOCK_COMMENT_MODE,x]};return{name:"C",aliases:["h"],keywords:L,disableAutodetect:!0,illegal:"</",contains:[].concat(K,Q,q,[x,{begin:n.IDENT_RE+"::",keywords:L},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},n.TITLE_MODE]}]),exports:{preprocessor:x,strings:_,keywords:L}}}return Yh=f,Yh}var Xh,Dv;function FS(){if(Dv)return Xh;Dv=1;function f(n){const r=n.regex,a=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),l="decltype\\(auto\\)",u="[a-zA-Z_]\\w*::",g="(?!struct)("+l+"|"+r.optional(u)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",b={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},_={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},E={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},x={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(_,{className:"string"}),{className:"string",begin:/<.*?>/},a,n.C_BLOCK_COMMENT_MODE]},k={className:"title",begin:r.optional(u)+n.IDENT_RE,relevance:0},R=r.optional(u)+n.IDENT_RE+"\\s*\\(",A=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],M=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],L=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],q=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],ue={type:M,keyword:A,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:L},_e={className:"function.dispatch",relevance:0,keywords:{_hint:q},begin:r.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,n.IDENT_RE,r.lookahead(/(<[^<>]+>|)\s*\(/))},he=[_e,x,b,a,n.C_BLOCK_COMMENT_MODE,E,_],me={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:ue,contains:he.concat([{begin:/\(/,end:/\)/,keywords:ue,contains:he.concat(["self"]),relevance:0}]),relevance:0},Ge={className:"function",begin:"("+g+"[\\*&\\s]+)+"+R,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:ue,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:l,keywords:ue,relevance:0},{begin:R,returnBegin:!0,contains:[k],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[_,E]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:ue,relevance:0,contains:[a,n.C_BLOCK_COMMENT_MODE,_,E,b,{begin:/\(/,end:/\)/,keywords:ue,relevance:0,contains:["self",a,n.C_BLOCK_COMMENT_MODE,_,E,b]}]},b,a,n.C_BLOCK_COMMENT_MODE,x]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:ue,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(me,Ge,_e,he,[x,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:ue,contains:["self",b]},{begin:n.IDENT_RE+"::",keywords:ue},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}return Xh=f,Xh}var Zh,zv;function US(){if(zv)return Zh;zv=1;function f(n){const r=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],a=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],l=["default","false","null","true"],u=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],p=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],g={keyword:u.concat(p),built_in:r,literal:l},b=n.inherit(n.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),m={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},_={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},E={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},x=n.inherit(E,{illegal:/\n/}),k={className:"subst",begin:/\{/,end:/\}/,keywords:g},R=n.inherit(k,{illegal:/\n/}),A={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},n.BACKSLASH_ESCAPE,R]},M={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},k]},L=n.inherit(M,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},R]});k.contains=[M,A,E,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,m,n.C_BLOCK_COMMENT_MODE],R.contains=[L,A,x,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,m,n.inherit(n.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const q={variants:[_,M,A,E,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},K={begin:"<",end:">",contains:[{beginKeywords:"in out"},b]},Q=n.IDENT_RE+"(<"+n.IDENT_RE+"(\\s*,\\s*"+n.IDENT_RE+")*>)?(\\[\\])?",ue={begin:"@"+n.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:g,illegal:/::/,contains:[n.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},q,m,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},b,K,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[b,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[b,K,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+Q+"\\s+)+"+n.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:g,contains:[{beginKeywords:a.join(" "),relevance:0},{begin:n.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[n.TITLE_MODE,K],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:g,relevance:0,contains:[q,m,n.C_BLOCK_COMMENT_MODE]},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},ue]}}return Zh=f,Zh}var Qh,Bv;function $S(){if(Bv)return Qh;Bv=1;const f=m=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:m.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[m.APOS_STRING_MODE,m.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:m.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),n=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],a=[...n,...r],l=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),u=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),p=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),g=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function b(m){const _=m.regex,E=f(m),x={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},k="and or not only",R=/@-?\w[\w]*(-\w+)*/,A="[a-zA-Z-][a-zA-Z0-9_-]*",M=[m.APOS_STRING_MODE,m.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[E.BLOCK_COMMENT,x,E.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+A,relevance:0},E.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+u.join("|")+")"},{begin:":(:)?("+p.join("|")+")"}]},E.CSS_VARIABLE,{className:"attribute",begin:"\\b("+g.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[E.BLOCK_COMMENT,E.HEXCOLOR,E.IMPORTANT,E.CSS_NUMBER_MODE,...M,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...M,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},E.FUNCTION_DISPATCH]},{begin:_.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:R},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:k,attribute:l.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...M,E.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+a.join("|")+")\\b"}]}}return Qh=b,Qh}var Jh,Fv;function jS(){if(Fv)return Jh;Fv=1;function f(n){const r=n.regex,a={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},l={begin:"^[-\\*]{3,}",end:"$"},u={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},p={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},g={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},b=/[A-Za-z][A-Za-z0-9+.-]*/,m={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:r.concat(/\[.+?\]\(/,b,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},_={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},E={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},x=n.inherit(_,{contains:[]}),k=n.inherit(E,{contains:[]});_.contains.push(k),E.contains.push(x);let R=[a,m];return[_,E,x,k].forEach(q=>{q.contains=q.contains.concat(R)}),R=R.concat(_,E),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:R},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:R}]}]},a,p,_,E,{className:"quote",begin:"^>\\s+",contains:R,end:"$"},u,l,m,g,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}return Jh=f,Jh}var eg,Uv;function WS(){if(Uv)return eg;Uv=1;function f(n){const r=n.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:r.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:r.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}return eg=f,eg}var ng,$v;function HS(){if($v)return ng;$v=1;function f(n){const r=n.regex,a="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",l=r.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),u=r.concat(l,/(::\w+)*/),g={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},b={className:"doctag",begin:"@[A-Za-z]+"},m={begin:"#<",end:">"},_=[n.COMMENT("#","$",{contains:[b]}),n.COMMENT("^=begin","^=end",{contains:[b],relevance:10}),n.COMMENT("^__END__",n.MATCH_NOTHING_RE)],E={className:"subst",begin:/#\{/,end:/\}/,keywords:g},x={className:"string",contains:[n.BACKSLASH_ESCAPE,E],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:r.concat(/<<[-~]?'?/,r.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[n.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[n.BACKSLASH_ESCAPE,E]})]}]},k="[1-9](_?[0-9])*|0",R="[0-9](_?[0-9])*",A={className:"number",relevance:0,variants:[{begin:`\\b(${k})(\\.(${R}))?([eE][+-]?(${R})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},M={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:g}]},he=[x,{variants:[{match:[/class\s+/,u,/\s+<\s+/,u]},{match:[/\b(class|module)\s+/,u]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:g},{match:[/(include|extend)\s+/,u],scope:{2:"title.class"},keywords:g},{relevance:0,match:[u,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:l,scope:"title.class"},{match:[/def/,/\s+/,a],scope:{1:"keyword",3:"title.function"},contains:[M]},{begin:n.IDENT_RE+"::"},{className:"symbol",begin:n.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[x,{begin:a}],relevance:0},A,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:g},{begin:"("+n.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[n.BACKSLASH_ESCAPE,E],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(m,_),relevance:0}].concat(m,_);E.contains=he,M.contains=he;const Ee=[{begin:/^\s*=>/,starts:{end:"$",contains:he}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:g,contains:he}}];return _.unshift(m),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:g,illegal:/\/\*/,contains:[n.SHEBANG({binary:"ruby"})].concat(Ee).concat(_).concat(he)}}return ng=f,ng}var tg,jv;function qS(){if(jv)return tg;jv=1;function f(n){const p={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:p,illegal:"</",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"string",variants:[n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[n.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:p,illegal:/["']/}]}]}}return tg=f,tg}var rg,Wv;function GS(){if(Wv)return rg;Wv=1;function f(n){const r=n.regex,a=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[n.HASH_COMMENT_MODE,n.QUOTE_STRING_MODE,n.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:r.concat(a,r.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}return rg=f,rg}var ig,Hv;function KS(){if(Hv)return ig;Hv=1;function f(n){const r=n.regex,a={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:n.NUMBER_RE}]},l=n.COMMENT();l.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const u={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},p={className:"literal",begin:/\bon|off|true|false|yes|no\b/},g={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},b={begin:/\[/,end:/\]/,contains:[l,p,u,g,a,"self"],relevance:0},m=/[A-Za-z0-9_-]+/,_=/"(\\"|[^"])*"/,E=/'[^']*'/,x=r.either(m,_,E),k=r.concat(x,"(\\s*\\.\\s*",x,")*",r.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[l,{className:"section",begin:/\[+/,end:/\]+/},{begin:k,className:"attr",starts:{end:/$/,contains:[l,b,p,u,g,a]}}]}}return ig=f,ig}var og,qv;function VS(){if(qv)return og;qv=1;var f="[0-9](_*[0-9])*",n=`\\.(${f})`,r="[0-9a-fA-F](_*[0-9a-fA-F])*",a={className:"number",variants:[{begin:`(\\b(${f})((${n})|\\.)?|(${n}))[eE][+-]?(${f})[fFdD]?\\b`},{begin:`\\b(${f})((${n})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${n})[fFdD]?\\b`},{begin:`\\b(${f})[fFdD]\\b`},{begin:`\\b0[xX]((${r})\\.?|(${r})?\\.(${r}))[pP][+-]?(${f})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${r})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function l(p,g,b){return b===-1?"":p.replace(g,m=>l(p,g,b-1))}function u(p){const g=p.regex,b="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",m=b+l("(?:<"+b+"~~~(?:\\s*,\\s*"+b+"~~~)*>)?",/~~~/g,2),R={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},A={className:"meta",begin:"@"+b,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},M={className:"params",begin:/\(/,end:/\)/,keywords:R,relevance:0,contains:[p.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:R,illegal:/<\/|#/,contains:[p.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},p.C_LINE_COMMENT_MODE,p.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[p.BACKSLASH_ESCAPE]},p.APOS_STRING_MODE,p.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,b],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[g.concat(/(?!else)/,b),/\s+/,b,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,b],className:{1:"keyword",3:"title.class"},contains:[M,p.C_LINE_COMMENT_MODE,p.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+m+"\\s+)",p.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:R,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:R,relevance:0,contains:[A,p.APOS_STRING_MODE,p.QUOTE_STRING_MODE,a,p.C_BLOCK_COMMENT_MODE]},p.C_LINE_COMMENT_MODE,p.C_BLOCK_COMMENT_MODE]},a,A]}}return og=u,og}var sg,Gv;function YS(){if(Gv)return sg;Gv=1;const f="[A-Za-z$_][0-9A-Za-z$_]*",n=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],r=["true","false","null","undefined","NaN","Infinity"],a=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],l=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],u=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],p=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],g=[].concat(u,a,l);function b(m){const _=m.regex,E=(Be,{after:Ie})=>{const Ke="</"+Be[0].slice(1);return Be.input.indexOf(Ke,Ie)!==-1},x=f,k={begin:"<>",end:"</>"},R=/<[A-Za-z0-9\\._:-]+\s*\/>/,A={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Be,Ie)=>{const Ke=Be[0].length+Be.index,en=Be.input[Ke];if(en==="<"||en===","){Ie.ignoreMatch();return}en===">"&&(E(Be,{after:Ke})||Ie.ignoreMatch());let _n;const Rn=Be.input.substring(Ke);if(_n=Rn.match(/^\s*=/)){Ie.ignoreMatch();return}if((_n=Rn.match(/^\s+extends\s+/))&&_n.index===0){Ie.ignoreMatch();return}}},M={$pattern:f,keyword:n,literal:r,built_in:g,"variable.language":p},L="[0-9](_?[0-9])*",q=`\\.(${L})`,K="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",Q={className:"number",variants:[{begin:`(\\b(${K})((${q})|\\.)?|(${q}))[eE][+-]?(${L})\\b`},{begin:`\\b(${K})\\b((${q})\\b|\\.)?|(${q})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},ue={className:"subst",begin:"\\$\\{",end:"\\}",keywords:M,contains:[]},_e={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[m.BACKSLASH_ESCAPE,ue],subLanguage:"xml"}},he={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[m.BACKSLASH_ESCAPE,ue],subLanguage:"css"}},me={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[m.BACKSLASH_ESCAPE,ue],subLanguage:"graphql"}},Ge={className:"string",begin:"`",end:"`",contains:[m.BACKSLASH_ESCAPE,ue]},Ee={className:"comment",variants:[m.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:x+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),m.C_BLOCK_COMMENT_MODE,m.C_LINE_COMMENT_MODE]},cn=[m.APOS_STRING_MODE,m.QUOTE_STRING_MODE,_e,he,me,Ge,{match:/\$\d+/},Q];ue.contains=cn.concat({begin:/\{/,end:/\}/,keywords:M,contains:["self"].concat(cn)});const qe=[].concat(Ee,ue.contains),ge=qe.concat([{begin:/(\s*)\(/,end:/\)/,keywords:M,contains:["self"].concat(qe)}]),re={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:M,contains:ge},ee={variants:[{match:[/class/,/\s+/,x,/\s+/,/extends/,/\s+/,_.concat(x,"(",_.concat(/\./,x),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,x],scope:{1:"keyword",3:"title.class"}}]},ie={relevance:0,match:_.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...a,...l]}},j={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},oe={variants:[{match:[/function/,/\s+/,x,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[re],illegal:/%/},J={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function P(Be){return _.concat("(?!",Be.join("|"),")")}const X={match:_.concat(/\b/,P([...u,"super","import"].map(Be=>`${Be}\\s*\\(`)),x,_.lookahead(/\s*\(/)),className:"title.function",relevance:0},be={begin:_.concat(/\./,_.lookahead(_.concat(x,/(?![0-9A-Za-z$_(])/))),end:x,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Ne={match:[/get|set/,/\s+/,x,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},re]},ye="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+m.UNDERSCORE_IDENT_RE+")\\s*=>",We={match:[/const|var|let/,/\s+/,x,/\s*/,/=\s*/,/(async\s*)?/,_.lookahead(ye)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[re]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:M,exports:{PARAMS_CONTAINS:ge,CLASS_REFERENCE:ie},illegal:/#(?![$_A-z])/,contains:[m.SHEBANG({label:"shebang",binary:"node",relevance:5}),j,m.APOS_STRING_MODE,m.QUOTE_STRING_MODE,_e,he,me,Ge,Ee,{match:/\$\d+/},Q,ie,{scope:"attr",match:x+_.lookahead(":"),relevance:0},We,{begin:"("+m.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[Ee,m.REGEXP_MODE,{className:"function",begin:ye,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:m.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:M,contains:ge}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:k.begin,end:k.end},{match:R},{begin:A.begin,"on:begin":A.isTrulyOpeningTag,end:A.end}],subLanguage:"xml",contains:[{begin:A.begin,end:A.end,skip:!0,contains:["self"]}]}]},oe,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+m.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[re,m.inherit(m.TITLE_MODE,{begin:x,className:"title.function"})]},{match:/\.\.\./,relevance:0},be,{match:"\\$"+x,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[re]},X,J,ee,Ne,{match:/\$[(.]/}]}}return sg=b,sg}var ag,Kv;function XS(){if(Kv)return ag;Kv=1;function f(n){const r={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},a={match:/[{}[\],:]/,className:"punctuation",relevance:0},l=["true","false","null"],u={scope:"literal",beginKeywords:l.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:l},contains:[r,a,n.QUOTE_STRING_MODE,u,n.C_NUMBER_MODE,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}return ag=f,ag}var lg,Vv;function ZS(){if(Vv)return lg;Vv=1;var f="[0-9](_*[0-9])*",n=`\\.(${f})`,r="[0-9a-fA-F](_*[0-9a-fA-F])*",a={className:"number",variants:[{begin:`(\\b(${f})((${n})|\\.)?|(${n}))[eE][+-]?(${f})[fFdD]?\\b`},{begin:`\\b(${f})((${n})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${n})[fFdD]?\\b`},{begin:`\\b(${f})[fFdD]\\b`},{begin:`\\b0[xX]((${r})\\.?|(${r})?\\.(${r}))[pP][+-]?(${f})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${r})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function l(u){const p={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},g={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},b={className:"symbol",begin:u.UNDERSCORE_IDENT_RE+"@"},m={className:"subst",begin:/\$\{/,end:/\}/,contains:[u.C_NUMBER_MODE]},_={className:"variable",begin:"\\$"+u.UNDERSCORE_IDENT_RE},E={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[_,m]},{begin:"'",end:"'",illegal:/\n/,contains:[u.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[u.BACKSLASH_ESCAPE,_,m]}]};m.contains.push(E);const x={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+u.UNDERSCORE_IDENT_RE+")?"},k={className:"meta",begin:"@"+u.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[u.inherit(E,{className:"string"}),"self"]}]},R=a,A=u.COMMENT("/\\*","\\*/",{contains:[u.C_BLOCK_COMMENT_MODE]}),M={variants:[{className:"type",begin:u.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},L=M;return L.variants[1].contains=[M],M.variants[1].contains=[L],{name:"Kotlin",aliases:["kt","kts"],keywords:p,contains:[u.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),u.C_LINE_COMMENT_MODE,A,g,b,x,k,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:p,relevance:5,contains:[{begin:u.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[u.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:p,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[M,u.C_LINE_COMMENT_MODE,A],relevance:0},u.C_LINE_COMMENT_MODE,A,x,k,E,u.C_NUMBER_MODE]},A]},{begin:[/class|interface|trait/,/\s+/,u.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},u.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},x,k]},E,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},R]}}return lg=l,lg}var cg,Yv;function QS(){if(Yv)return cg;Yv=1;const f=_=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:_.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[_.APOS_STRING_MODE,_.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:_.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),n=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],a=[...n,...r],l=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),u=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),p=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),g=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),b=u.concat(p).sort().reverse();function m(_){const E=f(_),x=b,k="and or not only",R="[\\w-]+",A="("+R+"|@\\{"+R+"\\})",M=[],L=[],q=function(qe){return{className:"string",begin:"~?"+qe+".*?"+qe}},K=function(qe,ge,re){return{className:qe,begin:ge,relevance:re}},Q={$pattern:/[a-z-]+/,keyword:k,attribute:l.join(" ")},ue={begin:"\\(",end:"\\)",contains:L,keywords:Q,relevance:0};L.push(_.C_LINE_COMMENT_MODE,_.C_BLOCK_COMMENT_MODE,q("'"),q('"'),E.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},E.HEXCOLOR,ue,K("variable","@@?"+R,10),K("variable","@\\{"+R+"\\}"),K("built_in","~?`[^`]*?`"),{className:"attribute",begin:R+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},E.IMPORTANT,{beginKeywords:"and not"},E.FUNCTION_DISPATCH);const _e=L.concat({begin:/\{/,end:/\}/,contains:M}),he={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(L)},me={begin:A+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},E.CSS_VARIABLE,{className:"attribute",begin:"\\b("+g.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:L}}]},Ge={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:Q,returnEnd:!0,contains:L,relevance:0}},je={className:"variable",variants:[{begin:"@"+R+"\\s*:",relevance:15},{begin:"@"+R}],starts:{end:"[;}]",returnEnd:!0,contains:_e}},Ee={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:A,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[_.C_LINE_COMMENT_MODE,_.C_BLOCK_COMMENT_MODE,he,K("keyword","all\\b"),K("variable","@\\{"+R+"\\}"),{begin:"\\b("+a.join("|")+")\\b",className:"selector-tag"},E.CSS_NUMBER_MODE,K("selector-tag",A,0),K("selector-id","#"+A),K("selector-class","\\."+A,0),K("selector-tag","&",0),E.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+u.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+p.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:_e},{begin:"!important"},E.FUNCTION_DISPATCH]},cn={begin:R+`:(:)?(${x.join("|")})`,returnBegin:!0,contains:[Ee]};return M.push(_.C_LINE_COMMENT_MODE,_.C_BLOCK_COMMENT_MODE,Ge,je,cn,me,Ee,he,E.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:M}}return cg=m,cg}var ug,Xv;function JS(){if(Xv)return ug;Xv=1;function f(n){const r="\\[=*\\[",a="\\]=*\\]",l={begin:r,end:a,contains:["self"]},u=[n.COMMENT("--(?!"+r+")","$"),n.COMMENT("--"+r,a,{contains:[l],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:n.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:u.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[n.inherit(n.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:u}].concat(u)},n.C_NUMBER_MODE,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,{className:"string",begin:r,end:a,contains:[l],relevance:5}])}}return ug=f,ug}var dg,Zv;function ex(){if(Zv)return dg;Zv=1;function f(n){const r={className:"variable",variants:[{begin:"\\$\\("+n.UNDERSCORE_IDENT_RE+"\\)",contains:[n.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},a={className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,r]},l={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[r,a]},u={begin:"^"+n.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},p={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},g={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[r]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[n.HASH_COMMENT_MODE,r,a,l,u,p,g]}}return dg=f,dg}var fg,Qv;function nx(){if(Qv)return fg;Qv=1;function f(n){const r=n.regex,a=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],l=/[dualxmsipngr]{0,12}/,u={$pattern:/[\w.]+/,keyword:a.join(" ")},p={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:u},g={begin:/->\{/,end:/\}/},b={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},m={scope:"variable",variants:[{begin:/\$\d/},{begin:r.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[b]},_={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},E=[n.BACKSLASH_ESCAPE,p,m],x=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],k=(M,L,q="\\1")=>{const K=q==="\\1"?q:r.concat(q,L);return r.concat(r.concat("(?:",M,")"),L,/(?:\\.|[^\\\/])*?/,K,/(?:\\.|[^\\\/])*?/,q,l)},R=(M,L,q)=>r.concat(r.concat("(?:",M,")"),L,/(?:\\.|[^\\\/])*?/,q,l),A=[m,n.HASH_COMMENT_MODE,n.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),g,{className:"string",contains:E,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[n.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},_,{begin:"(\\/\\/|"+n.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[n.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:k("s|tr|y",r.either(...x,{capture:!0}))},{begin:k("s|tr|y","\\(","\\)")},{begin:k("s|tr|y","\\[","\\]")},{begin:k("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:R("(?:m|qr)?",/\//,/\//)},{begin:R("m|qr",r.either(...x,{capture:!0}),/\1/)},{begin:R("m|qr",/\(/,/\)/)},{begin:R("m|qr",/\[/,/\]/)},{begin:R("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[n.TITLE_MODE,b]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[n.TITLE_MODE,b,_]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return p.contains=A,g.contains=A,{name:"Perl",aliases:["pl","pm"],keywords:u,contains:A}}return fg=f,fg}var pg,Jv;function tx(){if(Jv)return pg;Jv=1;function f(n){const r={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},a=/[a-zA-Z@][a-zA-Z0-9_]*/,b={"variable.language":["this","super"],$pattern:a,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},m={$pattern:a,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:b,illegal:"</",contains:[r,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,n.C_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(n.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+m.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:m,contains:[n.UNDERSCORE_TITLE_MODE]},{begin:"\\."+n.UNDERSCORE_IDENT_RE,relevance:0}]}}return pg=f,pg}var hg,eb;function rx(){if(eb)return hg;eb=1;function f(n){const r=n.regex,a=/(?![A-Za-z0-9])(?![$])/,l=r.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,a),u=r.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,a),p=r.concat(/[A-Z]+/,a),g={scope:"variable",match:"\\$+"+l},b={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},m={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},_=n.inherit(n.APOS_STRING_MODE,{illegal:null}),E=n.inherit(n.QUOTE_STRING_MODE,{illegal:null,contains:n.QUOTE_STRING_MODE.contains.concat(m)}),x={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:n.QUOTE_STRING_MODE.contains.concat(m),"on:begin":(re,ee)=>{ee.data._beginMatch=re[1]||re[2]},"on:end":(re,ee)=>{ee.data._beginMatch!==re[1]&&ee.ignoreMatch()}},k=n.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),R=`[ 	
]`,A={scope:"string",variants:[E,_,x,k]},M={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},L=["false","null","true"],q=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],K=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],ue={keyword:q,literal:(re=>{const ee=[];return re.forEach(ie=>{ee.push(ie),ie.toLowerCase()===ie?ee.push(ie.toUpperCase()):ee.push(ie.toLowerCase())}),ee})(L),built_in:K},_e=re=>re.map(ee=>ee.replace(/\|\d+$/,"")),he={variants:[{match:[/new/,r.concat(R,"+"),r.concat("(?!",_e(K).join("\\b|"),"\\b)"),u],scope:{1:"keyword",4:"title.class"}}]},me=r.concat(l,"\\b(?!\\()"),Ge={variants:[{match:[r.concat(/::/,r.lookahead(/(?!class\b)/)),me],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[u,r.concat(/::/,r.lookahead(/(?!class\b)/)),me],scope:{1:"title.class",3:"variable.constant"}},{match:[u,r.concat("::",r.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[u,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},je={scope:"attr",match:r.concat(l,r.lookahead(":"),r.lookahead(/(?!::)/))},Ee={relevance:0,begin:/\(/,end:/\)/,keywords:ue,contains:[je,g,Ge,n.C_BLOCK_COMMENT_MODE,A,M,he]},cn={relevance:0,match:[/\b/,r.concat("(?!fn\\b|function\\b|",_e(q).join("\\b|"),"|",_e(K).join("\\b|"),"\\b)"),l,r.concat(R,"*"),r.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[Ee]};Ee.contains.push(cn);const qe=[je,Ge,n.C_BLOCK_COMMENT_MODE,A,M,he],ge={begin:r.concat(/#\[\s*\\?/,r.either(u,p)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:L,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:L,keyword:["new","array"]},contains:["self",...qe]},...qe,{scope:"meta",variants:[{match:u},{match:p}]}]};return{case_insensitive:!1,keywords:ue,contains:[ge,n.HASH_COMMENT_MODE,n.COMMENT("//","$"),n.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:n.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},b,{scope:"variable.language",match:/\$this\b/},g,cn,Ge,{match:[/const/,/\s/,l],scope:{1:"keyword",3:"variable.constant"}},he,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},n.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:ue,contains:["self",ge,g,Ge,n.C_BLOCK_COMMENT_MODE,A,M]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},n.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[n.inherit(n.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},n.UNDERSCORE_TITLE_MODE]},A,M]}}return hg=f,hg}var gg,nb;function ix(){if(nb)return gg;nb=1;function f(n){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},n.inherit(n.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),n.inherit(n.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}return gg=f,gg}var mg,tb;function ox(){if(tb)return mg;tb=1;function f(n){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}return mg=f,mg}var vg,rb;function sx(){if(rb)return vg;rb=1;function f(n){const r=n.regex,a=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),l=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],b={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:l,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},m={className:"meta",begin:/^(>>>|\.\.\.) /},_={className:"subst",begin:/\{/,end:/\}/,keywords:b,illegal:/#/},E={begin:/\{\{/,relevance:0},x={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,m],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,m],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,m,E,_]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,m,E,_]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[n.BACKSLASH_ESCAPE,E,_]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,E,_]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},k="[0-9](_?[0-9])*",R=`(\\b(${k}))?\\.(${k})|\\b(${k})\\.`,A=`\\b|${l.join("|")}`,M={className:"number",relevance:0,variants:[{begin:`(\\b(${k})|(${R}))[eE][+-]?(${k})[jJ]?(?=${A})`},{begin:`(${R})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${A})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${A})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${A})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${A})`},{begin:`\\b(${k})[jJ](?=${A})`}]},L={className:"comment",begin:r.lookahead(/# type:/),end:/$/,keywords:b,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},q={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:b,contains:["self",m,M,x,n.HASH_COMMENT_MODE]}]};return _.contains=[x,M,m],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:b,illegal:/(<\/|\?)|=>/,contains:[m,M,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},x,L,n.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,a],scope:{1:"keyword",3:"title.function"},contains:[q]},{variants:[{match:[/\bclass/,/\s+/,a,/\s*/,/\(\s*/,a,/\s*\)/]},{match:[/\bclass/,/\s+/,a]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[M,q,x]}]}}return vg=f,vg}var bg,ib;function ax(){if(ib)return bg;ib=1;function f(n){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}return bg=f,bg}var yg,ob;function lx(){if(ob)return yg;ob=1;function f(n){const r=n.regex,a=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,l=r.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),u=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,p=r.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:a,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[n.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:r.lookahead(r.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:a},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),n.HASH_COMMENT_MODE,{scope:"string",contains:[n.BACKSLASH_ESCAPE],variants:[n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[u,l]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,l]},{scope:{1:"punctuation",2:"number"},match:[p,l]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,l]}]},{scope:{3:"operator"},match:[a,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:u},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:p},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}return yg=f,yg}var _g,sb;function cx(){if(sb)return _g;sb=1;function f(n){const r=n.regex,a=/(r#)?/,l=r.concat(a,n.UNDERSCORE_IDENT_RE),u=r.concat(a,n.IDENT_RE),p={className:"title.function.invoke",relevance:0,begin:r.concat(/\b/,/(?!let|for|while|if|else|match\b)/,u,r.lookahead(/\s*\(/))},g="([ui](8|16|32|64|128|size)|f(32|64))?",b=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],m=["true","false","Some","None","Ok","Err"],_=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],E=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:n.IDENT_RE+"!?",type:E,keyword:b,literal:m,built_in:_},illegal:"</",contains:[n.C_LINE_COMMENT_MODE,n.COMMENT("/\\*","\\*/",{contains:["self"]}),n.inherit(n.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+g},{begin:"\\b0o([0-7_]+)"+g},{begin:"\\b0x([A-Fa-f0-9_]+)"+g},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+g}],relevance:0},{begin:[/fn/,/\s+/,l],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,l],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,l,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,l],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,l],className:{1:"keyword",3:"title.class"}},{begin:n.IDENT_RE+"::",keywords:{keyword:"Self",built_in:_,type:E}},{className:"punctuation",begin:"->"},p]}}return _g=f,_g}var Eg,ab;function ux(){if(ab)return Eg;ab=1;const f=m=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:m.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[m.APOS_STRING_MODE,m.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:m.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),n=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],a=[...n,...r],l=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),u=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),p=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),g=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function b(m){const _=f(m),E=p,x=u,k="@[a-z-]+",R="and or not only",M={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[m.C_LINE_COMMENT_MODE,m.C_BLOCK_COMMENT_MODE,_.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},_.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+a.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+x.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+E.join("|")+")"},M,{begin:/\(/,end:/\)/,contains:[_.CSS_NUMBER_MODE]},_.CSS_VARIABLE,{className:"attribute",begin:"\\b("+g.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[_.BLOCK_COMMENT,M,_.HEXCOLOR,_.CSS_NUMBER_MODE,m.QUOTE_STRING_MODE,m.APOS_STRING_MODE,_.IMPORTANT,_.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:k,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:R,attribute:l.join(" ")},contains:[{begin:k,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},M,m.QUOTE_STRING_MODE,m.APOS_STRING_MODE,_.HEXCOLOR,_.CSS_NUMBER_MODE]},_.FUNCTION_DISPATCH]}}return Eg=b,Eg}var wg,lb;function dx(){if(lb)return wg;lb=1;function f(n){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}return wg=f,wg}var Sg,cb;function fx(){if(cb)return Sg;cb=1;function f(n){const r=n.regex,a=n.COMMENT("--","$"),l={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},u={begin:/"/,end:/"/,contains:[{match:/""/}]},p=["true","false","unknown"],g=["double precision","large object","with timezone","without timezone"],b=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],m=["add","asc","collation","desc","final","first","last","view"],_=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],E=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],x=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],k=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],R=E,A=[..._,...m].filter(_e=>!E.includes(_e)),M={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},L={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},q={match:r.concat(/\b/,r.either(...R),/\s*\(/),relevance:0,keywords:{built_in:R}};function K(_e){return r.concat(/\b/,r.either(..._e.map(he=>he.replace(/\s+/,"\\s+"))),/\b/)}const Q={scope:"keyword",match:K(k),relevance:0};function ue(_e,{exceptions:he,when:me}={}){const Ge=me;return he=he||[],_e.map(je=>je.match(/\|\d+$/)||he.includes(je)?je:Ge(je)?`${je}|0`:je)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:ue(A,{when:_e=>_e.length<3}),literal:p,type:b,built_in:x},contains:[{scope:"type",match:K(g)},Q,q,M,l,u,n.C_NUMBER_MODE,n.C_BLOCK_COMMENT_MODE,a,L]}}return Sg=f,Sg}var xg,ub;function px(){if(ub)return xg;ub=1;function f(me){return me?typeof me=="string"?me:me.source:null}function n(me){return r("(?=",me,")")}function r(...me){return me.map(je=>f(je)).join("")}function a(me){const Ge=me[me.length-1];return typeof Ge=="object"&&Ge.constructor===Object?(me.splice(me.length-1,1),Ge):{}}function l(...me){return"("+(a(me).capture?"":"?:")+me.map(Ee=>f(Ee)).join("|")+")"}const u=me=>r(/\b/,me,/\w$/.test(me)?/\b/:/\B/),p=["Protocol","Type"].map(u),g=["init","self"].map(u),b=["Any","Self"],m=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],_=["false","nil","true"],E=["assignment","associativity","higherThan","left","lowerThan","none","right"],x=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],k=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],R=l(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),A=l(R,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),M=r(R,A,"*"),L=l(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),q=l(L,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),K=r(L,q,"*"),Q=r(/[A-Z]/,q,"*"),ue=["attached","autoclosure",r(/convention\(/,l("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",r(/objc\(/,K,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],_e=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function he(me){const Ge={match:/\s+/,relevance:0},je=me.COMMENT("/\\*","\\*/",{contains:["self"]}),Ee=[me.C_LINE_COMMENT_MODE,je],cn={match:[/\./,l(...p,...g)],className:{2:"keyword"}},qe={match:r(/\./,l(...m)),relevance:0},ge=m.filter(gn=>typeof gn=="string").concat(["_|0"]),re=m.filter(gn=>typeof gn!="string").concat(b).map(u),ee={variants:[{className:"keyword",match:l(...re,...g)}]},ie={$pattern:l(/\b\w+/,/#\w+/),keyword:ge.concat(x),literal:_},j=[cn,qe,ee],oe={match:r(/\./,l(...k)),relevance:0},J={className:"built_in",match:r(/\b/,l(...k),/(?=\()/)},P=[oe,J],X={match:/->/,relevance:0},be={className:"operator",relevance:0,variants:[{match:M},{match:`\\.(\\.|${A})+`}]},Ne=[X,be],ye="([0-9]_*)+",We="([0-9a-fA-F]_*)+",Be={className:"number",relevance:0,variants:[{match:`\\b(${ye})(\\.(${ye}))?([eE][+-]?(${ye}))?\\b`},{match:`\\b0x(${We})(\\.(${We}))?([pP][+-]?(${ye}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},Ie=(gn="")=>({className:"subst",variants:[{match:r(/\\/,gn,/[0\\tnr"']/)},{match:r(/\\/,gn,/u\{[0-9a-fA-F]{1,8}\}/)}]}),Ke=(gn="")=>({className:"subst",match:r(/\\/,gn,/[\t ]*(?:[\r\n]|\r\n)/)}),en=(gn="")=>({className:"subst",label:"interpol",begin:r(/\\/,gn,/\(/),end:/\)/}),_n=(gn="")=>({begin:r(gn,/"""/),end:r(/"""/,gn),contains:[Ie(gn),Ke(gn),en(gn)]}),Rn=(gn="")=>({begin:r(gn,/"/),end:r(/"/,gn),contains:[Ie(gn),en(gn)]}),qn={className:"string",variants:[_n(),_n("#"),_n("##"),_n("###"),Rn(),Rn("#"),Rn("##"),Rn("###")]},Gn=[me.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[me.BACKSLASH_ESCAPE]}],hr={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:Gn},Xr=gn=>{const Gt=r(gn,/\//),ct=r(/\//,gn);return{begin:Gt,end:ct,contains:[...Gn,{scope:"comment",begin:`#(?!.*${ct})`,end:/$/}]}},it={scope:"regexp",variants:[Xr("###"),Xr("##"),Xr("#"),hr]},Cr={match:r(/`/,K,/`/)},Zr={className:"variable",match:/\$\d+/},Dt={className:"variable",match:`\\$${q}+`},Yn=[Cr,Zr,Dt],Rr={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:_e,contains:[...Ne,Be,qn]}]}},gr={scope:"keyword",match:r(/@/,l(...ue),n(l(/\(/,/\s+/)))},Rt={scope:"meta",match:r(/@/,K)},pt=[Rr,gr,Rt],et={match:n(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:r(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,q,"+")},{className:"type",match:Q,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:r(/\s+&\s+/,n(Q)),relevance:0}]},zt={begin:/</,end:/>/,keywords:ie,contains:[...Ee,...j,...pt,X,et]};et.contains.push(zt);const Bt={match:r(K,/\s*:/),keywords:"_|0",relevance:0},Qr={begin:/\(/,end:/\)/,relevance:0,keywords:ie,contains:["self",Bt,...Ee,it,...j,...P,...Ne,Be,qn,...Yn,...pt,et]},Ft={begin:/</,end:/>/,keywords:"repeat each",contains:[...Ee,et]},mr={begin:l(n(r(K,/\s*:/)),n(r(K,/\s+/,K,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:K}]},Ar={begin:/\(/,end:/\)/,keywords:ie,contains:[mr,...Ee,...j,...Ne,Be,qn,...pt,et,Qr],endsParent:!0,illegal:/["']/},Mr={match:[/(func|macro)/,/\s+/,l(Cr.match,K,M)],className:{1:"keyword",3:"title.function"},contains:[Ft,Ar,Ge],illegal:[/\[/,/%/]},St={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Ft,Ar,Ge],illegal:/\[|%/},vr={match:[/operator/,/\s+/,M],className:{1:"keyword",3:"title"}},Nr={begin:[/precedencegroup/,/\s+/,Q],className:{1:"keyword",3:"title"},contains:[et],keywords:[...E,..._],end:/}/},Or={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},bi={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Pr={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,K,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:ie,contains:[Ft,...j,{begin:/:/,end:/\{/,keywords:ie,contains:[{scope:"title.class.inherited",match:Q},...j],relevance:0}]};for(const gn of qn.variants){const Gt=gn.contains.find(Ir=>Ir.label==="interpol");Gt.keywords=ie;const ct=[...j,...P,...Ne,Be,qn,...Yn];Gt.contains=[...ct,{begin:/\(/,end:/\)/,contains:["self",...ct]}]}return{name:"Swift",keywords:ie,contains:[...Ee,Mr,St,Or,bi,Pr,vr,Nr,{beginKeywords:"import",end:/$/,contains:[...Ee],relevance:0},it,...j,...P,...Ne,Be,qn,...Yn,...pt,et,Qr]}}return xg=he,xg}var kg,db;function hx(){if(db)return kg;db=1;function f(n){const r="true false yes no null",a="[\\w#;/?:@&=+$,.~*'()[\\]]+",l={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},u={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},p={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},g={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[n.BACKSLASH_ESCAPE,u]},b=n.inherit(g,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),k={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},R={end:",",endsWithParent:!0,excludeEnd:!0,keywords:r,relevance:0},A={begin:/\{/,end:/\}/,contains:[R],illegal:"\\n",relevance:0},M={begin:"\\[",end:"\\]",contains:[R],illegal:"\\n",relevance:0},L=[l,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+a},{className:"type",begin:"!<"+a+">"},{className:"type",begin:"!"+a},{className:"type",begin:"!!"+a},{className:"meta",begin:"&"+n.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+n.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},n.HASH_COMMENT_MODE,{beginKeywords:r,keywords:{literal:r}},k,{className:"number",begin:n.C_NUMBER_RE+"\\b",relevance:0},A,M,p,g],q=[...L];return q.pop(),q.push(b),R.contains=q,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:L}}return kg=f,kg}var Tg,fb;function gx(){if(fb)return Tg;fb=1;const f="[A-Za-z$_][0-9A-Za-z$_]*",n=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],r=["true","false","null","undefined","NaN","Infinity"],a=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],l=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],u=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],p=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],g=[].concat(u,a,l);function b(_){const E=_.regex,x=(Ie,{after:Ke})=>{const en="</"+Ie[0].slice(1);return Ie.input.indexOf(en,Ke)!==-1},k=f,R={begin:"<>",end:"</>"},A=/<[A-Za-z0-9\\._:-]+\s*\/>/,M={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(Ie,Ke)=>{const en=Ie[0].length+Ie.index,_n=Ie.input[en];if(_n==="<"||_n===","){Ke.ignoreMatch();return}_n===">"&&(x(Ie,{after:en})||Ke.ignoreMatch());let Rn;const qn=Ie.input.substring(en);if(Rn=qn.match(/^\s*=/)){Ke.ignoreMatch();return}if((Rn=qn.match(/^\s+extends\s+/))&&Rn.index===0){Ke.ignoreMatch();return}}},L={$pattern:f,keyword:n,literal:r,built_in:g,"variable.language":p},q="[0-9](_?[0-9])*",K=`\\.(${q})`,Q="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",ue={className:"number",variants:[{begin:`(\\b(${Q})((${K})|\\.)?|(${K}))[eE][+-]?(${q})\\b`},{begin:`\\b(${Q})\\b((${K})\\b|\\.)?|(${K})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},_e={className:"subst",begin:"\\$\\{",end:"\\}",keywords:L,contains:[]},he={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[_.BACKSLASH_ESCAPE,_e],subLanguage:"xml"}},me={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[_.BACKSLASH_ESCAPE,_e],subLanguage:"css"}},Ge={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[_.BACKSLASH_ESCAPE,_e],subLanguage:"graphql"}},je={className:"string",begin:"`",end:"`",contains:[_.BACKSLASH_ESCAPE,_e]},cn={className:"comment",variants:[_.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:k+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),_.C_BLOCK_COMMENT_MODE,_.C_LINE_COMMENT_MODE]},qe=[_.APOS_STRING_MODE,_.QUOTE_STRING_MODE,he,me,Ge,je,{match:/\$\d+/},ue];_e.contains=qe.concat({begin:/\{/,end:/\}/,keywords:L,contains:["self"].concat(qe)});const ge=[].concat(cn,_e.contains),re=ge.concat([{begin:/(\s*)\(/,end:/\)/,keywords:L,contains:["self"].concat(ge)}]),ee={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:L,contains:re},ie={variants:[{match:[/class/,/\s+/,k,/\s+/,/extends/,/\s+/,E.concat(k,"(",E.concat(/\./,k),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,k],scope:{1:"keyword",3:"title.class"}}]},j={relevance:0,match:E.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...a,...l]}},oe={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},J={variants:[{match:[/function/,/\s+/,k,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[ee],illegal:/%/},P={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function X(Ie){return E.concat("(?!",Ie.join("|"),")")}const be={match:E.concat(/\b/,X([...u,"super","import"].map(Ie=>`${Ie}\\s*\\(`)),k,E.lookahead(/\s*\(/)),className:"title.function",relevance:0},Ne={begin:E.concat(/\./,E.lookahead(E.concat(k,/(?![0-9A-Za-z$_(])/))),end:k,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ye={match:[/get|set/,/\s+/,k,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},ee]},We="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+_.UNDERSCORE_IDENT_RE+")\\s*=>",Be={match:[/const|var|let/,/\s+/,k,/\s*/,/=\s*/,/(async\s*)?/,E.lookahead(We)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[ee]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:L,exports:{PARAMS_CONTAINS:re,CLASS_REFERENCE:j},illegal:/#(?![$_A-z])/,contains:[_.SHEBANG({label:"shebang",binary:"node",relevance:5}),oe,_.APOS_STRING_MODE,_.QUOTE_STRING_MODE,he,me,Ge,je,cn,{match:/\$\d+/},ue,j,{scope:"attr",match:k+E.lookahead(":"),relevance:0},Be,{begin:"("+_.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[cn,_.REGEXP_MODE,{className:"function",begin:We,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:_.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:L,contains:re}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:R.begin,end:R.end},{match:A},{begin:M.begin,"on:begin":M.isTrulyOpeningTag,end:M.end}],subLanguage:"xml",contains:[{begin:M.begin,end:M.end,skip:!0,contains:["self"]}]}]},J,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+_.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[ee,_.inherit(_.TITLE_MODE,{begin:k,className:"title.function"})]},{match:/\.\.\./,relevance:0},Ne,{match:"\\$"+k,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[ee]},be,P,ie,ye,{match:/\$[(.]/}]}}function m(_){const E=_.regex,x=b(_),k=f,R=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],A={begin:[/namespace/,/\s+/,_.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},M={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:R},contains:[x.exports.CLASS_REFERENCE]},L={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},q=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],K={$pattern:f,keyword:n.concat(q),literal:r,built_in:g.concat(R),"variable.language":p},Q={className:"meta",begin:"@"+k},ue=(Ge,je,Ee)=>{const cn=Ge.contains.findIndex(qe=>qe.label===je);if(cn===-1)throw new Error("can not find mode to replace");Ge.contains.splice(cn,1,Ee)};Object.assign(x.keywords,K),x.exports.PARAMS_CONTAINS.push(Q);const _e=x.contains.find(Ge=>Ge.scope==="attr"),he=Object.assign({},_e,{match:E.concat(k,E.lookahead(/\s*\?:/))});x.exports.PARAMS_CONTAINS.push([x.exports.CLASS_REFERENCE,_e,he]),x.contains=x.contains.concat([Q,A,M,he]),ue(x,"shebang",_.SHEBANG()),ue(x,"use_strict",L);const me=x.contains.find(Ge=>Ge.label==="func.def");return me.relevance=0,Object.assign(x,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),x}return Tg=m,Tg}var Cg,pb;function mx(){if(pb)return Cg;pb=1;function f(n){const r=n.regex,a={className:"string",begin:/"(""|[^/n])"C\b/},l={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},u=/\d{1,2}\/\d{1,2}\/\d{4}/,p=/\d{4}-\d{1,2}-\d{1,2}/,g=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,b=/\d{1,2}(:\d{1,2}){1,2}/,m={className:"literal",variants:[{begin:r.concat(/# */,r.either(p,u),/ *#/)},{begin:r.concat(/# */,b,/ *#/)},{begin:r.concat(/# */,g,/ *#/)},{begin:r.concat(/# */,r.either(p,u),/ +/,r.either(g,b),/ *#/)}]},_={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},E={className:"label",begin:/^\w+:/},x=n.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),k=n.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[a,l,m,_,E,x,k,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[k]}]}}return Cg=f,Cg}var Rg,hb;function vx(){if(hb)return Rg;hb=1;function f(n){n.regex;const r=n.COMMENT(/\(;/,/;\)/);r.contains.push("self");const a=n.COMMENT(/;;/,/$/),l=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],u={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},p={className:"variable",begin:/\$[\w_]+/},g={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},b={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},m={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},_={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:l},contains:[a,r,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},p,g,u,n.QUOTE_STRING_MODE,m,_,b]}}return Rg=f,Rg}var Ag,gb;function bx(){if(gb)return Ag;gb=1;var f=LS();return f.registerLanguage("xml",DS()),f.registerLanguage("bash",zS()),f.registerLanguage("c",BS()),f.registerLanguage("cpp",FS()),f.registerLanguage("csharp",US()),f.registerLanguage("css",$S()),f.registerLanguage("markdown",jS()),f.registerLanguage("diff",WS()),f.registerLanguage("ruby",HS()),f.registerLanguage("go",qS()),f.registerLanguage("graphql",GS()),f.registerLanguage("ini",KS()),f.registerLanguage("java",VS()),f.registerLanguage("javascript",YS()),f.registerLanguage("json",XS()),f.registerLanguage("kotlin",ZS()),f.registerLanguage("less",QS()),f.registerLanguage("lua",JS()),f.registerLanguage("makefile",ex()),f.registerLanguage("perl",nx()),f.registerLanguage("objectivec",tx()),f.registerLanguage("php",rx()),f.registerLanguage("php-template",ix()),f.registerLanguage("plaintext",ox()),f.registerLanguage("python",sx()),f.registerLanguage("python-repl",ax()),f.registerLanguage("r",lx()),f.registerLanguage("rust",cx()),f.registerLanguage("scss",ux()),f.registerLanguage("shell",dx()),f.registerLanguage("sql",fx()),f.registerLanguage("swift",px()),f.registerLanguage("yaml",hx()),f.registerLanguage("typescript",gx()),f.registerLanguage("vbnet",mx()),f.registerLanguage("wasm",vx()),f.HighlightJS=f,f.default=f,Ag=f,Ag}var yx=bx();const Ug=jg(yx);function _x(f){if(typeof f=="function"&&(f={highlight:f}),!f||typeof f.highlight!="function")throw new Error("Must provide highlight function");return typeof f.langPrefix!="string"&&(f.langPrefix="language-"),typeof f.emptyLangClass!="string"&&(f.emptyLangClass=""),{async:!!f.async,walkTokens(n){if(n.type!=="code")return;const r=mb(n.lang);if(f.async)return Promise.resolve(f.highlight(n.text,r,n.lang||"")).then(vb(n));const a=f.highlight(n.text,r,n.lang||"");if(a instanceof Promise)throw new Error("markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.");vb(n)(a)},useNewRenderer:!0,renderer:{code(n,r,a){typeof n=="object"&&(a=n.escaped,r=n.lang,n=n.text);const l=mb(r),u=l?f.langPrefix+yb(l):f.emptyLangClass,p=u?` class="${u}"`:"";return n=n.replace(/\n$/,""),`<pre><code${p}>${a?n:yb(n,!0)}
</code></pre>`}}}}function mb(f){return(f||"").match(/\S*/)[0]}function vb(f){return n=>{typeof n=="string"&&n!==f.text&&(f.escaped=!0,f.text=n)}}const my=/[&<>"']/,Ex=new RegExp(my.source,"g"),vy=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,wx=new RegExp(vy.source,"g"),Sx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bb=f=>Sx[f];function yb(f,n){if(n){if(my.test(f))return f.replace(Ex,bb)}else if(vy.test(f))return f.replace(wx,bb);return f}const $g="code-copy-btn",xx=()=>{const f=async function(){var l;const a=(l=this.nextElementSibling)==null?void 0:l.querySelector("code");if(a){const u=a.textContent||"";try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(u);else{const g=document.createElement("textarea");g.value=u,g.style.position="fixed",g.style.left="-999999px",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}const p=this;p.textContent="复制成功！",setTimeout(()=>{p.textContent="复制"},1e3)}catch(p){console.error("Copy failed",p);const g=this;g.textContent="复制失败！",setTimeout(()=>{g.textContent="复制"},1e3)}}};return{registerCopy:()=>{document.querySelectorAll(`.${$g}`).forEach(l=>{l.addEventListener("click",f)})},unregisterCopy:()=>{document.querySelectorAll(`.${$g}`).forEach(l=>{l.removeEventListener("click",f)})}}};function _b(f){return f.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const kx=_x({langPrefix:"hljs language-",highlight(f,n){const r=Ug.getLanguage(n)?n:"plaintext";return Ug.highlight(f,{language:r}).value}}),by={code(f,n){const r=Ug.getLanguage(n||"")?n:"plaintext";return`
      <div class="relative group">
        <button
          class="${$g} hover:cursor-pointer
          absolute right-2 top-2 opacity-0
          group-hover:opacity-100 transition-opacity
          duration-200 px-2 py-1 rounded text-sm
          bg-white/10 hover:bg-white/20 text-gray-400
          hover:text-gray-300"
        >
          复制
        </button>
        <pre><code class="hljs language-${r}">${f.text}</code></pre>
      </div>`},codespan({text:f}){return`<code class="inline-code">${_b(f)}</code>`},html({text:f}){return _b(f)},image({href:f,title:n,text:r}){return f!=null&&f.match(/\.(mp4|webm|ogg)$/i)?`
        <a 
          href="${f}" 
          data-fancybox="gallery"
          data-type="video"
        >
          <video class="w-full rounded-lg">
            <source src="${f}" type="video/${f.split(".").pop()}" />
          </video>
        </a>
      `:`
      <a 
        href="${f}" 
        data-fancybox="gallery"
      >
        <img 
          src="${f}" 
          alt="${r||""}" 
          title="${n||""}"
          class="cursor-zoom-in rounded-lg"
          loading="lazy"
        />
      </a>
    `},link({href:f,title:n,tokens:r}){var a;return`<a href="${f}" target="_blank" rel="noopener noreferrer" title="${n}">${(a=r==null?void 0:r[0])==null?void 0:a.raw}</a>`},heading({text:f,depth:n}){const r=f.toLowerCase().replace(/[^a-zA-Z0-9\u4e00-\u9fa5]+/g,"-");return`<h${n} id="${r}">${f}</h${n}>`}},Tx={gfm:!0,breaks:!0,renderer:by};Ln.use(kx);const Cx=()=>{const{registerCopy:f,unregisterCopy:n}=xx(),r=Ab(),[a,l]=Se.useState(),[u,p]=Se.useState(!0);Se.useEffect(()=>{if(p(!0),!r.id){p(!1);return}const b=Md.find(m=>m.id===r.id);l(b),p(!1)},[r.id]),Se.useEffect(()=>{if(a)return xn.destroy(),xn.bind(document.body,'[data-fancybox="gallery"]',{compact:!1,idle:!1,wheel:"zoom",dragToClose:!1,contentClick:"iterateZoom",Hash:!1,Images:{zoom:!0,Panzoom:{maxScale:5}},Toolbar:{enabled:!0,display:{left:["infobar"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","thumbs","close"]}}}),f(),()=>{xn.destroy(),n()}},[a]);const g=Se.useMemo(()=>{if(!a)return{content:"",headings:[]};const m=Ln.lexer(a.content).filter(R=>R.type==="heading"&&R.depth>=2),_=new Map,E=R=>{const A=R.toLowerCase().replace(/[^a-zA-Z0-9\u4e00-\u9fa5]+/g,"-"),M=_.get(R)||[],L=M.length===0?A:`${A}-${M.length}`;return M.push(L),_.set(R,M),L},x=m.map(R=>({id:E(R.text),text:R.text,level:R.depth}));return _.clear(),Ln.use({...Tx,renderer:{...by,heading({text:R,depth:A}){const M=E(R);return`<h${A} id="${M}">${R}</h${A}>`}}}),{content:Qw.sanitize(Ln.parse(a.content),{ADD_ATTR:["target"]}),headings:x}},[a]);return u?null:a?Me.jsx("div",{className:"mt-10",children:Me.jsxs("div",{className:"relative",children:[Me.jsx(hw,{headings:g.headings,title:a.title}),Me.jsxs("div",{className:"max-w-192 mx-auto",children:[Me.jsx("h1",{id:"article-title",className:"my-6 text-3xl font-bold",children:a.title}),Me.jsx("div",{className:"mb-4 text-xs text-stone-400",children:`发布于 ${Pg(a.date).format("YYYY.MM.DD")} | 字数 ${a.wordCount}`}),Me.jsx("article",{className:"prose prose-stone lg:prose-lg dark:prose-invert prose-headings:font-bold prose-h1:text-2xl prose-h2:text-xl prose-h3:text-lg prose-a:text-blue-600 max-w-none !font-normal [&_pre]:!m-0 [&_pre]:!bg-transparent [&_pre]:!p-0 [&_pre_code]:!font-mono [&_pre_code]:!text-sm",dangerouslySetInnerHTML:{__html:g.content}})]})]})}):Me.jsx(Lb,{message:"文章地址已改变，请回到主页重新浏览"})},Rx=Object.freeze(Object.defineProperty({__proto__:null,default:Cx},Symbol.toStringTag,{value:"Module"})),Ax=()=>{const[f,n]=Se.useState([]);return Se.useEffect(()=>{const r=Md.reduce((l,u)=>(u.tags.forEach(p=>{l[p]=(l[p]||0)+1}),l),{}),a=Object.entries(r).map(([l,u])=>({name:l,count:u}));n(a)},[Md]),Me.jsx("div",{className:"mt-10 text-center",children:Me.jsx("ul",{className:"m-0 flex flex-wrap justify-center p-0",children:f.map(r=>Me.jsxs("li",{className:"m-2 ml-0 flex flex-[46%] items-center text-left",children:[Me.jsx(aw,{}),Me.jsx(Xc,{to:`/tags/${r.name}`,children:Me.jsx("span",{className:"hover:text-[#3370FF] active:text-[#3370FF]",children:r.name})}),Me.jsx("span",{className:"relative left-[4px] top-[-6px] text-xs text-[#999]",children:r.count})]},r.name))})})},Mx=()=>{const{tag:f}=Ab(),n=Md.filter(r=>r.tags.includes(f||""));return Me.jsx(Ib,{articles:n})},Nx=()=>Me.jsxs("div",{className:"relative mt-10",children:[Me.jsx("h1",{className:"text-2xl font-bold",children:"👋 Hi, I'm Percy Kuang 👨‍💻‍"}),Me.jsx("p",{className:"mt-4 text-base leading-10",children:"一个专注于前端开发的工程师，喜欢研究技术，喜欢分享，喜欢学习，喜欢思考。大学毕业后在字节跳动的飞书部门工作了三年，对 B 端产品有深入的了解，对用户体验有深入的思考，享受将一个个想法落地成现实的过程。具体到技术方面，对工程化、组件化、 框架原理、性能优化、代码规范等都有深入的了解和实践，我也喜欢将这些技术以及思考记录下来，如果你对我研究的东西感兴趣，可以关注我的博客内容。"}),Me.jsx("p",{className:"mt-1 text-base leading-10",children:"工作之外，我喜欢看电影、听音乐、打游戏，如果假期时间比较长，我也会出去旅游，看看外面的世界。"})]}),Ox=Se.lazy(()=>rE(()=>Promise.resolve().then(()=>Rx),void 0)),Px=()=>Me.jsx(tw,{children:Me.jsxs("div",{className:"max-w-192 mx-auto mb-0 mt-10 pb-20",children:[Me.jsx(sw,{}),Me.jsx("div",{className:"max-md:mx-4 max-md:my-0",children:Me.jsx(Se.Suspense,{fallback:Me.jsx("div",{className:"mt-32 flex items-center justify-center",children:Me.jsx(gw,{size:32})}),children:Me.jsxs(YE,{children:[Me.jsx(gl,{path:"/",element:Me.jsx(mw,{})}),Me.jsx(gl,{path:"/tags",element:Me.jsx(Ax,{})}),Me.jsx(gl,{path:"/tags/:tag",element:Me.jsx(Mx,{})}),Me.jsx(gl,{path:"/articles/:id",element:Me.jsx(Ox,{})}),Me.jsx(gl,{path:"/about-me",element:Me.jsx(Nx,{})}),Me.jsx(gl,{path:"*",element:Me.jsx(Lb,{})})]})})})]})});eE.createRoot(document.getElementById("root")).render(Me.jsx(Se.StrictMode,{children:Me.jsx(Px,{})}));
